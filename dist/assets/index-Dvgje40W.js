(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function et(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sm={exports:{}},hl={},_m={exports:{}},Ge={};var US;function R4(){if(US)return Ge;US=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function g(U){return U===null||typeof U!="object"?null:(U=h&&U[h]||U["@@iterator"],typeof U=="function"?U:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,S={};function w(U,Y,ue){this.props=U,this.context=Y,this.refs=S,this.updater=ue||y}w.prototype.isReactComponent={},w.prototype.setState=function(U,Y){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Y,"setState")},w.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=w.prototype;function T(U,Y,ue){this.props=U,this.context=Y,this.refs=S,this.updater=ue||y}var C=T.prototype=new j;C.constructor=T,N(C,w.prototype),C.isPureReactComponent=!0;var A=Array.isArray,E=Object.prototype.hasOwnProperty,P={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function M(U,Y,ue){var ye,Ce={},De=null,Ve=null;if(Y!=null)for(ye in Y.ref!==void 0&&(Ve=Y.ref),Y.key!==void 0&&(De=""+Y.key),Y)E.call(Y,ye)&&!O.hasOwnProperty(ye)&&(Ce[ye]=Y[ye]);var Fe=arguments.length-2;if(Fe===1)Ce.children=ue;else if(1<Fe){for(var le=Array(Fe),Ae=0;Ae<Fe;Ae++)le[Ae]=arguments[Ae+2];Ce.children=le}if(U&&U.defaultProps)for(ye in Fe=U.defaultProps,Fe)Ce[ye]===void 0&&(Ce[ye]=Fe[ye]);return{$$typeof:t,type:U,key:De,ref:Ve,props:Ce,_owner:P.current}}function D(U,Y){return{$$typeof:t,type:U.type,key:Y,ref:U.ref,props:U.props,_owner:U._owner}}function G(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function B(U){var Y={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return Y[ue]})}var F=/\/+/g;function K(U,Y){return typeof U=="object"&&U!==null&&U.key!=null?B(""+U.key):Y.toString(36)}function J(U,Y,ue,ye,Ce){var De=typeof U;(De==="undefined"||De==="boolean")&&(U=null);var Ve=!1;if(U===null)Ve=!0;else switch(De){case"string":case"number":Ve=!0;break;case"object":switch(U.$$typeof){case t:case e:Ve=!0}}if(Ve)return Ve=U,Ce=Ce(Ve),U=ye===""?"."+K(Ve,0):ye,A(Ce)?(ue="",U!=null&&(ue=U.replace(F,"$&/")+"/"),J(Ce,Y,ue,"",function(Ae){return Ae})):Ce!=null&&(G(Ce)&&(Ce=D(Ce,ue+(!Ce.key||Ve&&Ve.key===Ce.key?"":(""+Ce.key).replace(F,"$&/")+"/")+U)),Y.push(Ce)),1;if(Ve=0,ye=ye===""?".":ye+":",A(U))for(var Fe=0;Fe<U.length;Fe++){De=U[Fe];var le=ye+K(De,Fe);Ve+=J(De,Y,ue,le,Ce)}else if(le=g(U),typeof le=="function")for(U=le.call(U),Fe=0;!(De=U.next()).done;)De=De.value,le=ye+K(De,Fe++),Ve+=J(De,Y,ue,le,Ce);else if(De==="object")throw Y=String(U),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ve}function Z(U,Y,ue){if(U==null)return U;var ye=[],Ce=0;return J(U,ye,"","",function(De){return Y.call(ue,De,Ce++)}),ye}function H(U){if(U._status===-1){var Y=U._result;Y=Y(),Y.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=Y)}if(U._status===1)return U._result.default;throw U._result}var z={current:null},W={transition:null},ee={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:W,ReactCurrentOwner:P};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:Z,forEach:function(U,Y,ue){Z(U,function(){Y.apply(this,arguments)},ue)},count:function(U){var Y=0;return Z(U,function(){Y++}),Y},toArray:function(U){return Z(U,function(Y){return Y})||[]},only:function(U){if(!G(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ge.Component=w,Ge.Fragment=n,Ge.Profiler=i,Ge.PureComponent=T,Ge.StrictMode=r,Ge.Suspense=f,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Ge.act=ne,Ge.cloneElement=function(U,Y,ue){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ye=N({},U.props),Ce=U.key,De=U.ref,Ve=U._owner;if(Y!=null){if(Y.ref!==void 0&&(De=Y.ref,Ve=P.current),Y.key!==void 0&&(Ce=""+Y.key),U.type&&U.type.defaultProps)var Fe=U.type.defaultProps;for(le in Y)E.call(Y,le)&&!O.hasOwnProperty(le)&&(ye[le]=Y[le]===void 0&&Fe!==void 0?Fe[le]:Y[le])}var le=arguments.length-2;if(le===1)ye.children=ue;else if(1<le){Fe=Array(le);for(var Ae=0;Ae<le;Ae++)Fe[Ae]=arguments[Ae+2];ye.children=Fe}return{$$typeof:t,type:U.type,key:Ce,ref:De,props:ye,_owner:Ve}},Ge.createContext=function(U){return U={$$typeof:o,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Ge.createElement=M,Ge.createFactory=function(U){var Y=M.bind(null,U);return Y.type=U,Y},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(U){return{$$typeof:c,render:U}},Ge.isValidElement=G,Ge.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:H}},Ge.memo=function(U,Y){return{$$typeof:d,type:U,compare:Y===void 0?null:Y}},Ge.startTransition=function(U){var Y=W.transition;W.transition={};try{U()}finally{W.transition=Y}},Ge.unstable_act=ne,Ge.useCallback=function(U,Y){return z.current.useCallback(U,Y)},Ge.useContext=function(U){return z.current.useContext(U)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(U){return z.current.useDeferredValue(U)},Ge.useEffect=function(U,Y){return z.current.useEffect(U,Y)},Ge.useId=function(){return z.current.useId()},Ge.useImperativeHandle=function(U,Y,ue){return z.current.useImperativeHandle(U,Y,ue)},Ge.useInsertionEffect=function(U,Y){return z.current.useInsertionEffect(U,Y)},Ge.useLayoutEffect=function(U,Y){return z.current.useLayoutEffect(U,Y)},Ge.useMemo=function(U,Y){return z.current.useMemo(U,Y)},Ge.useReducer=function(U,Y,ue){return z.current.useReducer(U,Y,ue)},Ge.useRef=function(U){return z.current.useRef(U)},Ge.useState=function(U){return z.current.useState(U)},Ge.useSyncExternalStore=function(U,Y,ue){return z.current.useSyncExternalStore(U,Y,ue)},Ge.useTransition=function(){return z.current.useTransition()},Ge.version="18.3.1",Ge}var BS;function Mb(){return BS||(BS=1,_m.exports=R4()),_m.exports}var qS;function M4(){if(qS)return hl;qS=1;var t=Mb(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(c,f,d){var p,h={},g=null,y=null;d!==void 0&&(g=""+d),f.key!==void 0&&(g=""+f.key),f.ref!==void 0&&(y=f.ref);for(p in f)r.call(f,p)&&!a.hasOwnProperty(p)&&(h[p]=f[p]);if(c&&c.defaultProps)for(p in f=c.defaultProps,f)h[p]===void 0&&(h[p]=f[p]);return{$$typeof:e,type:c,key:g,ref:y,props:h,_owner:i.current}}return hl.Fragment=n,hl.jsx=o,hl.jsxs=o,hl}var GS;function D4(){return GS||(GS=1,Sm.exports=M4()),Sm.exports}var s=D4(),R=Mb();const L=et(R);var Qu={},jm={exports:{}},Sn={},km={exports:{}},Am={};var HS;function L4(){return HS||(HS=1,(function(t){function e(W,ee){var ne=W.length;W.push(ee);e:for(;0<ne;){var U=ne-1>>>1,Y=W[U];if(0<i(Y,ee))W[U]=ee,W[ne]=Y,ne=U;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ee=W[0],ne=W.pop();if(ne!==ee){W[0]=ne;e:for(var U=0,Y=W.length,ue=Y>>>1;U<ue;){var ye=2*(U+1)-1,Ce=W[ye],De=ye+1,Ve=W[De];if(0>i(Ce,ne))De<Y&&0>i(Ve,Ce)?(W[U]=Ve,W[De]=ne,U=De):(W[U]=Ce,W[ye]=ne,U=ye);else if(De<Y&&0>i(Ve,ne))W[U]=Ve,W[De]=ne,U=De;else break e}}return ee}function i(W,ee){var ne=W.sortIndex-ee.sortIndex;return ne!==0?ne:W.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var f=[],d=[],p=1,h=null,g=3,y=!1,N=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(W){for(var ee=n(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=W)r(d),ee.sortIndex=ee.expirationTime,e(f,ee);else break;ee=n(d)}}function A(W){if(S=!1,C(W),!N)if(n(f)!==null)N=!0,H(E);else{var ee=n(d);ee!==null&&z(A,ee.startTime-W)}}function E(W,ee){N=!1,S&&(S=!1,j(M),M=-1),y=!0;var ne=g;try{for(C(ee),h=n(f);h!==null&&(!(h.expirationTime>ee)||W&&!B());){var U=h.callback;if(typeof U=="function"){h.callback=null,g=h.priorityLevel;var Y=U(h.expirationTime<=ee);ee=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(f)&&r(f),C(ee)}else r(f);h=n(f)}if(h!==null)var ue=!0;else{var ye=n(d);ye!==null&&z(A,ye.startTime-ee),ue=!1}return ue}finally{h=null,g=ne,y=!1}}var P=!1,O=null,M=-1,D=5,G=-1;function B(){return!(t.unstable_now()-G<D)}function F(){if(O!==null){var W=t.unstable_now();G=W;var ee=!0;try{ee=O(!0,W)}finally{ee?K():(P=!1,O=null)}}else P=!1}var K;if(typeof T=="function")K=function(){T(F)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,Z=J.port2;J.port1.onmessage=F,K=function(){Z.postMessage(null)}}else K=function(){w(F,0)};function H(W){O=W,P||(P=!0,K())}function z(W,ee){M=w(function(){W(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){N||y||(N=!0,H(E))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(W){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var ne=g;g=ee;try{return W()}finally{g=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ee){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ne=g;g=W;try{return ee()}finally{g=ne}},t.unstable_scheduleCallback=function(W,ee,ne){var U=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?U+ne:U):ne=U,W){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ne+Y,W={id:p++,callback:ee,priorityLevel:W,startTime:ne,expirationTime:Y,sortIndex:-1},ne>U?(W.sortIndex=ne,e(d,W),n(f)===null&&W===n(d)&&(S?(j(M),M=-1):S=!0,z(A,ne-U))):(W.sortIndex=Y,e(f,W),N||y||(N=!0,H(E))),W},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(W){var ee=g;return function(){var ne=g;g=ee;try{return W.apply(this,arguments)}finally{g=ne}}}})(Am)),Am}var zS;function $4(){return zS||(zS=1,km.exports=L4()),km.exports}var VS;function F4(){if(VS)return Sn;VS=1;var t=Mb(),e=$4();function n(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(l,u){o(l,u),o(l+"Capture",u)}function o(l,u){for(i[l]=u,l=0;l<u.length;l++)r.add(u[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function g(l){return f.call(h,l)?!0:f.call(p,l)?!1:d.test(l)?h[l]=!0:(p[l]=!0,!1)}function y(l,u,m,b){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return b?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function N(l,u,m,b){if(u===null||typeof u>"u"||y(l,u,m,b))return!0;if(b)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function S(l,u,m,b,_,k,I){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=b,this.attributeNamespace=_,this.mustUseProperty=m,this.propertyName=l,this.type=u,this.sanitizeURL=k,this.removeEmptyString=I}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){w[l]=new S(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];w[u]=new S(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){w[l]=new S(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){w[l]=new S(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){w[l]=new S(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){w[l]=new S(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){w[l]=new S(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){w[l]=new S(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){w[l]=new S(l,5,!1,l.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function T(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(j,T);w[u]=new S(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(j,T);w[u]=new S(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(j,T);w[u]=new S(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){w[l]=new S(l,1,!1,l.toLowerCase(),null,!1,!1)}),w.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){w[l]=new S(l,1,!1,l.toLowerCase(),null,!0,!0)});function C(l,u,m,b){var _=w.hasOwnProperty(u)?w[u]:null;(_!==null?_.type!==0:b||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(N(u,m,_,b)&&(m=null),b||_===null?g(u)&&(m===null?l.removeAttribute(u):l.setAttribute(u,""+m)):_.mustUseProperty?l[_.propertyName]=m===null?_.type===3?!1:"":m:(u=_.attributeName,b=_.attributeNamespace,m===null?l.removeAttribute(u):(_=_.type,m=_===3||_===4&&m===!0?"":""+m,b?l.setAttributeNS(b,u,m):l.setAttribute(u,m))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),P=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),B=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),W=Symbol.iterator;function ee(l){return l===null||typeof l!="object"?null:(l=W&&l[W]||l["@@iterator"],typeof l=="function"?l:null)}var ne=Object.assign,U;function Y(l){if(U===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);U=u&&u[1]||""}return`
`+U+l}var ue=!1;function ye(l,u){if(!l||ue)return"";ue=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(te){var b=te}Reflect.construct(l,[],u)}else{try{u.call()}catch(te){b=te}l.call(u.prototype)}else{try{throw Error()}catch(te){b=te}l()}}catch(te){if(te&&b&&typeof te.stack=="string"){for(var _=te.stack.split(`
`),k=b.stack.split(`
`),I=_.length-1,$=k.length-1;1<=I&&0<=$&&_[I]!==k[$];)$--;for(;1<=I&&0<=$;I--,$--)if(_[I]!==k[$]){if(I!==1||$!==1)do if(I--,$--,0>$||_[I]!==k[$]){var q=`
`+_[I].replace(" at new "," at ");return l.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",l.displayName)),q}while(1<=I&&0<=$);break}}}finally{ue=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?Y(l):""}function Ce(l){switch(l.tag){case 5:return Y(l.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return l=ye(l.type,!1),l;case 11:return l=ye(l.type.render,!1),l;case 1:return l=ye(l.type,!0),l;default:return""}}function De(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case O:return"Fragment";case P:return"Portal";case D:return"Profiler";case M:return"StrictMode";case K:return"Suspense";case J:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case B:return(l.displayName||"Context")+".Consumer";case G:return(l._context.displayName||"Context")+".Provider";case F:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Z:return u=l.displayName||null,u!==null?u:De(l.type)||"Memo";case H:u=l._payload,l=l._init;try{return De(l(u))}catch{}}return null}function Ve(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(u);case 8:return u===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Fe(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function le(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ae(l){var u=le(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),b=""+l[u];if(!l.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var _=m.get,k=m.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return _.call(this)},set:function(I){b=""+I,k.call(this,I)}}),Object.defineProperty(l,u,{enumerable:m.enumerable}),{getValue:function(){return b},setValue:function(I){b=""+I},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Ue(l){l._valueTracker||(l._valueTracker=Ae(l))}function se(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var m=u.getValue(),b="";return l&&(b=le(l)?l.checked?"true":"false":l.value),l=b,l!==m?(u.setValue(l),!0):!1}function at(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function ze(l,u){var m=u.checked;return ne({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function wt(l,u){var m=u.defaultValue==null?"":u.defaultValue,b=u.checked!=null?u.checked:u.defaultChecked;m=Fe(u.value!=null?u.value:m),l._wrapperState={initialChecked:b,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Nt(l,u){u=u.checked,u!=null&&C(l,"checked",u,!1)}function Ut(l,u){Nt(l,u);var m=Fe(u.value),b=u.type;if(m!=null)b==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(b==="submit"||b==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?Nr(l,u.type,m):u.hasOwnProperty("defaultValue")&&Nr(l,u.type,Fe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function rr(l,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var b=u.type;if(!(b!=="submit"&&b!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,m||u===l.value||(l.value=u),l.defaultValue=u}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function Nr(l,u,m){(u!=="number"||at(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var Sr=Array.isArray;function xn(l,u,m,b){if(l=l.options,u){u={};for(var _=0;_<m.length;_++)u["$"+m[_]]=!0;for(m=0;m<l.length;m++)_=u.hasOwnProperty("$"+l[m].value),l[m].selected!==_&&(l[m].selected=_),_&&b&&(l[m].defaultSelected=!0)}else{for(m=""+Fe(m),u=null,_=0;_<l.length;_++){if(l[_].value===m){l[_].selected=!0,b&&(l[_].defaultSelected=!0);return}u!==null||l[_].disabled||(u=l[_])}u!==null&&(u.selected=!0)}}function ir(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function qa(l,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(n(92));if(Sr(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),m=u}l._wrapperState={initialValue:Fe(m)}}function To(l,u){var m=Fe(u.value),b=Fe(u.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),u.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),b!=null&&(l.defaultValue=""+b)}function Eo(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function Qw(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rp(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?Qw(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Hc,e1=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,b,_){MSApp.execUnsafeLocalFunction(function(){return l(u,m,b,_)})}:l})(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(Hc=Hc||document.createElement("div"),Hc.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Hc.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function Co(l,u){if(u){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=u;return}}l.textContent=u}var Po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$5=["Webkit","ms","Moz","O"];Object.keys(Po).forEach(function(l){$5.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),Po[u]=Po[l]})});function t1(l,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||Po.hasOwnProperty(l)&&Po[l]?(""+u).trim():u+"px"}function n1(l,u){l=l.style;for(var m in u)if(u.hasOwnProperty(m)){var b=m.indexOf("--")===0,_=t1(m,u[m],b);m==="float"&&(m="cssFloat"),b?l.setProperty(m,_):l[m]=_}}var F5=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mp(l,u){if(u){if(F5[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function Dp(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lp=null;function $p(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Fp=null,Ga=null,Ha=null;function r1(l){if(l=Qo(l)){if(typeof Fp!="function")throw Error(n(280));var u=l.stateNode;u&&(u=pu(u),Fp(l.stateNode,l.type,u))}}function i1(l){Ga?Ha?Ha.push(l):Ha=[l]:Ga=l}function a1(){if(Ga){var l=Ga,u=Ha;if(Ha=Ga=null,r1(l),u)for(l=0;l<u.length;l++)r1(u[l])}}function s1(l,u){return l(u)}function o1(){}var Up=!1;function l1(l,u,m){if(Up)return l(u,m);Up=!0;try{return s1(l,u,m)}finally{Up=!1,(Ga!==null||Ha!==null)&&(o1(),a1())}}function Io(l,u){var m=l.stateNode;if(m===null)return null;var b=pu(m);if(b===null)return null;m=b[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(n(231,u,typeof m));return m}var Bp=!1;if(c)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){Bp=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{Bp=!1}function U5(l,u,m,b,_,k,I,$,q){var te=Array.prototype.slice.call(arguments,3);try{u.apply(m,te)}catch(ae){this.onError(ae)}}var Ro=!1,zc=null,Vc=!1,qp=null,B5={onError:function(l){Ro=!0,zc=l}};function q5(l,u,m,b,_,k,I,$,q){Ro=!1,zc=null,U5.apply(B5,arguments)}function G5(l,u,m,b,_,k,I,$,q){if(q5.apply(this,arguments),Ro){if(Ro){var te=zc;Ro=!1,zc=null}else throw Error(n(198));Vc||(Vc=!0,qp=te)}}function ea(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function c1(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function u1(l){if(ea(l)!==l)throw Error(n(188))}function H5(l){var u=l.alternate;if(!u){if(u=ea(l),u===null)throw Error(n(188));return u!==l?null:l}for(var m=l,b=u;;){var _=m.return;if(_===null)break;var k=_.alternate;if(k===null){if(b=_.return,b!==null){m=b;continue}break}if(_.child===k.child){for(k=_.child;k;){if(k===m)return u1(_),l;if(k===b)return u1(_),u;k=k.sibling}throw Error(n(188))}if(m.return!==b.return)m=_,b=k;else{for(var I=!1,$=_.child;$;){if($===m){I=!0,m=_,b=k;break}if($===b){I=!0,b=_,m=k;break}$=$.sibling}if(!I){for($=k.child;$;){if($===m){I=!0,m=k,b=_;break}if($===b){I=!0,b=k,m=_;break}$=$.sibling}if(!I)throw Error(n(189))}}if(m.alternate!==b)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?l:u}function d1(l){return l=H5(l),l!==null?f1(l):null}function f1(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=f1(l);if(u!==null)return u;l=l.sibling}return null}var p1=e.unstable_scheduleCallback,h1=e.unstable_cancelCallback,z5=e.unstable_shouldYield,V5=e.unstable_requestPaint,jt=e.unstable_now,W5=e.unstable_getCurrentPriorityLevel,Gp=e.unstable_ImmediatePriority,m1=e.unstable_UserBlockingPriority,Wc=e.unstable_NormalPriority,K5=e.unstable_LowPriority,g1=e.unstable_IdlePriority,Kc=null,_r=null;function Y5(l){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(Kc,l,void 0,(l.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:Z5,J5=Math.log,X5=Math.LN2;function Z5(l){return l>>>=0,l===0?32:31-(J5(l)/X5|0)|0}var Yc=64,Jc=4194304;function Mo(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Xc(l,u){var m=l.pendingLanes;if(m===0)return 0;var b=0,_=l.suspendedLanes,k=l.pingedLanes,I=m&268435455;if(I!==0){var $=I&~_;$!==0?b=Mo($):(k&=I,k!==0&&(b=Mo(k)))}else I=m&~_,I!==0?b=Mo(I):k!==0&&(b=Mo(k));if(b===0)return 0;if(u!==0&&u!==b&&(u&_)===0&&(_=b&-b,k=u&-u,_>=k||_===16&&(k&4194240)!==0))return u;if((b&4)!==0&&(b|=m&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=b;0<u;)m=31-ar(u),_=1<<m,b|=l[m],u&=~_;return b}function Q5(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eD(l,u){for(var m=l.suspendedLanes,b=l.pingedLanes,_=l.expirationTimes,k=l.pendingLanes;0<k;){var I=31-ar(k),$=1<<I,q=_[I];q===-1?(($&m)===0||($&b)!==0)&&(_[I]=Q5($,u)):q<=u&&(l.expiredLanes|=$),k&=~$}}function Hp(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function x1(){var l=Yc;return Yc<<=1,(Yc&4194240)===0&&(Yc=64),l}function zp(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function Do(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-ar(u),l[u]=m}function tD(l,u){var m=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var b=l.eventTimes;for(l=l.expirationTimes;0<m;){var _=31-ar(m),k=1<<_;u[_]=0,b[_]=-1,l[_]=-1,m&=~k}}function Vp(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var b=31-ar(m),_=1<<b;_&u|l[b]&u&&(l[b]|=u),m&=~_}}var rt=0;function v1(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var y1,Wp,b1,w1,N1,Kp=!1,Zc=[],mi=null,gi=null,xi=null,Lo=new Map,$o=new Map,vi=[],nD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S1(l,u){switch(l){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":Lo.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(u.pointerId)}}function Fo(l,u,m,b,_,k){return l===null||l.nativeEvent!==k?(l={blockedOn:u,domEventName:m,eventSystemFlags:b,nativeEvent:k,targetContainers:[_]},u!==null&&(u=Qo(u),u!==null&&Wp(u)),l):(l.eventSystemFlags|=b,u=l.targetContainers,_!==null&&u.indexOf(_)===-1&&u.push(_),l)}function rD(l,u,m,b,_){switch(u){case"focusin":return mi=Fo(mi,l,u,m,b,_),!0;case"dragenter":return gi=Fo(gi,l,u,m,b,_),!0;case"mouseover":return xi=Fo(xi,l,u,m,b,_),!0;case"pointerover":var k=_.pointerId;return Lo.set(k,Fo(Lo.get(k)||null,l,u,m,b,_)),!0;case"gotpointercapture":return k=_.pointerId,$o.set(k,Fo($o.get(k)||null,l,u,m,b,_)),!0}return!1}function _1(l){var u=ta(l.target);if(u!==null){var m=ea(u);if(m!==null){if(u=m.tag,u===13){if(u=c1(m),u!==null){l.blockedOn=u,N1(l.priority,function(){b1(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Qc(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var m=Jp(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var b=new m.constructor(m.type,m);Lp=b,m.target.dispatchEvent(b),Lp=null}else return u=Qo(m),u!==null&&Wp(u),l.blockedOn=m,!1;u.shift()}return!0}function j1(l,u,m){Qc(l)&&m.delete(u)}function iD(){Kp=!1,mi!==null&&Qc(mi)&&(mi=null),gi!==null&&Qc(gi)&&(gi=null),xi!==null&&Qc(xi)&&(xi=null),Lo.forEach(j1),$o.forEach(j1)}function Uo(l,u){l.blockedOn===u&&(l.blockedOn=null,Kp||(Kp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,iD)))}function Bo(l){function u(_){return Uo(_,l)}if(0<Zc.length){Uo(Zc[0],l);for(var m=1;m<Zc.length;m++){var b=Zc[m];b.blockedOn===l&&(b.blockedOn=null)}}for(mi!==null&&Uo(mi,l),gi!==null&&Uo(gi,l),xi!==null&&Uo(xi,l),Lo.forEach(u),$o.forEach(u),m=0;m<vi.length;m++)b=vi[m],b.blockedOn===l&&(b.blockedOn=null);for(;0<vi.length&&(m=vi[0],m.blockedOn===null);)_1(m),m.blockedOn===null&&vi.shift()}var za=A.ReactCurrentBatchConfig,eu=!0;function aD(l,u,m,b){var _=rt,k=za.transition;za.transition=null;try{rt=1,Yp(l,u,m,b)}finally{rt=_,za.transition=k}}function sD(l,u,m,b){var _=rt,k=za.transition;za.transition=null;try{rt=4,Yp(l,u,m,b)}finally{rt=_,za.transition=k}}function Yp(l,u,m,b){if(eu){var _=Jp(l,u,m,b);if(_===null)ph(l,u,b,tu,m),S1(l,b);else if(rD(_,l,u,m,b))b.stopPropagation();else if(S1(l,b),u&4&&-1<nD.indexOf(l)){for(;_!==null;){var k=Qo(_);if(k!==null&&y1(k),k=Jp(l,u,m,b),k===null&&ph(l,u,b,tu,m),k===_)break;_=k}_!==null&&b.stopPropagation()}else ph(l,u,b,null,m)}}var tu=null;function Jp(l,u,m,b){if(tu=null,l=$p(b),l=ta(l),l!==null)if(u=ea(l),u===null)l=null;else if(m=u.tag,m===13){if(l=c1(u),l!==null)return l;l=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return tu=l,null}function k1(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(W5()){case Gp:return 1;case m1:return 4;case Wc:case K5:return 16;case g1:return 536870912;default:return 16}default:return 16}}var yi=null,Xp=null,nu=null;function A1(){if(nu)return nu;var l,u=Xp,m=u.length,b,_="value"in yi?yi.value:yi.textContent,k=_.length;for(l=0;l<m&&u[l]===_[l];l++);var I=m-l;for(b=1;b<=I&&u[m-b]===_[k-b];b++);return nu=_.slice(l,1<b?1-b:void 0)}function ru(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function iu(){return!0}function T1(){return!1}function kn(l){function u(m,b,_,k,I){this._reactName=m,this._targetInst=_,this.type=b,this.nativeEvent=k,this.target=I,this.currentTarget=null;for(var $ in l)l.hasOwnProperty($)&&(m=l[$],this[$]=m?m(k):k[$]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?iu:T1,this.isPropagationStopped=T1,this}return ne(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=iu)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=iu)},persist:function(){},isPersistent:iu}),u}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zp=kn(Va),qo=ne({},Va,{view:0,detail:0}),oD=kn(qo),Qp,eh,Go,au=ne({},qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nh,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Go&&(Go&&l.type==="mousemove"?(Qp=l.screenX-Go.screenX,eh=l.screenY-Go.screenY):eh=Qp=0,Go=l),Qp)},movementY:function(l){return"movementY"in l?l.movementY:eh}}),E1=kn(au),lD=ne({},au,{dataTransfer:0}),cD=kn(lD),uD=ne({},qo,{relatedTarget:0}),th=kn(uD),dD=ne({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),fD=kn(dD),pD=ne({},Va,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),hD=kn(pD),mD=ne({},Va,{data:0}),C1=kn(mD),gD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yD(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=vD[l])?!!u[l]:!1}function nh(){return yD}var bD=ne({},qo,{key:function(l){if(l.key){var u=gD[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=ru(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?xD[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nh,charCode:function(l){return l.type==="keypress"?ru(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?ru(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),wD=kn(bD),ND=ne({},au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P1=kn(ND),SD=ne({},qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nh}),_D=kn(SD),jD=ne({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),kD=kn(jD),AD=ne({},au,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),TD=kn(AD),ED=[9,13,27,32],rh=c&&"CompositionEvent"in window,Ho=null;c&&"documentMode"in document&&(Ho=document.documentMode);var CD=c&&"TextEvent"in window&&!Ho,I1=c&&(!rh||Ho&&8<Ho&&11>=Ho),O1=" ",R1=!1;function M1(l,u){switch(l){case"keyup":return ED.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D1(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Wa=!1;function PD(l,u){switch(l){case"compositionend":return D1(u);case"keypress":return u.which!==32?null:(R1=!0,O1);case"textInput":return l=u.data,l===O1&&R1?null:l;default:return null}}function ID(l,u){if(Wa)return l==="compositionend"||!rh&&M1(l,u)?(l=A1(),nu=Xp=yi=null,Wa=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return I1&&u.locale!=="ko"?null:u.data;default:return null}}var OD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L1(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!OD[l.type]:u==="textarea"}function $1(l,u,m,b){i1(b),u=uu(u,"onChange"),0<u.length&&(m=new Zp("onChange","change",null,m,b),l.push({event:m,listeners:u}))}var zo=null,Vo=null;function RD(l){nN(l,0)}function su(l){var u=Za(l);if(se(u))return l}function MD(l,u){if(l==="change")return u}var F1=!1;if(c){var ih;if(c){var ah="oninput"in document;if(!ah){var U1=document.createElement("div");U1.setAttribute("oninput","return;"),ah=typeof U1.oninput=="function"}ih=ah}else ih=!1;F1=ih&&(!document.documentMode||9<document.documentMode)}function B1(){zo&&(zo.detachEvent("onpropertychange",q1),Vo=zo=null)}function q1(l){if(l.propertyName==="value"&&su(Vo)){var u=[];$1(u,Vo,l,$p(l)),l1(RD,u)}}function DD(l,u,m){l==="focusin"?(B1(),zo=u,Vo=m,zo.attachEvent("onpropertychange",q1)):l==="focusout"&&B1()}function LD(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return su(Vo)}function $D(l,u){if(l==="click")return su(u)}function FD(l,u){if(l==="input"||l==="change")return su(u)}function UD(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var sr=typeof Object.is=="function"?Object.is:UD;function Wo(l,u){if(sr(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),b=Object.keys(u);if(m.length!==b.length)return!1;for(b=0;b<m.length;b++){var _=m[b];if(!f.call(u,_)||!sr(l[_],u[_]))return!1}return!0}function G1(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function H1(l,u){var m=G1(l);l=0;for(var b;m;){if(m.nodeType===3){if(b=l+m.textContent.length,l<=u&&b>=u)return{node:m,offset:u-l};l=b}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=G1(m)}}function z1(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?z1(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function V1(){for(var l=window,u=at();u instanceof l.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)l=u.contentWindow;else break;u=at(l.document)}return u}function sh(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function BD(l){var u=V1(),m=l.focusedElem,b=l.selectionRange;if(u!==m&&m&&m.ownerDocument&&z1(m.ownerDocument.documentElement,m)){if(b!==null&&sh(m)){if(u=b.start,l=b.end,l===void 0&&(l=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(l,m.value.length);else if(l=(u=m.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var _=m.textContent.length,k=Math.min(b.start,_);b=b.end===void 0?k:Math.min(b.end,_),!l.extend&&k>b&&(_=b,b=k,k=_),_=H1(m,k);var I=H1(m,b);_&&I&&(l.rangeCount!==1||l.anchorNode!==_.node||l.anchorOffset!==_.offset||l.focusNode!==I.node||l.focusOffset!==I.offset)&&(u=u.createRange(),u.setStart(_.node,_.offset),l.removeAllRanges(),k>b?(l.addRange(u),l.extend(I.node,I.offset)):(u.setEnd(I.node,I.offset),l.addRange(u)))}}for(u=[],l=m;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)l=u[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var qD=c&&"documentMode"in document&&11>=document.documentMode,Ka=null,oh=null,Ko=null,lh=!1;function W1(l,u,m){var b=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;lh||Ka==null||Ka!==at(b)||(b=Ka,"selectionStart"in b&&sh(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Ko&&Wo(Ko,b)||(Ko=b,b=uu(oh,"onSelect"),0<b.length&&(u=new Zp("onSelect","select",null,u,m),l.push({event:u,listeners:b}),u.target=Ka)))}function ou(l,u){var m={};return m[l.toLowerCase()]=u.toLowerCase(),m["Webkit"+l]="webkit"+u,m["Moz"+l]="moz"+u,m}var Ya={animationend:ou("Animation","AnimationEnd"),animationiteration:ou("Animation","AnimationIteration"),animationstart:ou("Animation","AnimationStart"),transitionend:ou("Transition","TransitionEnd")},ch={},K1={};c&&(K1=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function lu(l){if(ch[l])return ch[l];if(!Ya[l])return l;var u=Ya[l],m;for(m in u)if(u.hasOwnProperty(m)&&m in K1)return ch[l]=u[m];return l}var Y1=lu("animationend"),J1=lu("animationiteration"),X1=lu("animationstart"),Z1=lu("transitionend"),Q1=new Map,eN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(l,u){Q1.set(l,u),a(u,[l])}for(var uh=0;uh<eN.length;uh++){var dh=eN[uh],GD=dh.toLowerCase(),HD=dh[0].toUpperCase()+dh.slice(1);bi(GD,"on"+HD)}bi(Y1,"onAnimationEnd"),bi(J1,"onAnimationIteration"),bi(X1,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(Z1,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yo));function tN(l,u,m){var b=l.type||"unknown-event";l.currentTarget=m,G5(b,u,void 0,l),l.currentTarget=null}function nN(l,u){u=(u&4)!==0;for(var m=0;m<l.length;m++){var b=l[m],_=b.event;b=b.listeners;e:{var k=void 0;if(u)for(var I=b.length-1;0<=I;I--){var $=b[I],q=$.instance,te=$.currentTarget;if($=$.listener,q!==k&&_.isPropagationStopped())break e;tN(_,$,te),k=q}else for(I=0;I<b.length;I++){if($=b[I],q=$.instance,te=$.currentTarget,$=$.listener,q!==k&&_.isPropagationStopped())break e;tN(_,$,te),k=q}}}if(Vc)throw l=qp,Vc=!1,qp=null,l}function ft(l,u){var m=u[yh];m===void 0&&(m=u[yh]=new Set);var b=l+"__bubble";m.has(b)||(rN(u,l,2,!1),m.add(b))}function fh(l,u,m){var b=0;u&&(b|=4),rN(m,l,b,u)}var cu="_reactListening"+Math.random().toString(36).slice(2);function Jo(l){if(!l[cu]){l[cu]=!0,r.forEach(function(m){m!=="selectionchange"&&(zD.has(m)||fh(m,!1,l),fh(m,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[cu]||(u[cu]=!0,fh("selectionchange",!1,u))}}function rN(l,u,m,b){switch(k1(u)){case 1:var _=aD;break;case 4:_=sD;break;default:_=Yp}m=_.bind(null,u,m,l),_=void 0,!Bp||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(_=!0),b?_!==void 0?l.addEventListener(u,m,{capture:!0,passive:_}):l.addEventListener(u,m,!0):_!==void 0?l.addEventListener(u,m,{passive:_}):l.addEventListener(u,m,!1)}function ph(l,u,m,b,_){var k=b;if((u&1)===0&&(u&2)===0&&b!==null)e:for(;;){if(b===null)return;var I=b.tag;if(I===3||I===4){var $=b.stateNode.containerInfo;if($===_||$.nodeType===8&&$.parentNode===_)break;if(I===4)for(I=b.return;I!==null;){var q=I.tag;if((q===3||q===4)&&(q=I.stateNode.containerInfo,q===_||q.nodeType===8&&q.parentNode===_))return;I=I.return}for(;$!==null;){if(I=ta($),I===null)return;if(q=I.tag,q===5||q===6){b=k=I;continue e}$=$.parentNode}}b=b.return}l1(function(){var te=k,ae=$p(m),oe=[];e:{var ie=Q1.get(l);if(ie!==void 0){var ge=Zp,Ne=l;switch(l){case"keypress":if(ru(m)===0)break e;case"keydown":case"keyup":ge=wD;break;case"focusin":Ne="focus",ge=th;break;case"focusout":Ne="blur",ge=th;break;case"beforeblur":case"afterblur":ge=th;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=E1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=cD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=_D;break;case Y1:case J1:case X1:ge=fD;break;case Z1:ge=kD;break;case"scroll":ge=oD;break;case"wheel":ge=TD;break;case"copy":case"cut":case"paste":ge=hD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=P1}var Se=(u&4)!==0,kt=!Se&&l==="scroll",X=Se?ie!==null?ie+"Capture":null:ie;Se=[];for(var V=te,Q;V!==null;){Q=V;var de=Q.stateNode;if(Q.tag===5&&de!==null&&(Q=de,X!==null&&(de=Io(V,X),de!=null&&Se.push(Xo(V,de,Q)))),kt)break;V=V.return}0<Se.length&&(ie=new ge(ie,Ne,null,m,ae),oe.push({event:ie,listeners:Se}))}}if((u&7)===0){e:{if(ie=l==="mouseover"||l==="pointerover",ge=l==="mouseout"||l==="pointerout",ie&&m!==Lp&&(Ne=m.relatedTarget||m.fromElement)&&(ta(Ne)||Ne[Ur]))break e;if((ge||ie)&&(ie=ae.window===ae?ae:(ie=ae.ownerDocument)?ie.defaultView||ie.parentWindow:window,ge?(Ne=m.relatedTarget||m.toElement,ge=te,Ne=Ne?ta(Ne):null,Ne!==null&&(kt=ea(Ne),Ne!==kt||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(ge=null,Ne=te),ge!==Ne)){if(Se=E1,de="onMouseLeave",X="onMouseEnter",V="mouse",(l==="pointerout"||l==="pointerover")&&(Se=P1,de="onPointerLeave",X="onPointerEnter",V="pointer"),kt=ge==null?ie:Za(ge),Q=Ne==null?ie:Za(Ne),ie=new Se(de,V+"leave",ge,m,ae),ie.target=kt,ie.relatedTarget=Q,de=null,ta(ae)===te&&(Se=new Se(X,V+"enter",Ne,m,ae),Se.target=Q,Se.relatedTarget=kt,de=Se),kt=de,ge&&Ne)t:{for(Se=ge,X=Ne,V=0,Q=Se;Q;Q=Ja(Q))V++;for(Q=0,de=X;de;de=Ja(de))Q++;for(;0<V-Q;)Se=Ja(Se),V--;for(;0<Q-V;)X=Ja(X),Q--;for(;V--;){if(Se===X||X!==null&&Se===X.alternate)break t;Se=Ja(Se),X=Ja(X)}Se=null}else Se=null;ge!==null&&iN(oe,ie,ge,Se,!1),Ne!==null&&kt!==null&&iN(oe,kt,Ne,Se,!0)}}e:{if(ie=te?Za(te):window,ge=ie.nodeName&&ie.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ie.type==="file")var je=MD;else if(L1(ie))if(F1)je=FD;else{je=LD;var Pe=DD}else(ge=ie.nodeName)&&ge.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(je=$D);if(je&&(je=je(l,te))){$1(oe,je,m,ae);break e}Pe&&Pe(l,ie,te),l==="focusout"&&(Pe=ie._wrapperState)&&Pe.controlled&&ie.type==="number"&&Nr(ie,"number",ie.value)}switch(Pe=te?Za(te):window,l){case"focusin":(L1(Pe)||Pe.contentEditable==="true")&&(Ka=Pe,oh=te,Ko=null);break;case"focusout":Ko=oh=Ka=null;break;case"mousedown":lh=!0;break;case"contextmenu":case"mouseup":case"dragend":lh=!1,W1(oe,m,ae);break;case"selectionchange":if(qD)break;case"keydown":case"keyup":W1(oe,m,ae)}var Ie;if(rh)e:{switch(l){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Wa?M1(l,m)&&(Me="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(Me="onCompositionStart");Me&&(I1&&m.locale!=="ko"&&(Wa||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Wa&&(Ie=A1()):(yi=ae,Xp="value"in yi?yi.value:yi.textContent,Wa=!0)),Pe=uu(te,Me),0<Pe.length&&(Me=new C1(Me,l,null,m,ae),oe.push({event:Me,listeners:Pe}),Ie?Me.data=Ie:(Ie=D1(m),Ie!==null&&(Me.data=Ie)))),(Ie=CD?PD(l,m):ID(l,m))&&(te=uu(te,"onBeforeInput"),0<te.length&&(ae=new C1("onBeforeInput","beforeinput",null,m,ae),oe.push({event:ae,listeners:te}),ae.data=Ie))}nN(oe,u)})}function Xo(l,u,m){return{instance:l,listener:u,currentTarget:m}}function uu(l,u){for(var m=u+"Capture",b=[];l!==null;){var _=l,k=_.stateNode;_.tag===5&&k!==null&&(_=k,k=Io(l,m),k!=null&&b.unshift(Xo(l,k,_)),k=Io(l,u),k!=null&&b.push(Xo(l,k,_))),l=l.return}return b}function Ja(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function iN(l,u,m,b,_){for(var k=u._reactName,I=[];m!==null&&m!==b;){var $=m,q=$.alternate,te=$.stateNode;if(q!==null&&q===b)break;$.tag===5&&te!==null&&($=te,_?(q=Io(m,k),q!=null&&I.unshift(Xo(m,q,$))):_||(q=Io(m,k),q!=null&&I.push(Xo(m,q,$)))),m=m.return}I.length!==0&&l.push({event:u,listeners:I})}var VD=/\r\n?/g,WD=/\u0000|\uFFFD/g;function aN(l){return(typeof l=="string"?l:""+l).replace(VD,`
`).replace(WD,"")}function du(l,u,m){if(u=aN(u),aN(l)!==u&&m)throw Error(n(425))}function fu(){}var hh=null,mh=null;function gh(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var xh=typeof setTimeout=="function"?setTimeout:void 0,KD=typeof clearTimeout=="function"?clearTimeout:void 0,sN=typeof Promise=="function"?Promise:void 0,YD=typeof queueMicrotask=="function"?queueMicrotask:typeof sN<"u"?function(l){return sN.resolve(null).then(l).catch(JD)}:xh;function JD(l){setTimeout(function(){throw l})}function vh(l,u){var m=u,b=0;do{var _=m.nextSibling;if(l.removeChild(m),_&&_.nodeType===8)if(m=_.data,m==="/$"){if(b===0){l.removeChild(_),Bo(u);return}b--}else m!=="$"&&m!=="$?"&&m!=="$!"||b++;m=_}while(m);Bo(u)}function wi(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function oN(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return l;u--}else m==="/$"&&u++}l=l.previousSibling}return null}var Xa=Math.random().toString(36).slice(2),jr="__reactFiber$"+Xa,Zo="__reactProps$"+Xa,Ur="__reactContainer$"+Xa,yh="__reactEvents$"+Xa,XD="__reactListeners$"+Xa,ZD="__reactHandles$"+Xa;function ta(l){var u=l[jr];if(u)return u;for(var m=l.parentNode;m;){if(u=m[Ur]||m[jr]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(l=oN(l);l!==null;){if(m=l[jr])return m;l=oN(l)}return u}l=m,m=l.parentNode}return null}function Qo(l){return l=l[jr]||l[Ur],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Za(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function pu(l){return l[Zo]||null}var bh=[],Qa=-1;function Ni(l){return{current:l}}function pt(l){0>Qa||(l.current=bh[Qa],bh[Qa]=null,Qa--)}function ct(l,u){Qa++,bh[Qa]=l.current,l.current=u}var Si={},Zt=Ni(Si),vn=Ni(!1),na=Si;function es(l,u){var m=l.type.contextTypes;if(!m)return Si;var b=l.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===u)return b.__reactInternalMemoizedMaskedChildContext;var _={},k;for(k in m)_[k]=u[k];return b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=_),_}function yn(l){return l=l.childContextTypes,l!=null}function hu(){pt(vn),pt(Zt)}function lN(l,u,m){if(Zt.current!==Si)throw Error(n(168));ct(Zt,u),ct(vn,m)}function cN(l,u,m){var b=l.stateNode;if(u=u.childContextTypes,typeof b.getChildContext!="function")return m;b=b.getChildContext();for(var _ in b)if(!(_ in u))throw Error(n(108,Ve(l)||"Unknown",_));return ne({},m,b)}function mu(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Si,na=Zt.current,ct(Zt,l),ct(vn,vn.current),!0}function uN(l,u,m){var b=l.stateNode;if(!b)throw Error(n(169));m?(l=cN(l,u,na),b.__reactInternalMemoizedMergedChildContext=l,pt(vn),pt(Zt),ct(Zt,l)):pt(vn),ct(vn,m)}var Br=null,gu=!1,wh=!1;function dN(l){Br===null?Br=[l]:Br.push(l)}function QD(l){gu=!0,dN(l)}function _i(){if(!wh&&Br!==null){wh=!0;var l=0,u=rt;try{var m=Br;for(rt=1;l<m.length;l++){var b=m[l];do b=b(!0);while(b!==null)}Br=null,gu=!1}catch(_){throw Br!==null&&(Br=Br.slice(l+1)),p1(Gp,_i),_}finally{rt=u,wh=!1}}return null}var ts=[],ns=0,xu=null,vu=0,Ln=[],$n=0,ra=null,qr=1,Gr="";function ia(l,u){ts[ns++]=vu,ts[ns++]=xu,xu=l,vu=u}function fN(l,u,m){Ln[$n++]=qr,Ln[$n++]=Gr,Ln[$n++]=ra,ra=l;var b=qr;l=Gr;var _=32-ar(b)-1;b&=~(1<<_),m+=1;var k=32-ar(u)+_;if(30<k){var I=_-_%5;k=(b&(1<<I)-1).toString(32),b>>=I,_-=I,qr=1<<32-ar(u)+_|m<<_|b,Gr=k+l}else qr=1<<k|m<<_|b,Gr=l}function Nh(l){l.return!==null&&(ia(l,1),fN(l,1,0))}function Sh(l){for(;l===xu;)xu=ts[--ns],ts[ns]=null,vu=ts[--ns],ts[ns]=null;for(;l===ra;)ra=Ln[--$n],Ln[$n]=null,Gr=Ln[--$n],Ln[$n]=null,qr=Ln[--$n],Ln[$n]=null}var An=null,Tn=null,gt=!1,or=null;function pN(l,u){var m=qn(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,u=l.deletions,u===null?(l.deletions=[m],l.flags|=16):u.push(m)}function hN(l,u){switch(l.tag){case 5:var m=l.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,An=l,Tn=wi(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,An=l,Tn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=ra!==null?{id:qr,overflow:Gr}:null,l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=qn(18,null,null,0),m.stateNode=u,m.return=l,l.child=m,An=l,Tn=null,!0):!1;default:return!1}}function _h(l){return(l.mode&1)!==0&&(l.flags&128)===0}function jh(l){if(gt){var u=Tn;if(u){var m=u;if(!hN(l,u)){if(_h(l))throw Error(n(418));u=wi(m.nextSibling);var b=An;u&&hN(l,u)?pN(b,m):(l.flags=l.flags&-4097|2,gt=!1,An=l)}}else{if(_h(l))throw Error(n(418));l.flags=l.flags&-4097|2,gt=!1,An=l}}}function mN(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;An=l}function yu(l){if(l!==An)return!1;if(!gt)return mN(l),gt=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!gh(l.type,l.memoizedProps)),u&&(u=Tn)){if(_h(l))throw gN(),Error(n(418));for(;u;)pN(l,u),u=wi(u.nextSibling)}if(mN(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(u===0){Tn=wi(l.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}l=l.nextSibling}Tn=null}}else Tn=An?wi(l.stateNode.nextSibling):null;return!0}function gN(){for(var l=Tn;l;)l=wi(l.nextSibling)}function rs(){Tn=An=null,gt=!1}function kh(l){or===null?or=[l]:or.push(l)}var e4=A.ReactCurrentBatchConfig;function el(l,u,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var b=m.stateNode}if(!b)throw Error(n(147,l));var _=b,k=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===k?u.ref:(u=function(I){var $=_.refs;I===null?delete $[k]:$[k]=I},u._stringRef=k,u)}if(typeof l!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,l))}return l}function bu(l,u){throw l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function xN(l){var u=l._init;return u(l._payload)}function vN(l){function u(X,V){if(l){var Q=X.deletions;Q===null?(X.deletions=[V],X.flags|=16):Q.push(V)}}function m(X,V){if(!l)return null;for(;V!==null;)u(X,V),V=V.sibling;return null}function b(X,V){for(X=new Map;V!==null;)V.key!==null?X.set(V.key,V):X.set(V.index,V),V=V.sibling;return X}function _(X,V){return X=Ii(X,V),X.index=0,X.sibling=null,X}function k(X,V,Q){return X.index=Q,l?(Q=X.alternate,Q!==null?(Q=Q.index,Q<V?(X.flags|=2,V):Q):(X.flags|=2,V)):(X.flags|=1048576,V)}function I(X){return l&&X.alternate===null&&(X.flags|=2),X}function $(X,V,Q,de){return V===null||V.tag!==6?(V=xm(Q,X.mode,de),V.return=X,V):(V=_(V,Q),V.return=X,V)}function q(X,V,Q,de){var je=Q.type;return je===O?ae(X,V,Q.props.children,de,Q.key):V!==null&&(V.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===H&&xN(je)===V.type)?(de=_(V,Q.props),de.ref=el(X,V,Q),de.return=X,de):(de=Hu(Q.type,Q.key,Q.props,null,X.mode,de),de.ref=el(X,V,Q),de.return=X,de)}function te(X,V,Q,de){return V===null||V.tag!==4||V.stateNode.containerInfo!==Q.containerInfo||V.stateNode.implementation!==Q.implementation?(V=vm(Q,X.mode,de),V.return=X,V):(V=_(V,Q.children||[]),V.return=X,V)}function ae(X,V,Q,de,je){return V===null||V.tag!==7?(V=fa(Q,X.mode,de,je),V.return=X,V):(V=_(V,Q),V.return=X,V)}function oe(X,V,Q){if(typeof V=="string"&&V!==""||typeof V=="number")return V=xm(""+V,X.mode,Q),V.return=X,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case E:return Q=Hu(V.type,V.key,V.props,null,X.mode,Q),Q.ref=el(X,null,V),Q.return=X,Q;case P:return V=vm(V,X.mode,Q),V.return=X,V;case H:var de=V._init;return oe(X,de(V._payload),Q)}if(Sr(V)||ee(V))return V=fa(V,X.mode,Q,null),V.return=X,V;bu(X,V)}return null}function ie(X,V,Q,de){var je=V!==null?V.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return je!==null?null:$(X,V,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:return Q.key===je?q(X,V,Q,de):null;case P:return Q.key===je?te(X,V,Q,de):null;case H:return je=Q._init,ie(X,V,je(Q._payload),de)}if(Sr(Q)||ee(Q))return je!==null?null:ae(X,V,Q,de,null);bu(X,Q)}return null}function ge(X,V,Q,de,je){if(typeof de=="string"&&de!==""||typeof de=="number")return X=X.get(Q)||null,$(V,X,""+de,je);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case E:return X=X.get(de.key===null?Q:de.key)||null,q(V,X,de,je);case P:return X=X.get(de.key===null?Q:de.key)||null,te(V,X,de,je);case H:var Pe=de._init;return ge(X,V,Q,Pe(de._payload),je)}if(Sr(de)||ee(de))return X=X.get(Q)||null,ae(V,X,de,je,null);bu(V,de)}return null}function Ne(X,V,Q,de){for(var je=null,Pe=null,Ie=V,Me=V=0,Gt=null;Ie!==null&&Me<Q.length;Me++){Ie.index>Me?(Gt=Ie,Ie=null):Gt=Ie.sibling;var Ye=ie(X,Ie,Q[Me],de);if(Ye===null){Ie===null&&(Ie=Gt);break}l&&Ie&&Ye.alternate===null&&u(X,Ie),V=k(Ye,V,Me),Pe===null?je=Ye:Pe.sibling=Ye,Pe=Ye,Ie=Gt}if(Me===Q.length)return m(X,Ie),gt&&ia(X,Me),je;if(Ie===null){for(;Me<Q.length;Me++)Ie=oe(X,Q[Me],de),Ie!==null&&(V=k(Ie,V,Me),Pe===null?je=Ie:Pe.sibling=Ie,Pe=Ie);return gt&&ia(X,Me),je}for(Ie=b(X,Ie);Me<Q.length;Me++)Gt=ge(Ie,X,Me,Q[Me],de),Gt!==null&&(l&&Gt.alternate!==null&&Ie.delete(Gt.key===null?Me:Gt.key),V=k(Gt,V,Me),Pe===null?je=Gt:Pe.sibling=Gt,Pe=Gt);return l&&Ie.forEach(function(Oi){return u(X,Oi)}),gt&&ia(X,Me),je}function Se(X,V,Q,de){var je=ee(Q);if(typeof je!="function")throw Error(n(150));if(Q=je.call(Q),Q==null)throw Error(n(151));for(var Pe=je=null,Ie=V,Me=V=0,Gt=null,Ye=Q.next();Ie!==null&&!Ye.done;Me++,Ye=Q.next()){Ie.index>Me?(Gt=Ie,Ie=null):Gt=Ie.sibling;var Oi=ie(X,Ie,Ye.value,de);if(Oi===null){Ie===null&&(Ie=Gt);break}l&&Ie&&Oi.alternate===null&&u(X,Ie),V=k(Oi,V,Me),Pe===null?je=Oi:Pe.sibling=Oi,Pe=Oi,Ie=Gt}if(Ye.done)return m(X,Ie),gt&&ia(X,Me),je;if(Ie===null){for(;!Ye.done;Me++,Ye=Q.next())Ye=oe(X,Ye.value,de),Ye!==null&&(V=k(Ye,V,Me),Pe===null?je=Ye:Pe.sibling=Ye,Pe=Ye);return gt&&ia(X,Me),je}for(Ie=b(X,Ie);!Ye.done;Me++,Ye=Q.next())Ye=ge(Ie,X,Me,Ye.value,de),Ye!==null&&(l&&Ye.alternate!==null&&Ie.delete(Ye.key===null?Me:Ye.key),V=k(Ye,V,Me),Pe===null?je=Ye:Pe.sibling=Ye,Pe=Ye);return l&&Ie.forEach(function(O4){return u(X,O4)}),gt&&ia(X,Me),je}function kt(X,V,Q,de){if(typeof Q=="object"&&Q!==null&&Q.type===O&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:e:{for(var je=Q.key,Pe=V;Pe!==null;){if(Pe.key===je){if(je=Q.type,je===O){if(Pe.tag===7){m(X,Pe.sibling),V=_(Pe,Q.props.children),V.return=X,X=V;break e}}else if(Pe.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===H&&xN(je)===Pe.type){m(X,Pe.sibling),V=_(Pe,Q.props),V.ref=el(X,Pe,Q),V.return=X,X=V;break e}m(X,Pe);break}else u(X,Pe);Pe=Pe.sibling}Q.type===O?(V=fa(Q.props.children,X.mode,de,Q.key),V.return=X,X=V):(de=Hu(Q.type,Q.key,Q.props,null,X.mode,de),de.ref=el(X,V,Q),de.return=X,X=de)}return I(X);case P:e:{for(Pe=Q.key;V!==null;){if(V.key===Pe)if(V.tag===4&&V.stateNode.containerInfo===Q.containerInfo&&V.stateNode.implementation===Q.implementation){m(X,V.sibling),V=_(V,Q.children||[]),V.return=X,X=V;break e}else{m(X,V);break}else u(X,V);V=V.sibling}V=vm(Q,X.mode,de),V.return=X,X=V}return I(X);case H:return Pe=Q._init,kt(X,V,Pe(Q._payload),de)}if(Sr(Q))return Ne(X,V,Q,de);if(ee(Q))return Se(X,V,Q,de);bu(X,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,V!==null&&V.tag===6?(m(X,V.sibling),V=_(V,Q),V.return=X,X=V):(m(X,V),V=xm(Q,X.mode,de),V.return=X,X=V),I(X)):m(X,V)}return kt}var is=vN(!0),yN=vN(!1),wu=Ni(null),Nu=null,as=null,Ah=null;function Th(){Ah=as=Nu=null}function Eh(l){var u=wu.current;pt(wu),l._currentValue=u}function Ch(l,u,m){for(;l!==null;){var b=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),l===m)break;l=l.return}}function ss(l,u){Nu=l,Ah=as=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(bn=!0),l.firstContext=null)}function Fn(l){var u=l._currentValue;if(Ah!==l)if(l={context:l,memoizedValue:u,next:null},as===null){if(Nu===null)throw Error(n(308));as=l,Nu.dependencies={lanes:0,firstContext:l}}else as=as.next=l;return u}var aa=null;function Ph(l){aa===null?aa=[l]:aa.push(l)}function bN(l,u,m,b){var _=u.interleaved;return _===null?(m.next=m,Ph(u)):(m.next=_.next,_.next=m),u.interleaved=m,Hr(l,b)}function Hr(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,m=l.alternate,m!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}var ji=!1;function Ih(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wN(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function zr(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function ki(l,u,m){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(We&2)!==0){var _=b.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),b.pending=u,Hr(l,m)}return _=b.interleaved,_===null?(u.next=u,Ph(b)):(u.next=_.next,_.next=u),b.interleaved=u,Hr(l,m)}function Su(l,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var b=u.lanes;b&=l.pendingLanes,m|=b,u.lanes=m,Vp(l,m)}}function NN(l,u){var m=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,m===b)){var _=null,k=null;if(m=m.firstBaseUpdate,m!==null){do{var I={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};k===null?_=k=I:k=k.next=I,m=m.next}while(m!==null);k===null?_=k=u:k=k.next=u}else _=k=u;m={baseState:b.baseState,firstBaseUpdate:_,lastBaseUpdate:k,shared:b.shared,effects:b.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function _u(l,u,m,b){var _=l.updateQueue;ji=!1;var k=_.firstBaseUpdate,I=_.lastBaseUpdate,$=_.shared.pending;if($!==null){_.shared.pending=null;var q=$,te=q.next;q.next=null,I===null?k=te:I.next=te,I=q;var ae=l.alternate;ae!==null&&(ae=ae.updateQueue,$=ae.lastBaseUpdate,$!==I&&($===null?ae.firstBaseUpdate=te:$.next=te,ae.lastBaseUpdate=q))}if(k!==null){var oe=_.baseState;I=0,ae=te=q=null,$=k;do{var ie=$.lane,ge=$.eventTime;if((b&ie)===ie){ae!==null&&(ae=ae.next={eventTime:ge,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Ne=l,Se=$;switch(ie=u,ge=m,Se.tag){case 1:if(Ne=Se.payload,typeof Ne=="function"){oe=Ne.call(ge,oe,ie);break e}oe=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Se.payload,ie=typeof Ne=="function"?Ne.call(ge,oe,ie):Ne,ie==null)break e;oe=ne({},oe,ie);break e;case 2:ji=!0}}$.callback!==null&&$.lane!==0&&(l.flags|=64,ie=_.effects,ie===null?_.effects=[$]:ie.push($))}else ge={eventTime:ge,lane:ie,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ae===null?(te=ae=ge,q=oe):ae=ae.next=ge,I|=ie;if($=$.next,$===null){if($=_.shared.pending,$===null)break;ie=$,$=ie.next,ie.next=null,_.lastBaseUpdate=ie,_.shared.pending=null}}while(!0);if(ae===null&&(q=oe),_.baseState=q,_.firstBaseUpdate=te,_.lastBaseUpdate=ae,u=_.shared.interleaved,u!==null){_=u;do I|=_.lane,_=_.next;while(_!==u)}else k===null&&(_.shared.lanes=0);la|=I,l.lanes=I,l.memoizedState=oe}}function SN(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var b=l[u],_=b.callback;if(_!==null){if(b.callback=null,b=m,typeof _!="function")throw Error(n(191,_));_.call(b)}}}var tl={},kr=Ni(tl),nl=Ni(tl),rl=Ni(tl);function sa(l){if(l===tl)throw Error(n(174));return l}function Oh(l,u){switch(ct(rl,u),ct(nl,l),ct(kr,tl),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Rp(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=Rp(u,l)}pt(kr),ct(kr,u)}function os(){pt(kr),pt(nl),pt(rl)}function _N(l){sa(rl.current);var u=sa(kr.current),m=Rp(u,l.type);u!==m&&(ct(nl,l),ct(kr,m))}function Rh(l){nl.current===l&&(pt(kr),pt(nl))}var vt=Ni(0);function ju(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Mh=[];function Dh(){for(var l=0;l<Mh.length;l++)Mh[l]._workInProgressVersionPrimary=null;Mh.length=0}var ku=A.ReactCurrentDispatcher,Lh=A.ReactCurrentBatchConfig,oa=0,yt=null,Pt=null,Bt=null,Au=!1,il=!1,al=0,t4=0;function Qt(){throw Error(n(321))}function $h(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!sr(l[m],u[m]))return!1;return!0}function Fh(l,u,m,b,_,k){if(oa=k,yt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,ku.current=l===null||l.memoizedState===null?a4:s4,l=m(b,_),il){k=0;do{if(il=!1,al=0,25<=k)throw Error(n(301));k+=1,Bt=Pt=null,u.updateQueue=null,ku.current=o4,l=m(b,_)}while(il)}if(ku.current=Cu,u=Pt!==null&&Pt.next!==null,oa=0,Bt=Pt=yt=null,Au=!1,u)throw Error(n(300));return l}function Uh(){var l=al!==0;return al=0,l}function Ar(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?yt.memoizedState=Bt=l:Bt=Bt.next=l,Bt}function Un(){if(Pt===null){var l=yt.alternate;l=l!==null?l.memoizedState:null}else l=Pt.next;var u=Bt===null?yt.memoizedState:Bt.next;if(u!==null)Bt=u,Pt=l;else{if(l===null)throw Error(n(310));Pt=l,l={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Bt===null?yt.memoizedState=Bt=l:Bt=Bt.next=l}return Bt}function sl(l,u){return typeof u=="function"?u(l):u}function Bh(l){var u=Un(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var b=Pt,_=b.baseQueue,k=m.pending;if(k!==null){if(_!==null){var I=_.next;_.next=k.next,k.next=I}b.baseQueue=_=k,m.pending=null}if(_!==null){k=_.next,b=b.baseState;var $=I=null,q=null,te=k;do{var ae=te.lane;if((oa&ae)===ae)q!==null&&(q=q.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),b=te.hasEagerState?te.eagerState:l(b,te.action);else{var oe={lane:ae,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};q===null?($=q=oe,I=b):q=q.next=oe,yt.lanes|=ae,la|=ae}te=te.next}while(te!==null&&te!==k);q===null?I=b:q.next=$,sr(b,u.memoizedState)||(bn=!0),u.memoizedState=b,u.baseState=I,u.baseQueue=q,m.lastRenderedState=b}if(l=m.interleaved,l!==null){_=l;do k=_.lane,yt.lanes|=k,la|=k,_=_.next;while(_!==l)}else _===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function qh(l){var u=Un(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var b=m.dispatch,_=m.pending,k=u.memoizedState;if(_!==null){m.pending=null;var I=_=_.next;do k=l(k,I.action),I=I.next;while(I!==_);sr(k,u.memoizedState)||(bn=!0),u.memoizedState=k,u.baseQueue===null&&(u.baseState=k),m.lastRenderedState=k}return[k,b]}function jN(){}function kN(l,u){var m=yt,b=Un(),_=u(),k=!sr(b.memoizedState,_);if(k&&(b.memoizedState=_,bn=!0),b=b.queue,Gh(EN.bind(null,m,b,l),[l]),b.getSnapshot!==u||k||Bt!==null&&Bt.memoizedState.tag&1){if(m.flags|=2048,ol(9,TN.bind(null,m,b,_,u),void 0,null),qt===null)throw Error(n(349));(oa&30)!==0||AN(m,u,_)}return _}function AN(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},u=yt.updateQueue,u===null?(u={lastEffect:null,stores:null},yt.updateQueue=u,u.stores=[l]):(m=u.stores,m===null?u.stores=[l]:m.push(l))}function TN(l,u,m,b){u.value=m,u.getSnapshot=b,CN(u)&&PN(l)}function EN(l,u,m){return m(function(){CN(u)&&PN(l)})}function CN(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!sr(l,m)}catch{return!0}}function PN(l){var u=Hr(l,1);u!==null&&dr(u,l,1,-1)}function IN(l){var u=Ar();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:l},u.queue=l,l=l.dispatch=i4.bind(null,yt,l),[u.memoizedState,l]}function ol(l,u,m,b){return l={tag:l,create:u,destroy:m,deps:b,next:null},u=yt.updateQueue,u===null?(u={lastEffect:null,stores:null},yt.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect,m===null?u.lastEffect=l.next=l:(b=m.next,m.next=l,l.next=b,u.lastEffect=l)),l}function ON(){return Un().memoizedState}function Tu(l,u,m,b){var _=Ar();yt.flags|=l,_.memoizedState=ol(1|u,m,void 0,b===void 0?null:b)}function Eu(l,u,m,b){var _=Un();b=b===void 0?null:b;var k=void 0;if(Pt!==null){var I=Pt.memoizedState;if(k=I.destroy,b!==null&&$h(b,I.deps)){_.memoizedState=ol(u,m,k,b);return}}yt.flags|=l,_.memoizedState=ol(1|u,m,k,b)}function RN(l,u){return Tu(8390656,8,l,u)}function Gh(l,u){return Eu(2048,8,l,u)}function MN(l,u){return Eu(4,2,l,u)}function DN(l,u){return Eu(4,4,l,u)}function LN(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function $N(l,u,m){return m=m!=null?m.concat([l]):null,Eu(4,4,LN.bind(null,u,l),m)}function Hh(){}function FN(l,u){var m=Un();u=u===void 0?null:u;var b=m.memoizedState;return b!==null&&u!==null&&$h(u,b[1])?b[0]:(m.memoizedState=[l,u],l)}function UN(l,u){var m=Un();u=u===void 0?null:u;var b=m.memoizedState;return b!==null&&u!==null&&$h(u,b[1])?b[0]:(l=l(),m.memoizedState=[l,u],l)}function BN(l,u,m){return(oa&21)===0?(l.baseState&&(l.baseState=!1,bn=!0),l.memoizedState=m):(sr(m,u)||(m=x1(),yt.lanes|=m,la|=m,l.baseState=!0),u)}function n4(l,u){var m=rt;rt=m!==0&&4>m?m:4,l(!0);var b=Lh.transition;Lh.transition={};try{l(!1),u()}finally{rt=m,Lh.transition=b}}function qN(){return Un().memoizedState}function r4(l,u,m){var b=Ci(l);if(m={lane:b,action:m,hasEagerState:!1,eagerState:null,next:null},GN(l))HN(u,m);else if(m=bN(l,u,m,b),m!==null){var _=ln();dr(m,l,b,_),zN(m,u,b)}}function i4(l,u,m){var b=Ci(l),_={lane:b,action:m,hasEagerState:!1,eagerState:null,next:null};if(GN(l))HN(u,_);else{var k=l.alternate;if(l.lanes===0&&(k===null||k.lanes===0)&&(k=u.lastRenderedReducer,k!==null))try{var I=u.lastRenderedState,$=k(I,m);if(_.hasEagerState=!0,_.eagerState=$,sr($,I)){var q=u.interleaved;q===null?(_.next=_,Ph(u)):(_.next=q.next,q.next=_),u.interleaved=_;return}}catch{}m=bN(l,u,_,b),m!==null&&(_=ln(),dr(m,l,b,_),zN(m,u,b))}}function GN(l){var u=l.alternate;return l===yt||u!==null&&u===yt}function HN(l,u){il=Au=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function zN(l,u,m){if((m&4194240)!==0){var b=u.lanes;b&=l.pendingLanes,m|=b,u.lanes=m,Vp(l,m)}}var Cu={readContext:Fn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},a4={readContext:Fn,useCallback:function(l,u){return Ar().memoizedState=[l,u===void 0?null:u],l},useContext:Fn,useEffect:RN,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,Tu(4194308,4,LN.bind(null,u,l),m)},useLayoutEffect:function(l,u){return Tu(4194308,4,l,u)},useInsertionEffect:function(l,u){return Tu(4,2,l,u)},useMemo:function(l,u){var m=Ar();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var b=Ar();return u=m!==void 0?m(u):u,b.memoizedState=b.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},b.queue=l,l=l.dispatch=r4.bind(null,yt,l),[b.memoizedState,l]},useRef:function(l){var u=Ar();return l={current:l},u.memoizedState=l},useState:IN,useDebugValue:Hh,useDeferredValue:function(l){return Ar().memoizedState=l},useTransition:function(){var l=IN(!1),u=l[0];return l=n4.bind(null,l[1]),Ar().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var b=yt,_=Ar();if(gt){if(m===void 0)throw Error(n(407));m=m()}else{if(m=u(),qt===null)throw Error(n(349));(oa&30)!==0||AN(b,u,m)}_.memoizedState=m;var k={value:m,getSnapshot:u};return _.queue=k,RN(EN.bind(null,b,k,l),[l]),b.flags|=2048,ol(9,TN.bind(null,b,k,m,u),void 0,null),m},useId:function(){var l=Ar(),u=qt.identifierPrefix;if(gt){var m=Gr,b=qr;m=(b&~(1<<32-ar(b)-1)).toString(32)+m,u=":"+u+"R"+m,m=al++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=t4++,u=":"+u+"r"+m.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},s4={readContext:Fn,useCallback:FN,useContext:Fn,useEffect:Gh,useImperativeHandle:$N,useInsertionEffect:MN,useLayoutEffect:DN,useMemo:UN,useReducer:Bh,useRef:ON,useState:function(){return Bh(sl)},useDebugValue:Hh,useDeferredValue:function(l){var u=Un();return BN(u,Pt.memoizedState,l)},useTransition:function(){var l=Bh(sl)[0],u=Un().memoizedState;return[l,u]},useMutableSource:jN,useSyncExternalStore:kN,useId:qN,unstable_isNewReconciler:!1},o4={readContext:Fn,useCallback:FN,useContext:Fn,useEffect:Gh,useImperativeHandle:$N,useInsertionEffect:MN,useLayoutEffect:DN,useMemo:UN,useReducer:qh,useRef:ON,useState:function(){return qh(sl)},useDebugValue:Hh,useDeferredValue:function(l){var u=Un();return Pt===null?u.memoizedState=l:BN(u,Pt.memoizedState,l)},useTransition:function(){var l=qh(sl)[0],u=Un().memoizedState;return[l,u]},useMutableSource:jN,useSyncExternalStore:kN,useId:qN,unstable_isNewReconciler:!1};function lr(l,u){if(l&&l.defaultProps){u=ne({},u),l=l.defaultProps;for(var m in l)u[m]===void 0&&(u[m]=l[m]);return u}return u}function zh(l,u,m,b){u=l.memoizedState,m=m(b,u),m=m==null?u:ne({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Pu={isMounted:function(l){return(l=l._reactInternals)?ea(l)===l:!1},enqueueSetState:function(l,u,m){l=l._reactInternals;var b=ln(),_=Ci(l),k=zr(b,_);k.payload=u,m!=null&&(k.callback=m),u=ki(l,k,_),u!==null&&(dr(u,l,_,b),Su(u,l,_))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var b=ln(),_=Ci(l),k=zr(b,_);k.tag=1,k.payload=u,m!=null&&(k.callback=m),u=ki(l,k,_),u!==null&&(dr(u,l,_,b),Su(u,l,_))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=ln(),b=Ci(l),_=zr(m,b);_.tag=2,u!=null&&(_.callback=u),u=ki(l,_,b),u!==null&&(dr(u,l,b,m),Su(u,l,b))}};function VN(l,u,m,b,_,k,I){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,k,I):u.prototype&&u.prototype.isPureReactComponent?!Wo(m,b)||!Wo(_,k):!0}function WN(l,u,m){var b=!1,_=Si,k=u.contextType;return typeof k=="object"&&k!==null?k=Fn(k):(_=yn(u)?na:Zt.current,b=u.contextTypes,k=(b=b!=null)?es(l,_):Si),u=new u(m,k),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Pu,l.stateNode=u,u._reactInternals=l,b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=_,l.__reactInternalMemoizedMaskedChildContext=k),u}function KN(l,u,m,b){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,b),u.state!==l&&Pu.enqueueReplaceState(u,u.state,null)}function Vh(l,u,m,b){var _=l.stateNode;_.props=m,_.state=l.memoizedState,_.refs={},Ih(l);var k=u.contextType;typeof k=="object"&&k!==null?_.context=Fn(k):(k=yn(u)?na:Zt.current,_.context=es(l,k)),_.state=l.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(zh(l,u,k,m),_.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(u=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),u!==_.state&&Pu.enqueueReplaceState(_,_.state,null),_u(l,m,_,b),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308)}function ls(l,u){try{var m="",b=u;do m+=Ce(b),b=b.return;while(b);var _=m}catch(k){_=`
Error generating stack: `+k.message+`
`+k.stack}return{value:l,source:u,stack:_,digest:null}}function Wh(l,u,m){return{value:l,source:null,stack:m??null,digest:u??null}}function Kh(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var l4=typeof WeakMap=="function"?WeakMap:Map;function YN(l,u,m){m=zr(-1,m),m.tag=3,m.payload={element:null};var b=u.value;return m.callback=function(){$u||($u=!0,cm=b),Kh(l,u)},m}function JN(l,u,m){m=zr(-1,m),m.tag=3;var b=l.type.getDerivedStateFromError;if(typeof b=="function"){var _=u.value;m.payload=function(){return b(_)},m.callback=function(){Kh(l,u)}}var k=l.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(m.callback=function(){Kh(l,u),typeof b!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})}),m}function XN(l,u,m){var b=l.pingCache;if(b===null){b=l.pingCache=new l4;var _=new Set;b.set(u,_)}else _=b.get(u),_===void 0&&(_=new Set,b.set(u,_));_.has(m)||(_.add(m),l=N4.bind(null,l,u,m),u.then(l,l))}function ZN(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function QN(l,u,m,b,_){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=zr(-1,1),u.tag=2,ki(m,u,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=_,l)}var c4=A.ReactCurrentOwner,bn=!1;function on(l,u,m,b){u.child=l===null?yN(u,null,m,b):is(u,l.child,m,b)}function eS(l,u,m,b,_){m=m.render;var k=u.ref;return ss(u,_),b=Fh(l,u,m,b,k,_),m=Uh(),l!==null&&!bn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~_,Vr(l,u,_)):(gt&&m&&Nh(u),u.flags|=1,on(l,u,b,_),u.child)}function tS(l,u,m,b,_){if(l===null){var k=m.type;return typeof k=="function"&&!gm(k)&&k.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=k,nS(l,u,k,b,_)):(l=Hu(m.type,null,b,u,u.mode,_),l.ref=u.ref,l.return=u,u.child=l)}if(k=l.child,(l.lanes&_)===0){var I=k.memoizedProps;if(m=m.compare,m=m!==null?m:Wo,m(I,b)&&l.ref===u.ref)return Vr(l,u,_)}return u.flags|=1,l=Ii(k,b),l.ref=u.ref,l.return=u,u.child=l}function nS(l,u,m,b,_){if(l!==null){var k=l.memoizedProps;if(Wo(k,b)&&l.ref===u.ref)if(bn=!1,u.pendingProps=b=k,(l.lanes&_)!==0)(l.flags&131072)!==0&&(bn=!0);else return u.lanes=l.lanes,Vr(l,u,_)}return Yh(l,u,m,b,_)}function rS(l,u,m){var b=u.pendingProps,_=b.children,k=l!==null?l.memoizedState:null;if(b.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(us,En),En|=m;else{if((m&1073741824)===0)return l=k!==null?k.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,ct(us,En),En|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=k!==null?k.baseLanes:m,ct(us,En),En|=b}else k!==null?(b=k.baseLanes|m,u.memoizedState=null):b=m,ct(us,En),En|=b;return on(l,u,_,m),u.child}function iS(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function Yh(l,u,m,b,_){var k=yn(m)?na:Zt.current;return k=es(u,k),ss(u,_),m=Fh(l,u,m,b,k,_),b=Uh(),l!==null&&!bn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~_,Vr(l,u,_)):(gt&&b&&Nh(u),u.flags|=1,on(l,u,m,_),u.child)}function aS(l,u,m,b,_){if(yn(m)){var k=!0;mu(u)}else k=!1;if(ss(u,_),u.stateNode===null)Ou(l,u),WN(u,m,b),Vh(u,m,b,_),b=!0;else if(l===null){var I=u.stateNode,$=u.memoizedProps;I.props=$;var q=I.context,te=m.contextType;typeof te=="object"&&te!==null?te=Fn(te):(te=yn(m)?na:Zt.current,te=es(u,te));var ae=m.getDerivedStateFromProps,oe=typeof ae=="function"||typeof I.getSnapshotBeforeUpdate=="function";oe||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||($!==b||q!==te)&&KN(u,I,b,te),ji=!1;var ie=u.memoizedState;I.state=ie,_u(u,b,I,_),q=u.memoizedState,$!==b||ie!==q||vn.current||ji?(typeof ae=="function"&&(zh(u,m,ae,b),q=u.memoizedState),($=ji||VN(u,m,$,b,ie,q,te))?(oe||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(u.flags|=4194308)):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=q),I.props=b,I.state=q,I.context=te,b=$):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{I=u.stateNode,wN(l,u),$=u.memoizedProps,te=u.type===u.elementType?$:lr(u.type,$),I.props=te,oe=u.pendingProps,ie=I.context,q=m.contextType,typeof q=="object"&&q!==null?q=Fn(q):(q=yn(m)?na:Zt.current,q=es(u,q));var ge=m.getDerivedStateFromProps;(ae=typeof ge=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||($!==oe||ie!==q)&&KN(u,I,b,q),ji=!1,ie=u.memoizedState,I.state=ie,_u(u,b,I,_);var Ne=u.memoizedState;$!==oe||ie!==Ne||vn.current||ji?(typeof ge=="function"&&(zh(u,m,ge,b),Ne=u.memoizedState),(te=ji||VN(u,m,te,b,ie,Ne,q)||!1)?(ae||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(b,Ne,q),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(b,Ne,q)),typeof I.componentDidUpdate=="function"&&(u.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof I.componentDidUpdate!="function"||$===l.memoizedProps&&ie===l.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||$===l.memoizedProps&&ie===l.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=Ne),I.props=b,I.state=Ne,I.context=q,b=te):(typeof I.componentDidUpdate!="function"||$===l.memoizedProps&&ie===l.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||$===l.memoizedProps&&ie===l.memoizedState||(u.flags|=1024),b=!1)}return Jh(l,u,m,b,k,_)}function Jh(l,u,m,b,_,k){iS(l,u);var I=(u.flags&128)!==0;if(!b&&!I)return _&&uN(u,m,!1),Vr(l,u,k);b=u.stateNode,c4.current=u;var $=I&&typeof m.getDerivedStateFromError!="function"?null:b.render();return u.flags|=1,l!==null&&I?(u.child=is(u,l.child,null,k),u.child=is(u,null,$,k)):on(l,u,$,k),u.memoizedState=b.state,_&&uN(u,m,!0),u.child}function sS(l){var u=l.stateNode;u.pendingContext?lN(l,u.pendingContext,u.pendingContext!==u.context):u.context&&lN(l,u.context,!1),Oh(l,u.containerInfo)}function oS(l,u,m,b,_){return rs(),kh(_),u.flags|=256,on(l,u,m,b),u.child}var Xh={dehydrated:null,treeContext:null,retryLane:0};function Zh(l){return{baseLanes:l,cachePool:null,transitions:null}}function lS(l,u,m){var b=u.pendingProps,_=vt.current,k=!1,I=(u.flags&128)!==0,$;if(($=I)||($=l!==null&&l.memoizedState===null?!1:(_&2)!==0),$?(k=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(_|=1),ct(vt,_&1),l===null)return jh(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(I=b.children,l=b.fallback,k?(b=u.mode,k=u.child,I={mode:"hidden",children:I},(b&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=I):k=zu(I,b,0,null),l=fa(l,b,m,null),k.return=u,l.return=u,k.sibling=l,u.child=k,u.child.memoizedState=Zh(m),u.memoizedState=Xh,l):Qh(u,I));if(_=l.memoizedState,_!==null&&($=_.dehydrated,$!==null))return u4(l,u,I,b,$,_,m);if(k){k=b.fallback,I=u.mode,_=l.child,$=_.sibling;var q={mode:"hidden",children:b.children};return(I&1)===0&&u.child!==_?(b=u.child,b.childLanes=0,b.pendingProps=q,u.deletions=null):(b=Ii(_,q),b.subtreeFlags=_.subtreeFlags&14680064),$!==null?k=Ii($,k):(k=fa(k,I,m,null),k.flags|=2),k.return=u,b.return=u,b.sibling=k,u.child=b,b=k,k=u.child,I=l.child.memoizedState,I=I===null?Zh(m):{baseLanes:I.baseLanes|m,cachePool:null,transitions:I.transitions},k.memoizedState=I,k.childLanes=l.childLanes&~m,u.memoizedState=Xh,b}return k=l.child,l=k.sibling,b=Ii(k,{mode:"visible",children:b.children}),(u.mode&1)===0&&(b.lanes=m),b.return=u,b.sibling=null,l!==null&&(m=u.deletions,m===null?(u.deletions=[l],u.flags|=16):m.push(l)),u.child=b,u.memoizedState=null,b}function Qh(l,u){return u=zu({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function Iu(l,u,m,b){return b!==null&&kh(b),is(u,l.child,null,m),l=Qh(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function u4(l,u,m,b,_,k,I){if(m)return u.flags&256?(u.flags&=-257,b=Wh(Error(n(422))),Iu(l,u,I,b)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(k=b.fallback,_=u.mode,b=zu({mode:"visible",children:b.children},_,0,null),k=fa(k,_,I,null),k.flags|=2,b.return=u,k.return=u,b.sibling=k,u.child=b,(u.mode&1)!==0&&is(u,l.child,null,I),u.child.memoizedState=Zh(I),u.memoizedState=Xh,k);if((u.mode&1)===0)return Iu(l,u,I,null);if(_.data==="$!"){if(b=_.nextSibling&&_.nextSibling.dataset,b)var $=b.dgst;return b=$,k=Error(n(419)),b=Wh(k,b,void 0),Iu(l,u,I,b)}if($=(I&l.childLanes)!==0,bn||$){if(b=qt,b!==null){switch(I&-I){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(b.suspendedLanes|I))!==0?0:_,_!==0&&_!==k.retryLane&&(k.retryLane=_,Hr(l,_),dr(b,l,_,-1))}return mm(),b=Wh(Error(n(421))),Iu(l,u,I,b)}return _.data==="$?"?(u.flags|=128,u.child=l.child,u=S4.bind(null,l),_._reactRetry=u,null):(l=k.treeContext,Tn=wi(_.nextSibling),An=u,gt=!0,or=null,l!==null&&(Ln[$n++]=qr,Ln[$n++]=Gr,Ln[$n++]=ra,qr=l.id,Gr=l.overflow,ra=u),u=Qh(u,b.children),u.flags|=4096,u)}function cS(l,u,m){l.lanes|=u;var b=l.alternate;b!==null&&(b.lanes|=u),Ch(l.return,u,m)}function em(l,u,m,b,_){var k=l.memoizedState;k===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:m,tailMode:_}:(k.isBackwards=u,k.rendering=null,k.renderingStartTime=0,k.last=b,k.tail=m,k.tailMode=_)}function uS(l,u,m){var b=u.pendingProps,_=b.revealOrder,k=b.tail;if(on(l,u,b.children,m),b=vt.current,(b&2)!==0)b=b&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&cS(l,m,u);else if(l.tag===19)cS(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}if(ct(vt,b),(u.mode&1)===0)u.memoizedState=null;else switch(_){case"forwards":for(m=u.child,_=null;m!==null;)l=m.alternate,l!==null&&ju(l)===null&&(_=m),m=m.sibling;m=_,m===null?(_=u.child,u.child=null):(_=m.sibling,m.sibling=null),em(u,!1,_,m,k);break;case"backwards":for(m=null,_=u.child,u.child=null;_!==null;){if(l=_.alternate,l!==null&&ju(l)===null){u.child=_;break}l=_.sibling,_.sibling=m,m=_,_=l}em(u,!0,m,null,k);break;case"together":em(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Ou(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Vr(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),la|=u.lanes,(m&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,m=Ii(l,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,m=m.sibling=Ii(l,l.pendingProps),m.return=u;m.sibling=null}return u.child}function d4(l,u,m){switch(u.tag){case 3:sS(u),rs();break;case 5:_N(u);break;case 1:yn(u.type)&&mu(u);break;case 4:Oh(u,u.stateNode.containerInfo);break;case 10:var b=u.type._context,_=u.memoizedProps.value;ct(wu,b._currentValue),b._currentValue=_;break;case 13:if(b=u.memoizedState,b!==null)return b.dehydrated!==null?(ct(vt,vt.current&1),u.flags|=128,null):(m&u.child.childLanes)!==0?lS(l,u,m):(ct(vt,vt.current&1),l=Vr(l,u,m),l!==null?l.sibling:null);ct(vt,vt.current&1);break;case 19:if(b=(m&u.childLanes)!==0,(l.flags&128)!==0){if(b)return uS(l,u,m);u.flags|=128}if(_=u.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ct(vt,vt.current),b)break;return null;case 22:case 23:return u.lanes=0,rS(l,u,m)}return Vr(l,u,m)}var dS,tm,fS,pS;dS=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},tm=function(){},fS=function(l,u,m,b){var _=l.memoizedProps;if(_!==b){l=u.stateNode,sa(kr.current);var k=null;switch(m){case"input":_=ze(l,_),b=ze(l,b),k=[];break;case"select":_=ne({},_,{value:void 0}),b=ne({},b,{value:void 0}),k=[];break;case"textarea":_=ir(l,_),b=ir(l,b),k=[];break;default:typeof _.onClick!="function"&&typeof b.onClick=="function"&&(l.onclick=fu)}Mp(m,b);var I;m=null;for(te in _)if(!b.hasOwnProperty(te)&&_.hasOwnProperty(te)&&_[te]!=null)if(te==="style"){var $=_[te];for(I in $)$.hasOwnProperty(I)&&(m||(m={}),m[I]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(i.hasOwnProperty(te)?k||(k=[]):(k=k||[]).push(te,null));for(te in b){var q=b[te];if($=_?.[te],b.hasOwnProperty(te)&&q!==$&&(q!=null||$!=null))if(te==="style")if($){for(I in $)!$.hasOwnProperty(I)||q&&q.hasOwnProperty(I)||(m||(m={}),m[I]="");for(I in q)q.hasOwnProperty(I)&&$[I]!==q[I]&&(m||(m={}),m[I]=q[I])}else m||(k||(k=[]),k.push(te,m)),m=q;else te==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,$=$?$.__html:void 0,q!=null&&$!==q&&(k=k||[]).push(te,q)):te==="children"?typeof q!="string"&&typeof q!="number"||(k=k||[]).push(te,""+q):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(i.hasOwnProperty(te)?(q!=null&&te==="onScroll"&&ft("scroll",l),k||$===q||(k=[])):(k=k||[]).push(te,q))}m&&(k=k||[]).push("style",m);var te=k;(u.updateQueue=te)&&(u.flags|=4)}},pS=function(l,u,m,b){m!==b&&(u.flags|=4)};function ll(l,u){if(!gt)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function en(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,b=0;if(u)for(var _=l.child;_!==null;)m|=_.lanes|_.childLanes,b|=_.subtreeFlags&14680064,b|=_.flags&14680064,_.return=l,_=_.sibling;else for(_=l.child;_!==null;)m|=_.lanes|_.childLanes,b|=_.subtreeFlags,b|=_.flags,_.return=l,_=_.sibling;return l.subtreeFlags|=b,l.childLanes=m,u}function f4(l,u,m){var b=u.pendingProps;switch(Sh(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(u),null;case 1:return yn(u.type)&&hu(),en(u),null;case 3:return b=u.stateNode,os(),pt(vn),pt(Zt),Dh(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(l===null||l.child===null)&&(yu(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,or!==null&&(fm(or),or=null))),tm(l,u),en(u),null;case 5:Rh(u);var _=sa(rl.current);if(m=u.type,l!==null&&u.stateNode!=null)fS(l,u,m,b,_),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!b){if(u.stateNode===null)throw Error(n(166));return en(u),null}if(l=sa(kr.current),yu(u)){b=u.stateNode,m=u.type;var k=u.memoizedProps;switch(b[jr]=u,b[Zo]=k,l=(u.mode&1)!==0,m){case"dialog":ft("cancel",b),ft("close",b);break;case"iframe":case"object":case"embed":ft("load",b);break;case"video":case"audio":for(_=0;_<Yo.length;_++)ft(Yo[_],b);break;case"source":ft("error",b);break;case"img":case"image":case"link":ft("error",b),ft("load",b);break;case"details":ft("toggle",b);break;case"input":wt(b,k),ft("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!k.multiple},ft("invalid",b);break;case"textarea":qa(b,k),ft("invalid",b)}Mp(m,k),_=null;for(var I in k)if(k.hasOwnProperty(I)){var $=k[I];I==="children"?typeof $=="string"?b.textContent!==$&&(k.suppressHydrationWarning!==!0&&du(b.textContent,$,l),_=["children",$]):typeof $=="number"&&b.textContent!==""+$&&(k.suppressHydrationWarning!==!0&&du(b.textContent,$,l),_=["children",""+$]):i.hasOwnProperty(I)&&$!=null&&I==="onScroll"&&ft("scroll",b)}switch(m){case"input":Ue(b),rr(b,k,!0);break;case"textarea":Ue(b),Eo(b);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(b.onclick=fu)}b=_,u.updateQueue=b,b!==null&&(u.flags|=4)}else{I=_.nodeType===9?_:_.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Qw(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=I.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof b.is=="string"?l=I.createElement(m,{is:b.is}):(l=I.createElement(m),m==="select"&&(I=l,b.multiple?I.multiple=!0:b.size&&(I.size=b.size))):l=I.createElementNS(l,m),l[jr]=u,l[Zo]=b,dS(l,u,!1,!1),u.stateNode=l;e:{switch(I=Dp(m,b),m){case"dialog":ft("cancel",l),ft("close",l),_=b;break;case"iframe":case"object":case"embed":ft("load",l),_=b;break;case"video":case"audio":for(_=0;_<Yo.length;_++)ft(Yo[_],l);_=b;break;case"source":ft("error",l),_=b;break;case"img":case"image":case"link":ft("error",l),ft("load",l),_=b;break;case"details":ft("toggle",l),_=b;break;case"input":wt(l,b),_=ze(l,b),ft("invalid",l);break;case"option":_=b;break;case"select":l._wrapperState={wasMultiple:!!b.multiple},_=ne({},b,{value:void 0}),ft("invalid",l);break;case"textarea":qa(l,b),_=ir(l,b),ft("invalid",l);break;default:_=b}Mp(m,_),$=_;for(k in $)if($.hasOwnProperty(k)){var q=$[k];k==="style"?n1(l,q):k==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&e1(l,q)):k==="children"?typeof q=="string"?(m!=="textarea"||q!=="")&&Co(l,q):typeof q=="number"&&Co(l,""+q):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?q!=null&&k==="onScroll"&&ft("scroll",l):q!=null&&C(l,k,q,I))}switch(m){case"input":Ue(l),rr(l,b,!1);break;case"textarea":Ue(l),Eo(l);break;case"option":b.value!=null&&l.setAttribute("value",""+Fe(b.value));break;case"select":l.multiple=!!b.multiple,k=b.value,k!=null?xn(l,!!b.multiple,k,!1):b.defaultValue!=null&&xn(l,!!b.multiple,b.defaultValue,!0);break;default:typeof _.onClick=="function"&&(l.onclick=fu)}switch(m){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return en(u),null;case 6:if(l&&u.stateNode!=null)pS(l,u,l.memoizedProps,b);else{if(typeof b!="string"&&u.stateNode===null)throw Error(n(166));if(m=sa(rl.current),sa(kr.current),yu(u)){if(b=u.stateNode,m=u.memoizedProps,b[jr]=u,(k=b.nodeValue!==m)&&(l=An,l!==null))switch(l.tag){case 3:du(b.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&du(b.nodeValue,m,(l.mode&1)!==0)}k&&(u.flags|=4)}else b=(m.nodeType===9?m:m.ownerDocument).createTextNode(b),b[jr]=u,u.stateNode=b}return en(u),null;case 13:if(pt(vt),b=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(gt&&Tn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)gN(),rs(),u.flags|=98560,k=!1;else if(k=yu(u),b!==null&&b.dehydrated!==null){if(l===null){if(!k)throw Error(n(318));if(k=u.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[jr]=u}else rs(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;en(u),k=!1}else or!==null&&(fm(or),or=null),k=!0;if(!k)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=m,u):(b=b!==null,b!==(l!==null&&l.memoizedState!==null)&&b&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(vt.current&1)!==0?It===0&&(It=3):mm())),u.updateQueue!==null&&(u.flags|=4),en(u),null);case 4:return os(),tm(l,u),l===null&&Jo(u.stateNode.containerInfo),en(u),null;case 10:return Eh(u.type._context),en(u),null;case 17:return yn(u.type)&&hu(),en(u),null;case 19:if(pt(vt),k=u.memoizedState,k===null)return en(u),null;if(b=(u.flags&128)!==0,I=k.rendering,I===null)if(b)ll(k,!1);else{if(It!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(I=ju(l),I!==null){for(u.flags|=128,ll(k,!1),b=I.updateQueue,b!==null&&(u.updateQueue=b,u.flags|=4),u.subtreeFlags=0,b=m,m=u.child;m!==null;)k=m,l=b,k.flags&=14680066,I=k.alternate,I===null?(k.childLanes=0,k.lanes=l,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=I.childLanes,k.lanes=I.lanes,k.child=I.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=I.memoizedProps,k.memoizedState=I.memoizedState,k.updateQueue=I.updateQueue,k.type=I.type,l=I.dependencies,k.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return ct(vt,vt.current&1|2),u.child}l=l.sibling}k.tail!==null&&jt()>ds&&(u.flags|=128,b=!0,ll(k,!1),u.lanes=4194304)}else{if(!b)if(l=ju(I),l!==null){if(u.flags|=128,b=!0,m=l.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),ll(k,!0),k.tail===null&&k.tailMode==="hidden"&&!I.alternate&&!gt)return en(u),null}else 2*jt()-k.renderingStartTime>ds&&m!==1073741824&&(u.flags|=128,b=!0,ll(k,!1),u.lanes=4194304);k.isBackwards?(I.sibling=u.child,u.child=I):(m=k.last,m!==null?m.sibling=I:u.child=I,k.last=I)}return k.tail!==null?(u=k.tail,k.rendering=u,k.tail=u.sibling,k.renderingStartTime=jt(),u.sibling=null,m=vt.current,ct(vt,b?m&1|2:m&1),u):(en(u),null);case 22:case 23:return hm(),b=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==b&&(u.flags|=8192),b&&(u.mode&1)!==0?(En&1073741824)!==0&&(en(u),u.subtreeFlags&6&&(u.flags|=8192)):en(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function p4(l,u){switch(Sh(u),u.tag){case 1:return yn(u.type)&&hu(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return os(),pt(vn),pt(Zt),Dh(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return Rh(u),null;case 13:if(pt(vt),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));rs()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return pt(vt),null;case 4:return os(),null;case 10:return Eh(u.type._context),null;case 22:case 23:return hm(),null;case 24:return null;default:return null}}var Ru=!1,tn=!1,h4=typeof WeakSet=="function"?WeakSet:Set,be=null;function cs(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(b){St(l,u,b)}else m.current=null}function nm(l,u,m){try{m()}catch(b){St(l,u,b)}}var hS=!1;function m4(l,u){if(hh=eu,l=V1(),sh(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var b=m.getSelection&&m.getSelection();if(b&&b.rangeCount!==0){m=b.anchorNode;var _=b.anchorOffset,k=b.focusNode;b=b.focusOffset;try{m.nodeType,k.nodeType}catch{m=null;break e}var I=0,$=-1,q=-1,te=0,ae=0,oe=l,ie=null;t:for(;;){for(var ge;oe!==m||_!==0&&oe.nodeType!==3||($=I+_),oe!==k||b!==0&&oe.nodeType!==3||(q=I+b),oe.nodeType===3&&(I+=oe.nodeValue.length),(ge=oe.firstChild)!==null;)ie=oe,oe=ge;for(;;){if(oe===l)break t;if(ie===m&&++te===_&&($=I),ie===k&&++ae===b&&(q=I),(ge=oe.nextSibling)!==null)break;oe=ie,ie=oe.parentNode}oe=ge}m=$===-1||q===-1?null:{start:$,end:q}}else m=null}m=m||{start:0,end:0}}else m=null;for(mh={focusedElem:l,selectionRange:m},eu=!1,be=u;be!==null;)if(u=be,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,be=l;else for(;be!==null;){u=be;try{var Ne=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Se=Ne.memoizedProps,kt=Ne.memoizedState,X=u.stateNode,V=X.getSnapshotBeforeUpdate(u.elementType===u.type?Se:lr(u.type,Se),kt);X.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var Q=u.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(de){St(u,u.return,de)}if(l=u.sibling,l!==null){l.return=u.return,be=l;break}be=u.return}return Ne=hS,hS=!1,Ne}function cl(l,u,m){var b=u.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var _=b=b.next;do{if((_.tag&l)===l){var k=_.destroy;_.destroy=void 0,k!==void 0&&nm(u,m,k)}_=_.next}while(_!==b)}}function Mu(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&l)===l){var b=m.create;m.destroy=b()}m=m.next}while(m!==u)}}function rm(l){var u=l.ref;if(u!==null){var m=l.stateNode;l.tag,l=m,typeof u=="function"?u(l):u.current=l}}function mS(l){var u=l.alternate;u!==null&&(l.alternate=null,mS(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[jr],delete u[Zo],delete u[yh],delete u[XD],delete u[ZD])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function gS(l){return l.tag===5||l.tag===3||l.tag===4}function xS(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||gS(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function im(l,u,m){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(l,u):m.insertBefore(l,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(l,m)):(u=m,u.appendChild(l)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=fu));else if(b!==4&&(l=l.child,l!==null))for(im(l,u,m),l=l.sibling;l!==null;)im(l,u,m),l=l.sibling}function am(l,u,m){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?m.insertBefore(l,u):m.appendChild(l);else if(b!==4&&(l=l.child,l!==null))for(am(l,u,m),l=l.sibling;l!==null;)am(l,u,m),l=l.sibling}var Kt=null,cr=!1;function Ai(l,u,m){for(m=m.child;m!==null;)vS(l,u,m),m=m.sibling}function vS(l,u,m){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(Kc,m)}catch{}switch(m.tag){case 5:tn||cs(m,u);case 6:var b=Kt,_=cr;Kt=null,Ai(l,u,m),Kt=b,cr=_,Kt!==null&&(cr?(l=Kt,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):Kt.removeChild(m.stateNode));break;case 18:Kt!==null&&(cr?(l=Kt,m=m.stateNode,l.nodeType===8?vh(l.parentNode,m):l.nodeType===1&&vh(l,m),Bo(l)):vh(Kt,m.stateNode));break;case 4:b=Kt,_=cr,Kt=m.stateNode.containerInfo,cr=!0,Ai(l,u,m),Kt=b,cr=_;break;case 0:case 11:case 14:case 15:if(!tn&&(b=m.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){_=b=b.next;do{var k=_,I=k.destroy;k=k.tag,I!==void 0&&((k&2)!==0||(k&4)!==0)&&nm(m,u,I),_=_.next}while(_!==b)}Ai(l,u,m);break;case 1:if(!tn&&(cs(m,u),b=m.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=m.memoizedProps,b.state=m.memoizedState,b.componentWillUnmount()}catch($){St(m,u,$)}Ai(l,u,m);break;case 21:Ai(l,u,m);break;case 22:m.mode&1?(tn=(b=tn)||m.memoizedState!==null,Ai(l,u,m),tn=b):Ai(l,u,m);break;default:Ai(l,u,m)}}function yS(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new h4),u.forEach(function(b){var _=_4.bind(null,l,b);m.has(b)||(m.add(b),b.then(_,_))})}}function ur(l,u){var m=u.deletions;if(m!==null)for(var b=0;b<m.length;b++){var _=m[b];try{var k=l,I=u,$=I;e:for(;$!==null;){switch($.tag){case 5:Kt=$.stateNode,cr=!1;break e;case 3:Kt=$.stateNode.containerInfo,cr=!0;break e;case 4:Kt=$.stateNode.containerInfo,cr=!0;break e}$=$.return}if(Kt===null)throw Error(n(160));vS(k,I,_),Kt=null,cr=!1;var q=_.alternate;q!==null&&(q.return=null),_.return=null}catch(te){St(_,u,te)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)bS(u,l),u=u.sibling}function bS(l,u){var m=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(ur(u,l),Tr(l),b&4){try{cl(3,l,l.return),Mu(3,l)}catch(Se){St(l,l.return,Se)}try{cl(5,l,l.return)}catch(Se){St(l,l.return,Se)}}break;case 1:ur(u,l),Tr(l),b&512&&m!==null&&cs(m,m.return);break;case 5:if(ur(u,l),Tr(l),b&512&&m!==null&&cs(m,m.return),l.flags&32){var _=l.stateNode;try{Co(_,"")}catch(Se){St(l,l.return,Se)}}if(b&4&&(_=l.stateNode,_!=null)){var k=l.memoizedProps,I=m!==null?m.memoizedProps:k,$=l.type,q=l.updateQueue;if(l.updateQueue=null,q!==null)try{$==="input"&&k.type==="radio"&&k.name!=null&&Nt(_,k),Dp($,I);var te=Dp($,k);for(I=0;I<q.length;I+=2){var ae=q[I],oe=q[I+1];ae==="style"?n1(_,oe):ae==="dangerouslySetInnerHTML"?e1(_,oe):ae==="children"?Co(_,oe):C(_,ae,oe,te)}switch($){case"input":Ut(_,k);break;case"textarea":To(_,k);break;case"select":var ie=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!k.multiple;var ge=k.value;ge!=null?xn(_,!!k.multiple,ge,!1):ie!==!!k.multiple&&(k.defaultValue!=null?xn(_,!!k.multiple,k.defaultValue,!0):xn(_,!!k.multiple,k.multiple?[]:"",!1))}_[Zo]=k}catch(Se){St(l,l.return,Se)}}break;case 6:if(ur(u,l),Tr(l),b&4){if(l.stateNode===null)throw Error(n(162));_=l.stateNode,k=l.memoizedProps;try{_.nodeValue=k}catch(Se){St(l,l.return,Se)}}break;case 3:if(ur(u,l),Tr(l),b&4&&m!==null&&m.memoizedState.isDehydrated)try{Bo(u.containerInfo)}catch(Se){St(l,l.return,Se)}break;case 4:ur(u,l),Tr(l);break;case 13:ur(u,l),Tr(l),_=l.child,_.flags&8192&&(k=_.memoizedState!==null,_.stateNode.isHidden=k,!k||_.alternate!==null&&_.alternate.memoizedState!==null||(lm=jt())),b&4&&yS(l);break;case 22:if(ae=m!==null&&m.memoizedState!==null,l.mode&1?(tn=(te=tn)||ae,ur(u,l),tn=te):ur(u,l),Tr(l),b&8192){if(te=l.memoizedState!==null,(l.stateNode.isHidden=te)&&!ae&&(l.mode&1)!==0)for(be=l,ae=l.child;ae!==null;){for(oe=be=ae;be!==null;){switch(ie=be,ge=ie.child,ie.tag){case 0:case 11:case 14:case 15:cl(4,ie,ie.return);break;case 1:cs(ie,ie.return);var Ne=ie.stateNode;if(typeof Ne.componentWillUnmount=="function"){b=ie,m=ie.return;try{u=b,Ne.props=u.memoizedProps,Ne.state=u.memoizedState,Ne.componentWillUnmount()}catch(Se){St(b,m,Se)}}break;case 5:cs(ie,ie.return);break;case 22:if(ie.memoizedState!==null){SS(oe);continue}}ge!==null?(ge.return=ie,be=ge):SS(oe)}ae=ae.sibling}e:for(ae=null,oe=l;;){if(oe.tag===5){if(ae===null){ae=oe;try{_=oe.stateNode,te?(k=_.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):($=oe.stateNode,q=oe.memoizedProps.style,I=q!=null&&q.hasOwnProperty("display")?q.display:null,$.style.display=t1("display",I))}catch(Se){St(l,l.return,Se)}}}else if(oe.tag===6){if(ae===null)try{oe.stateNode.nodeValue=te?"":oe.memoizedProps}catch(Se){St(l,l.return,Se)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===l)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===l)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===l)break e;ae===oe&&(ae=null),oe=oe.return}ae===oe&&(ae=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:ur(u,l),Tr(l),b&4&&yS(l);break;case 21:break;default:ur(u,l),Tr(l)}}function Tr(l){var u=l.flags;if(u&2){try{e:{for(var m=l.return;m!==null;){if(gS(m)){var b=m;break e}m=m.return}throw Error(n(160))}switch(b.tag){case 5:var _=b.stateNode;b.flags&32&&(Co(_,""),b.flags&=-33);var k=xS(l);am(l,k,_);break;case 3:case 4:var I=b.stateNode.containerInfo,$=xS(l);im(l,$,I);break;default:throw Error(n(161))}}catch(q){St(l,l.return,q)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function g4(l,u,m){be=l,wS(l)}function wS(l,u,m){for(var b=(l.mode&1)!==0;be!==null;){var _=be,k=_.child;if(_.tag===22&&b){var I=_.memoizedState!==null||Ru;if(!I){var $=_.alternate,q=$!==null&&$.memoizedState!==null||tn;$=Ru;var te=tn;if(Ru=I,(tn=q)&&!te)for(be=_;be!==null;)I=be,q=I.child,I.tag===22&&I.memoizedState!==null?_S(_):q!==null?(q.return=I,be=q):_S(_);for(;k!==null;)be=k,wS(k),k=k.sibling;be=_,Ru=$,tn=te}NS(l)}else(_.subtreeFlags&8772)!==0&&k!==null?(k.return=_,be=k):NS(l)}}function NS(l){for(;be!==null;){var u=be;if((u.flags&8772)!==0){var m=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:tn||Mu(5,u);break;case 1:var b=u.stateNode;if(u.flags&4&&!tn)if(m===null)b.componentDidMount();else{var _=u.elementType===u.type?m.memoizedProps:lr(u.type,m.memoizedProps);b.componentDidUpdate(_,m.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var k=u.updateQueue;k!==null&&SN(u,k,b);break;case 3:var I=u.updateQueue;if(I!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}SN(u,I,m)}break;case 5:var $=u.stateNode;if(m===null&&u.flags&4){m=$;var q=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&m.focus();break;case"img":q.src&&(m.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var te=u.alternate;if(te!==null){var ae=te.memoizedState;if(ae!==null){var oe=ae.dehydrated;oe!==null&&Bo(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}tn||u.flags&512&&rm(u)}catch(ie){St(u,u.return,ie)}}if(u===l){be=null;break}if(m=u.sibling,m!==null){m.return=u.return,be=m;break}be=u.return}}function SS(l){for(;be!==null;){var u=be;if(u===l){be=null;break}var m=u.sibling;if(m!==null){m.return=u.return,be=m;break}be=u.return}}function _S(l){for(;be!==null;){var u=be;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{Mu(4,u)}catch(q){St(u,m,q)}break;case 1:var b=u.stateNode;if(typeof b.componentDidMount=="function"){var _=u.return;try{b.componentDidMount()}catch(q){St(u,_,q)}}var k=u.return;try{rm(u)}catch(q){St(u,k,q)}break;case 5:var I=u.return;try{rm(u)}catch(q){St(u,I,q)}}}catch(q){St(u,u.return,q)}if(u===l){be=null;break}var $=u.sibling;if($!==null){$.return=u.return,be=$;break}be=u.return}}var x4=Math.ceil,Du=A.ReactCurrentDispatcher,sm=A.ReactCurrentOwner,Bn=A.ReactCurrentBatchConfig,We=0,qt=null,At=null,Yt=0,En=0,us=Ni(0),It=0,ul=null,la=0,Lu=0,om=0,dl=null,wn=null,lm=0,ds=1/0,Wr=null,$u=!1,cm=null,Ti=null,Fu=!1,Ei=null,Uu=0,fl=0,um=null,Bu=-1,qu=0;function ln(){return(We&6)!==0?jt():Bu!==-1?Bu:Bu=jt()}function Ci(l){return(l.mode&1)===0?1:(We&2)!==0&&Yt!==0?Yt&-Yt:e4.transition!==null?(qu===0&&(qu=x1()),qu):(l=rt,l!==0||(l=window.event,l=l===void 0?16:k1(l.type)),l)}function dr(l,u,m,b){if(50<fl)throw fl=0,um=null,Error(n(185));Do(l,m,b),((We&2)===0||l!==qt)&&(l===qt&&((We&2)===0&&(Lu|=m),It===4&&Pi(l,Yt)),Nn(l,b),m===1&&We===0&&(u.mode&1)===0&&(ds=jt()+500,gu&&_i()))}function Nn(l,u){var m=l.callbackNode;eD(l,u);var b=Xc(l,l===qt?Yt:0);if(b===0)m!==null&&h1(m),l.callbackNode=null,l.callbackPriority=0;else if(u=b&-b,l.callbackPriority!==u){if(m!=null&&h1(m),u===1)l.tag===0?QD(kS.bind(null,l)):dN(kS.bind(null,l)),YD(function(){(We&6)===0&&_i()}),m=null;else{switch(v1(b)){case 1:m=Gp;break;case 4:m=m1;break;case 16:m=Wc;break;case 536870912:m=g1;break;default:m=Wc}m=RS(m,jS.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function jS(l,u){if(Bu=-1,qu=0,(We&6)!==0)throw Error(n(327));var m=l.callbackNode;if(fs()&&l.callbackNode!==m)return null;var b=Xc(l,l===qt?Yt:0);if(b===0)return null;if((b&30)!==0||(b&l.expiredLanes)!==0||u)u=Gu(l,b);else{u=b;var _=We;We|=2;var k=TS();(qt!==l||Yt!==u)&&(Wr=null,ds=jt()+500,ua(l,u));do try{b4();break}catch($){AS(l,$)}while(!0);Th(),Du.current=k,We=_,At!==null?u=0:(qt=null,Yt=0,u=It)}if(u!==0){if(u===2&&(_=Hp(l),_!==0&&(b=_,u=dm(l,_))),u===1)throw m=ul,ua(l,0),Pi(l,b),Nn(l,jt()),m;if(u===6)Pi(l,b);else{if(_=l.current.alternate,(b&30)===0&&!v4(_)&&(u=Gu(l,b),u===2&&(k=Hp(l),k!==0&&(b=k,u=dm(l,k))),u===1))throw m=ul,ua(l,0),Pi(l,b),Nn(l,jt()),m;switch(l.finishedWork=_,l.finishedLanes=b,u){case 0:case 1:throw Error(n(345));case 2:da(l,wn,Wr);break;case 3:if(Pi(l,b),(b&130023424)===b&&(u=lm+500-jt(),10<u)){if(Xc(l,0)!==0)break;if(_=l.suspendedLanes,(_&b)!==b){ln(),l.pingedLanes|=l.suspendedLanes&_;break}l.timeoutHandle=xh(da.bind(null,l,wn,Wr),u);break}da(l,wn,Wr);break;case 4:if(Pi(l,b),(b&4194240)===b)break;for(u=l.eventTimes,_=-1;0<b;){var I=31-ar(b);k=1<<I,I=u[I],I>_&&(_=I),b&=~k}if(b=_,b=jt()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*x4(b/1960))-b,10<b){l.timeoutHandle=xh(da.bind(null,l,wn,Wr),b);break}da(l,wn,Wr);break;case 5:da(l,wn,Wr);break;default:throw Error(n(329))}}}return Nn(l,jt()),l.callbackNode===m?jS.bind(null,l):null}function dm(l,u){var m=dl;return l.current.memoizedState.isDehydrated&&(ua(l,u).flags|=256),l=Gu(l,u),l!==2&&(u=wn,wn=m,u!==null&&fm(u)),l}function fm(l){wn===null?wn=l:wn.push.apply(wn,l)}function v4(l){for(var u=l;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var b=0;b<m.length;b++){var _=m[b],k=_.getSnapshot;_=_.value;try{if(!sr(k(),_))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Pi(l,u){for(u&=~om,u&=~Lu,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-ar(u),b=1<<m;l[m]=-1,u&=~b}}function kS(l){if((We&6)!==0)throw Error(n(327));fs();var u=Xc(l,0);if((u&1)===0)return Nn(l,jt()),null;var m=Gu(l,u);if(l.tag!==0&&m===2){var b=Hp(l);b!==0&&(u=b,m=dm(l,b))}if(m===1)throw m=ul,ua(l,0),Pi(l,u),Nn(l,jt()),m;if(m===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,da(l,wn,Wr),Nn(l,jt()),null}function pm(l,u){var m=We;We|=1;try{return l(u)}finally{We=m,We===0&&(ds=jt()+500,gu&&_i())}}function ca(l){Ei!==null&&Ei.tag===0&&(We&6)===0&&fs();var u=We;We|=1;var m=Bn.transition,b=rt;try{if(Bn.transition=null,rt=1,l)return l()}finally{rt=b,Bn.transition=m,We=u,(We&6)===0&&_i()}}function hm(){En=us.current,pt(us)}function ua(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,KD(m)),At!==null)for(m=At.return;m!==null;){var b=m;switch(Sh(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&hu();break;case 3:os(),pt(vn),pt(Zt),Dh();break;case 5:Rh(b);break;case 4:os();break;case 13:pt(vt);break;case 19:pt(vt);break;case 10:Eh(b.type._context);break;case 22:case 23:hm()}m=m.return}if(qt=l,At=l=Ii(l.current,null),Yt=En=u,It=0,ul=null,om=Lu=la=0,wn=dl=null,aa!==null){for(u=0;u<aa.length;u++)if(m=aa[u],b=m.interleaved,b!==null){m.interleaved=null;var _=b.next,k=m.pending;if(k!==null){var I=k.next;k.next=_,b.next=I}m.pending=b}aa=null}return l}function AS(l,u){do{var m=At;try{if(Th(),ku.current=Cu,Au){for(var b=yt.memoizedState;b!==null;){var _=b.queue;_!==null&&(_.pending=null),b=b.next}Au=!1}if(oa=0,Bt=Pt=yt=null,il=!1,al=0,sm.current=null,m===null||m.return===null){It=1,ul=u,At=null;break}e:{var k=l,I=m.return,$=m,q=u;if(u=Yt,$.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var te=q,ae=$,oe=ae.tag;if((ae.mode&1)===0&&(oe===0||oe===11||oe===15)){var ie=ae.alternate;ie?(ae.updateQueue=ie.updateQueue,ae.memoizedState=ie.memoizedState,ae.lanes=ie.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var ge=ZN(I);if(ge!==null){ge.flags&=-257,QN(ge,I,$,k,u),ge.mode&1&&XN(k,te,u),u=ge,q=te;var Ne=u.updateQueue;if(Ne===null){var Se=new Set;Se.add(q),u.updateQueue=Se}else Ne.add(q);break e}else{if((u&1)===0){XN(k,te,u),mm();break e}q=Error(n(426))}}else if(gt&&$.mode&1){var kt=ZN(I);if(kt!==null){(kt.flags&65536)===0&&(kt.flags|=256),QN(kt,I,$,k,u),kh(ls(q,$));break e}}k=q=ls(q,$),It!==4&&(It=2),dl===null?dl=[k]:dl.push(k),k=I;do{switch(k.tag){case 3:k.flags|=65536,u&=-u,k.lanes|=u;var X=YN(k,q,u);NN(k,X);break e;case 1:$=q;var V=k.type,Q=k.stateNode;if((k.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Ti===null||!Ti.has(Q)))){k.flags|=65536,u&=-u,k.lanes|=u;var de=JN(k,$,u);NN(k,de);break e}}k=k.return}while(k!==null)}CS(m)}catch(je){u=je,At===m&&m!==null&&(At=m=m.return);continue}break}while(!0)}function TS(){var l=Du.current;return Du.current=Cu,l===null?Cu:l}function mm(){(It===0||It===3||It===2)&&(It=4),qt===null||(la&268435455)===0&&(Lu&268435455)===0||Pi(qt,Yt)}function Gu(l,u){var m=We;We|=2;var b=TS();(qt!==l||Yt!==u)&&(Wr=null,ua(l,u));do try{y4();break}catch(_){AS(l,_)}while(!0);if(Th(),We=m,Du.current=b,At!==null)throw Error(n(261));return qt=null,Yt=0,It}function y4(){for(;At!==null;)ES(At)}function b4(){for(;At!==null&&!z5();)ES(At)}function ES(l){var u=OS(l.alternate,l,En);l.memoizedProps=l.pendingProps,u===null?CS(l):At=u,sm.current=null}function CS(l){var u=l;do{var m=u.alternate;if(l=u.return,(u.flags&32768)===0){if(m=f4(m,u,En),m!==null){At=m;return}}else{if(m=p4(m,u),m!==null){m.flags&=32767,At=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{It=6,At=null;return}}if(u=u.sibling,u!==null){At=u;return}At=u=l}while(u!==null);It===0&&(It=5)}function da(l,u,m){var b=rt,_=Bn.transition;try{Bn.transition=null,rt=1,w4(l,u,m,b)}finally{Bn.transition=_,rt=b}return null}function w4(l,u,m,b){do fs();while(Ei!==null);if((We&6)!==0)throw Error(n(327));m=l.finishedWork;var _=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var k=m.lanes|m.childLanes;if(tD(l,k),l===qt&&(At=qt=null,Yt=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Fu||(Fu=!0,RS(Wc,function(){return fs(),null})),k=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||k){k=Bn.transition,Bn.transition=null;var I=rt;rt=1;var $=We;We|=4,sm.current=null,m4(l,m),bS(m,l),BD(mh),eu=!!hh,mh=hh=null,l.current=m,g4(m),V5(),We=$,rt=I,Bn.transition=k}else l.current=m;if(Fu&&(Fu=!1,Ei=l,Uu=_),k=l.pendingLanes,k===0&&(Ti=null),Y5(m.stateNode),Nn(l,jt()),u!==null)for(b=l.onRecoverableError,m=0;m<u.length;m++)_=u[m],b(_.value,{componentStack:_.stack,digest:_.digest});if($u)throw $u=!1,l=cm,cm=null,l;return(Uu&1)!==0&&l.tag!==0&&fs(),k=l.pendingLanes,(k&1)!==0?l===um?fl++:(fl=0,um=l):fl=0,_i(),null}function fs(){if(Ei!==null){var l=v1(Uu),u=Bn.transition,m=rt;try{if(Bn.transition=null,rt=16>l?16:l,Ei===null)var b=!1;else{if(l=Ei,Ei=null,Uu=0,(We&6)!==0)throw Error(n(331));var _=We;for(We|=4,be=l.current;be!==null;){var k=be,I=k.child;if((be.flags&16)!==0){var $=k.deletions;if($!==null){for(var q=0;q<$.length;q++){var te=$[q];for(be=te;be!==null;){var ae=be;switch(ae.tag){case 0:case 11:case 15:cl(8,ae,k)}var oe=ae.child;if(oe!==null)oe.return=ae,be=oe;else for(;be!==null;){ae=be;var ie=ae.sibling,ge=ae.return;if(mS(ae),ae===te){be=null;break}if(ie!==null){ie.return=ge,be=ie;break}be=ge}}}var Ne=k.alternate;if(Ne!==null){var Se=Ne.child;if(Se!==null){Ne.child=null;do{var kt=Se.sibling;Se.sibling=null,Se=kt}while(Se!==null)}}be=k}}if((k.subtreeFlags&2064)!==0&&I!==null)I.return=k,be=I;else e:for(;be!==null;){if(k=be,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:cl(9,k,k.return)}var X=k.sibling;if(X!==null){X.return=k.return,be=X;break e}be=k.return}}var V=l.current;for(be=V;be!==null;){I=be;var Q=I.child;if((I.subtreeFlags&2064)!==0&&Q!==null)Q.return=I,be=Q;else e:for(I=V;be!==null;){if($=be,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:Mu(9,$)}}catch(je){St($,$.return,je)}if($===I){be=null;break e}var de=$.sibling;if(de!==null){de.return=$.return,be=de;break e}be=$.return}}if(We=_,_i(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(Kc,l)}catch{}b=!0}return b}finally{rt=m,Bn.transition=u}}return!1}function PS(l,u,m){u=ls(m,u),u=YN(l,u,1),l=ki(l,u,1),u=ln(),l!==null&&(Do(l,1,u),Nn(l,u))}function St(l,u,m){if(l.tag===3)PS(l,l,m);else for(;u!==null;){if(u.tag===3){PS(u,l,m);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Ti===null||!Ti.has(b))){l=ls(m,l),l=JN(u,l,1),u=ki(u,l,1),l=ln(),u!==null&&(Do(u,1,l),Nn(u,l));break}}u=u.return}}function N4(l,u,m){var b=l.pingCache;b!==null&&b.delete(u),u=ln(),l.pingedLanes|=l.suspendedLanes&m,qt===l&&(Yt&m)===m&&(It===4||It===3&&(Yt&130023424)===Yt&&500>jt()-lm?ua(l,0):om|=m),Nn(l,u)}function IS(l,u){u===0&&((l.mode&1)===0?u=1:(u=Jc,Jc<<=1,(Jc&130023424)===0&&(Jc=4194304)));var m=ln();l=Hr(l,u),l!==null&&(Do(l,u,m),Nn(l,m))}function S4(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),IS(l,m)}function _4(l,u){var m=0;switch(l.tag){case 13:var b=l.stateNode,_=l.memoizedState;_!==null&&(m=_.retryLane);break;case 19:b=l.stateNode;break;default:throw Error(n(314))}b!==null&&b.delete(u),IS(l,m)}var OS;OS=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||vn.current)bn=!0;else{if((l.lanes&m)===0&&(u.flags&128)===0)return bn=!1,d4(l,u,m);bn=(l.flags&131072)!==0}else bn=!1,gt&&(u.flags&1048576)!==0&&fN(u,vu,u.index);switch(u.lanes=0,u.tag){case 2:var b=u.type;Ou(l,u),l=u.pendingProps;var _=es(u,Zt.current);ss(u,m),_=Fh(null,u,b,l,_,m);var k=Uh();return u.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,yn(b)?(k=!0,mu(u)):k=!1,u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Ih(u),_.updater=Pu,u.stateNode=_,_._reactInternals=u,Vh(u,b,l,m),u=Jh(null,u,b,!0,k,m)):(u.tag=0,gt&&k&&Nh(u),on(null,u,_,m),u=u.child),u;case 16:b=u.elementType;e:{switch(Ou(l,u),l=u.pendingProps,_=b._init,b=_(b._payload),u.type=b,_=u.tag=k4(b),l=lr(b,l),_){case 0:u=Yh(null,u,b,l,m);break e;case 1:u=aS(null,u,b,l,m);break e;case 11:u=eS(null,u,b,l,m);break e;case 14:u=tS(null,u,b,lr(b.type,l),m);break e}throw Error(n(306,b,""))}return u;case 0:return b=u.type,_=u.pendingProps,_=u.elementType===b?_:lr(b,_),Yh(l,u,b,_,m);case 1:return b=u.type,_=u.pendingProps,_=u.elementType===b?_:lr(b,_),aS(l,u,b,_,m);case 3:e:{if(sS(u),l===null)throw Error(n(387));b=u.pendingProps,k=u.memoizedState,_=k.element,wN(l,u),_u(u,b,null,m);var I=u.memoizedState;if(b=I.element,k.isDehydrated)if(k={element:b,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},u.updateQueue.baseState=k,u.memoizedState=k,u.flags&256){_=ls(Error(n(423)),u),u=oS(l,u,b,m,_);break e}else if(b!==_){_=ls(Error(n(424)),u),u=oS(l,u,b,m,_);break e}else for(Tn=wi(u.stateNode.containerInfo.firstChild),An=u,gt=!0,or=null,m=yN(u,null,b,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(rs(),b===_){u=Vr(l,u,m);break e}on(l,u,b,m)}u=u.child}return u;case 5:return _N(u),l===null&&jh(u),b=u.type,_=u.pendingProps,k=l!==null?l.memoizedProps:null,I=_.children,gh(b,_)?I=null:k!==null&&gh(b,k)&&(u.flags|=32),iS(l,u),on(l,u,I,m),u.child;case 6:return l===null&&jh(u),null;case 13:return lS(l,u,m);case 4:return Oh(u,u.stateNode.containerInfo),b=u.pendingProps,l===null?u.child=is(u,null,b,m):on(l,u,b,m),u.child;case 11:return b=u.type,_=u.pendingProps,_=u.elementType===b?_:lr(b,_),eS(l,u,b,_,m);case 7:return on(l,u,u.pendingProps,m),u.child;case 8:return on(l,u,u.pendingProps.children,m),u.child;case 12:return on(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(b=u.type._context,_=u.pendingProps,k=u.memoizedProps,I=_.value,ct(wu,b._currentValue),b._currentValue=I,k!==null)if(sr(k.value,I)){if(k.children===_.children&&!vn.current){u=Vr(l,u,m);break e}}else for(k=u.child,k!==null&&(k.return=u);k!==null;){var $=k.dependencies;if($!==null){I=k.child;for(var q=$.firstContext;q!==null;){if(q.context===b){if(k.tag===1){q=zr(-1,m&-m),q.tag=2;var te=k.updateQueue;if(te!==null){te=te.shared;var ae=te.pending;ae===null?q.next=q:(q.next=ae.next,ae.next=q),te.pending=q}}k.lanes|=m,q=k.alternate,q!==null&&(q.lanes|=m),Ch(k.return,m,u),$.lanes|=m;break}q=q.next}}else if(k.tag===10)I=k.type===u.type?null:k.child;else if(k.tag===18){if(I=k.return,I===null)throw Error(n(341));I.lanes|=m,$=I.alternate,$!==null&&($.lanes|=m),Ch(I,m,u),I=k.sibling}else I=k.child;if(I!==null)I.return=k;else for(I=k;I!==null;){if(I===u){I=null;break}if(k=I.sibling,k!==null){k.return=I.return,I=k;break}I=I.return}k=I}on(l,u,_.children,m),u=u.child}return u;case 9:return _=u.type,b=u.pendingProps.children,ss(u,m),_=Fn(_),b=b(_),u.flags|=1,on(l,u,b,m),u.child;case 14:return b=u.type,_=lr(b,u.pendingProps),_=lr(b.type,_),tS(l,u,b,_,m);case 15:return nS(l,u,u.type,u.pendingProps,m);case 17:return b=u.type,_=u.pendingProps,_=u.elementType===b?_:lr(b,_),Ou(l,u),u.tag=1,yn(b)?(l=!0,mu(u)):l=!1,ss(u,m),WN(u,b,_),Vh(u,b,_,m),Jh(null,u,b,!0,l,m);case 19:return uS(l,u,m);case 22:return rS(l,u,m)}throw Error(n(156,u.tag))};function RS(l,u){return p1(l,u)}function j4(l,u,m,b){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(l,u,m,b){return new j4(l,u,m,b)}function gm(l){return l=l.prototype,!(!l||!l.isReactComponent)}function k4(l){if(typeof l=="function")return gm(l)?1:0;if(l!=null){if(l=l.$$typeof,l===F)return 11;if(l===Z)return 14}return 2}function Ii(l,u){var m=l.alternate;return m===null?(m=qn(l.tag,u,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function Hu(l,u,m,b,_,k){var I=2;if(b=l,typeof l=="function")gm(l)&&(I=1);else if(typeof l=="string")I=5;else e:switch(l){case O:return fa(m.children,_,k,u);case M:I=8,_|=8;break;case D:return l=qn(12,m,u,_|2),l.elementType=D,l.lanes=k,l;case K:return l=qn(13,m,u,_),l.elementType=K,l.lanes=k,l;case J:return l=qn(19,m,u,_),l.elementType=J,l.lanes=k,l;case z:return zu(m,_,k,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case G:I=10;break e;case B:I=9;break e;case F:I=11;break e;case Z:I=14;break e;case H:I=16,b=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return u=qn(I,m,u,_),u.elementType=l,u.type=b,u.lanes=k,u}function fa(l,u,m,b){return l=qn(7,l,b,u),l.lanes=m,l}function zu(l,u,m,b){return l=qn(22,l,b,u),l.elementType=z,l.lanes=m,l.stateNode={isHidden:!1},l}function xm(l,u,m){return l=qn(6,l,null,u),l.lanes=m,l}function vm(l,u,m){return u=qn(4,l.children!==null?l.children:[],l.key,u),u.lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function A4(l,u,m,b,_){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zp(0),this.expirationTimes=zp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zp(0),this.identifierPrefix=b,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function ym(l,u,m,b,_,k,I,$,q){return l=new A4(l,u,m,$,q),u===1?(u=1,k===!0&&(u|=8)):u=0,k=qn(3,null,null,u),l.current=k,k.stateNode=l,k.memoizedState={element:b,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ih(k),l}function T4(l,u,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:b==null?null:""+b,children:l,containerInfo:u,implementation:m}}function MS(l){if(!l)return Si;l=l._reactInternals;e:{if(ea(l)!==l||l.tag!==1)throw Error(n(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(yn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(l.tag===1){var m=l.type;if(yn(m))return cN(l,m,u)}return u}function DS(l,u,m,b,_,k,I,$,q){return l=ym(m,b,!0,l,_,k,I,$,q),l.context=MS(null),m=l.current,b=ln(),_=Ci(m),k=zr(b,_),k.callback=u??null,ki(m,k,_),l.current.lanes=_,Do(l,_,b),Nn(l,b),l}function Vu(l,u,m,b){var _=u.current,k=ln(),I=Ci(_);return m=MS(m),u.context===null?u.context=m:u.pendingContext=m,u=zr(k,I),u.payload={element:l},b=b===void 0?null:b,b!==null&&(u.callback=b),l=ki(_,u,I),l!==null&&(dr(l,_,I,k),Su(l,_,I)),I}function Wu(l){return l=l.current,l.child?(l.child.tag===5,l.child.stateNode):null}function LS(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function bm(l,u){LS(l,u),(l=l.alternate)&&LS(l,u)}function E4(){return null}var $S=typeof reportError=="function"?reportError:function(l){console.error(l)};function wm(l){this._internalRoot=l}Ku.prototype.render=wm.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));Vu(l,u,null,null)},Ku.prototype.unmount=wm.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;ca(function(){Vu(null,l,null,null)}),u[Ur]=null}};function Ku(l){this._internalRoot=l}Ku.prototype.unstable_scheduleHydration=function(l){if(l){var u=w1();l={blockedOn:null,target:l,priority:u};for(var m=0;m<vi.length&&u!==0&&u<vi[m].priority;m++);vi.splice(m,0,l),m===0&&_1(l)}};function Nm(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Yu(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function FS(){}function C4(l,u,m,b,_){if(_){if(typeof b=="function"){var k=b;b=function(){var te=Wu(I);k.call(te)}}var I=DS(u,b,l,0,null,!1,!1,"",FS);return l._reactRootContainer=I,l[Ur]=I.current,Jo(l.nodeType===8?l.parentNode:l),ca(),I}for(;_=l.lastChild;)l.removeChild(_);if(typeof b=="function"){var $=b;b=function(){var te=Wu(q);$.call(te)}}var q=ym(l,0,!1,null,null,!1,!1,"",FS);return l._reactRootContainer=q,l[Ur]=q.current,Jo(l.nodeType===8?l.parentNode:l),ca(function(){Vu(u,q,m,b)}),q}function Ju(l,u,m,b,_){var k=m._reactRootContainer;if(k){var I=k;if(typeof _=="function"){var $=_;_=function(){var q=Wu(I);$.call(q)}}Vu(u,I,l,_)}else I=C4(m,u,l,_,b);return Wu(I)}y1=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=Mo(u.pendingLanes);m!==0&&(Vp(u,m|1),Nn(u,jt()),(We&6)===0&&(ds=jt()+500,_i()))}break;case 13:ca(function(){var b=Hr(l,1);if(b!==null){var _=ln();dr(b,l,1,_)}}),bm(l,1)}},Wp=function(l){if(l.tag===13){var u=Hr(l,134217728);if(u!==null){var m=ln();dr(u,l,134217728,m)}bm(l,134217728)}},b1=function(l){if(l.tag===13){var u=Ci(l),m=Hr(l,u);if(m!==null){var b=ln();dr(m,l,u,b)}bm(l,u)}},w1=function(){return rt},N1=function(l,u){var m=rt;try{return rt=l,u()}finally{rt=m}},Fp=function(l,u,m){switch(u){case"input":if(Ut(l,m),u=m.name,m.type==="radio"&&u!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var b=m[u];if(b!==l&&b.form===l.form){var _=pu(b);if(!_)throw Error(n(90));se(b),Ut(b,_)}}}break;case"textarea":To(l,m);break;case"select":u=m.value,u!=null&&xn(l,!!m.multiple,u,!1)}},s1=pm,o1=ca;var P4={usingClientEntryPoint:!1,Events:[Qo,Za,pu,i1,a1,pm]},pl={findFiberByHostInstance:ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I4={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=d1(l),l===null?null:l.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance||E4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{Kc=Xu.inject(I4),_r=Xu}catch{}}return Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P4,Sn.createPortal=function(l,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nm(u))throw Error(n(200));return T4(l,u,null,m)},Sn.createRoot=function(l,u){if(!Nm(l))throw Error(n(299));var m=!1,b="",_=$S;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),u=ym(l,1,!1,null,null,m,!1,b,_),l[Ur]=u.current,Jo(l.nodeType===8?l.parentNode:l),new wm(u)},Sn.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=d1(u),l=l===null?null:l.stateNode,l},Sn.flushSync=function(l){return ca(l)},Sn.hydrate=function(l,u,m){if(!Yu(u))throw Error(n(200));return Ju(null,l,u,!0,m)},Sn.hydrateRoot=function(l,u,m){if(!Nm(l))throw Error(n(405));var b=m!=null&&m.hydratedSources||null,_=!1,k="",I=$S;if(m!=null&&(m.unstable_strictMode===!0&&(_=!0),m.identifierPrefix!==void 0&&(k=m.identifierPrefix),m.onRecoverableError!==void 0&&(I=m.onRecoverableError)),u=DS(u,null,l,1,m??null,_,!1,k,I),l[Ur]=u.current,Jo(l),b)for(l=0;l<b.length;l++)m=b[l],_=m._getVersion,_=_(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,_]:u.mutableSourceEagerHydrationData.push(m,_);return new Ku(u)},Sn.render=function(l,u,m){if(!Yu(u))throw Error(n(200));return Ju(null,l,u,!1,m)},Sn.unmountComponentAtNode=function(l){if(!Yu(l))throw Error(n(40));return l._reactRootContainer?(ca(function(){Ju(null,null,l,!1,function(){l._reactRootContainer=null,l[Ur]=null})}),!0):!1},Sn.unstable_batchedUpdates=pm,Sn.unstable_renderSubtreeIntoContainer=function(l,u,m,b){if(!Yu(m))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return Ju(l,u,m,!1,b)},Sn.version="18.3.1-next-f1338f8080-20240426",Sn}var WS;function U4(){if(WS)return jm.exports;WS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jm.exports=F4(),jm.exports}var KS;function B4(){if(KS)return Qu;KS=1;var t=U4();return Qu.createRoot=t.createRoot,Qu.hydrateRoot=t.hydrateRoot,Qu}var q4=B4();const G4=et(q4),i2=R.createContext(void 0),H4=({children:t})=>{const[e,n]=R.useState(null),[r,i]=R.useState(!0);R.useEffect(()=>{(async()=>{if(localStorage.getItem("agri_smart_token")){const f={userId:"u123",name:"Ramesh Patil",phone:"+91 98230 12345",language:"mr",role:"FARMER",location:{village:"Pimpalgaon",ward:"West"},farmDetails:{crops:["Grape","Onion"],size:4.5,irrigation:"drip",soilType:"Black"},preferences:{notifications:!0,notificationChannels:{push:!0,sms:!0,voice:!1},alertThresholds:{critical:!0,warning:!0,advisory:!0},quietHours:{enabled:!1,start:"22:00",end:"06:00"},categorySettings:{weather:!0,market:!0,community:!0,advisory:!0},units:"metric"},createdAt:new Date().toISOString()};n(f)}i(!1)})()},[]);const a=()=>{localStorage.removeItem("agri_smart_token"),n(null),window.location.reload()};return s.jsx(i2.Provider,{value:{user:e,setUser:n,isLoading:r,logout:a},children:t})},Vf=()=>{const t=R.useContext(i2);if(!t)throw new Error("useAuth must be used within AuthProvider");return t};var pe=(t=>(t.DASHBOARD="DASHBOARD",t.CROP_MANAGEMENT="CROP_MANAGEMENT",t.CROP_SCANNER="CROP_SCANNER",t.AI_ADVISOR="AI_ADVISOR",t.DAILY_ADVISORY="DAILY_ADVISORY",t.MARKET_HUB="MARKET_HUB",t.PRICE_ANALYTICS="PRICE_ANALYTICS",t.PRICE_FORECAST="PRICE_FORECAST",t.MARKET_INTELLIGENCE="MARKET_INTELLIGENCE",t.HARVEST_OPTIMIZER="HARVEST_OPTIMIZER",t.COMMUNITY="COMMUNITY",t.EXPERT_HUB="EXPERT_HUB",t.VOICE_ADVISOR="VOICE_ADVISOR",t.SUCCESS_STORIES="SUCCESS_STORIES",t.GOVT_SCHEMES="GOVT_SCHEMES",t.GRAPE_ADVISORY="GRAPE_ADVISORY",t.ONION_ADVISORY="ONION_ADVISORY",t.TOMATO_ADVISORY="TOMATO_ADVISORY",t.NUTRIENT_PLANNER="NUTRIENT_PLANNER",t.IPM_SCHEDULER="IPM_SCHEDULER",t.CLIMATE_INSIGHTS="CLIMATE_INSIGHTS",t.PREDICTION="PREDICTION",t.IRRIGATION="IRRIGATION",t.IMPACT="IMPACT",t.PROFILE="PROFILE",t.OFFLINE_SETTINGS="OFFLINE_SETTINGS",t.ADVISORY_SERVICE="ADVISORY_SERVICE",t.NOTIFICATION_SETTINGS="NOTIFICATION_SETTINGS",t.NOTIFICATION_DASHBOARD="NOTIFICATION_DASHBOARD",t.SYSTEM_JOBS="SYSTEM_JOBS",t.ADMIN_ANALYTICS="ADMIN_ANALYTICS",t.QA_DASHBOARD="QA_DASHBOARD",t))(pe||{}),qv=(t=>(t.FARMER="FARMER",t.EXPERT="EXPERT",t.ADMIN="ADMIN",t))(qv||{});const z4=({onOpenNotifications:t,unreadCount:e,setView:n})=>{const{user:r}=Vf(),[i,a]=R.useState(navigator.onLine),[o,c]=R.useState(null);R.useEffect(()=>{const d=()=>a(!0),p=()=>a(!1);window.addEventListener("online",d),window.addEventListener("offline",p);const h=g=>{g.preventDefault(),c(g)};return window.addEventListener("beforeinstallprompt",h),()=>{window.removeEventListener("online",d),window.removeEventListener("offline",p),window.removeEventListener("beforeinstallprompt",h)}},[]);const f=async()=>{if(!o)return;o.prompt();const{outcome:d}=await o.userChoice;d==="accepted"&&c(null)};return s.jsx("header",{className:"sticky top-0 z-40 w-full bg-white/95 border-b border-slate-200 px-6 py-3",children:s.jsxs("div",{className:"max-w-full mx-auto flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-8",children:s.jsxs("div",{onClick:()=>n(pe.DASHBOARD),className:"flex items-center space-x-3 cursor-pointer group",children:[s.jsx("div",{className:"w-8 h-8 bg-emerald-600 rounded-lg flex items-center justify-center text-white shadow-sm",children:s.jsx("i",{"data-lucide":"sprout",className:"w-6 h-6"})}),s.jsxs("div",{className:"hidden lg:block leading-none",children:[s.jsxs("span",{className:"text-lg font-bold text-slate-800 tracking-tight block",children:["AgriSmart ",s.jsx("span",{className:"text-emerald-600",children:"Nashik"})]}),s.jsx("span",{className:"text-[10px] font-semibold text-slate-500 uppercase tracking-wider",children:"District Precision Engine"})]})]})}),s.jsxs("div",{className:"flex items-center space-x-4 md:space-x-6",children:[o&&s.jsxs("button",{onClick:f,className:"hidden md:flex items-center space-x-2 px-3 py-1.5 bg-emerald-600 text-white rounded-lg text-[10px] font-bold uppercase tracking-wider shadow-sm",children:[s.jsx("i",{"data-lucide":"download",className:"w-3 h-3"}),s.jsx("span",{children:"Install App"})]}),s.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg group cursor-pointer hover:bg-white transition-all",onClick:()=>n(pe.OFFLINE_SETTINGS),children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${i?"bg-emerald-500 animate-pulse":"bg-slate-300"}`}),s.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${i?"text-emerald-700":"text-slate-400"}`,children:i?"Online":"Offline Mode"}),s.jsx("i",{"data-lucide":"settings-2",className:"w-3 h-3 text-slate-300 group-hover:text-emerald-500 transition-colors"})]}),s.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 border-l border-slate-100 pl-4 md:pl-6",children:[s.jsxs("button",{onClick:t,className:"p-2 text-slate-400 hover:text-emerald-600 rounded-lg transition-all relative group",children:[s.jsx("i",{"data-lucide":"bell",className:"w-5 h-5 group-hover:rotate-12 transition-transform"}),e>0&&s.jsx("span",{className:"absolute top-2.5 right-2.5 w-4 h-4 bg-rose-500 border-2 border-white rounded-full flex items-center justify-center text-[8px] text-white font-black",children:e})]}),s.jsxs("button",{onClick:()=>n(pe.PROFILE),className:"flex items-center space-x-2 pl-2 pr-3 py-1 bg-slate-50 hover:bg-emerald-50 rounded-lg transition-all border border-slate-200 group",children:[s.jsx("div",{className:"w-8 h-8 bg-emerald-100 text-emerald-700 rounded-lg flex items-center justify-center font-bold text-sm group-hover:bg-emerald-600 group-hover:text-white transition-all",children:r?.name.charAt(0)}),s.jsxs("div",{className:"hidden lg:block text-left",children:[s.jsx("div",{className:"text-xs font-bold text-slate-800 group-hover:text-emerald-700 transition-colors leading-tight",children:r?.name}),s.jsx("div",{className:"text-[10px] font-medium text-slate-500 uppercase tracking-tight",children:"Pro Farmer"})]})]})]})]})]})})},V4=({currentView:t,setView:e,isCollapsed:n,toggleCollapsed:r})=>{const i=[{section:"Overview",items:[{id:pe.DASHBOARD,label:"Dashboard",icon:"layout-dashboard"}]},{section:"Communication",items:[{id:pe.VOICE_ADVISOR,label:"Voice Help",icon:"mic-2"},{id:pe.COMMUNITY,label:"Commons",icon:"users"},{id:pe.EXPERT_HUB,label:"Specialist",icon:"graduation-cap"}]},{section:"Intelligence",items:[{id:pe.MARKET_INTELLIGENCE,label:"Markets",icon:"bar-chart-3"},{id:pe.PRICE_ANALYTICS,label:"Trends",icon:"line-chart"},{id:pe.SUCCESS_STORIES,label:"Stories",icon:"award"},{id:pe.GOVT_SCHEMES,label:"Schemes",icon:"scroll"}]},{section:"Farm Management",items:[{id:pe.CROP_MANAGEMENT,label:"My Crops",icon:"leaf"},{id:pe.IPM_SCHEDULER,label:"IPM",icon:"shield-check"},{id:pe.IRRIGATION,label:"Water",icon:"droplet"},{id:pe.NUTRIENT_PLANNER,label:"Nutrients",icon:"flask-conical"}]},{section:"Analysis Tools",items:[{id:pe.CROP_SCANNER,label:"Scanner",icon:"camera"},{id:pe.CLIMATE_INSIGHTS,label:"Resilience",icon:"trending-up"},{id:pe.IMPACT,label:"Impact",icon:"alert-octagon"}]},{section:"Technical Control",items:[{id:pe.NOTIFICATION_SETTINGS,label:"Alert Profile",icon:"bell"},{id:pe.NOTIFICATION_DASHBOARD,label:"Delivery Node",icon:"activity"},{id:pe.SYSTEM_JOBS,label:"Cloud Console",icon:"terminal"},{id:pe.ADMIN_ANALYTICS,label:"Business Intelligence",icon:"pie-chart"},{id:pe.QA_DASHBOARD,label:"QA & Testing",icon:"clipboard-check"}]}];return s.jsxs("aside",{className:`hidden md:flex flex-col bg-white border-r border-slate-200 transition-all duration-300 ease-in-out sticky top-[61px] h-[calc(100vh-61px)] ${n?"w-20":"w-64"}`,children:[s.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar py-8 px-4 space-y-8",children:i.map((a,o)=>s.jsxs("div",{className:"space-y-2",children:[!n&&s.jsx("h3",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider px-3 mb-2",children:a.section}),s.jsx("div",{className:"space-y-1",children:a.items.map(c=>s.jsxs("button",{onClick:()=>e(c.id),className:`w-full flex items-center rounded-lg transition-all group ${n?"justify-center p-2":"px-3 py-2 space-x-3"} ${t===c.id?"bg-emerald-600 text-white shadow-sm":"text-slate-600 hover:bg-emerald-50 hover:text-emerald-700"}`,children:[s.jsx("i",{"data-lucide":c.icon,className:`w-5 h-5 shrink-0 transition-transform ${t===c.id?"scale-110":"group-hover:scale-110"}`}),!n&&s.jsx("span",{className:"text-sm font-semibold tracking-tight whitespace-nowrap",children:c.label}),t===c.id&&!n&&s.jsx("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-white shadow-sm animate-pulse"})]},c.id))}),o<i.length-1&&!n&&s.jsx("div",{className:"mx-3 pt-2 border-b border-slate-100"})]},o))}),s.jsx("div",{className:"p-4 border-t border-slate-50",children:s.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center p-2 bg-slate-50 text-slate-500 hover:text-emerald-600 rounded-lg transition-all group",children:[s.jsx("i",{"data-lucide":n?"chevron-right":"chevron-left",className:"w-5 h-5 group-hover:scale-110 transition-transform"}),!n&&s.jsx("span",{className:"ml-2 text-xs font-bold uppercase tracking-wider",children:"Minimize"})]})})]})},W4=()=>s.jsx("footer",{className:"mt-20 border-t border-slate-100 bg-white py-12 px-6",children:s.jsxs("div",{className:"max-w-[1600px] mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-emerald-600/10 text-emerald-600 rounded-lg flex items-center justify-center font-black",children:s.jsx("i",{"data-lucide":"sprout",className:"w-4 h-4"})}),s.jsx("span",{className:"text-sm font-black text-slate-900 tracking-tighter",children:"AgriSmart Nashik Platform"})]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-x-8 gap-y-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[s.jsx("a",{href:"#",className:"hover:text-emerald-600 transition-colors",children:"Privacy Policy"}),s.jsx("a",{href:"#",className:"hover:text-emerald-600 transition-colors",children:"Terms of Service"}),s.jsx("a",{href:"#",className:"hover:text-emerald-600 transition-colors",children:"Safety Guidelines"}),s.jsx("a",{href:"#",className:"hover:text-emerald-600 transition-colors",children:"Regional Labs"})]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-[10px] font-black text-slate-400",children:[s.jsx("i",{"data-lucide":"globe",className:"w-3 h-3 text-emerald-500"}),s.jsxs("select",{className:"bg-transparent border-none focus:outline-none cursor-pointer hover:text-emerald-600",children:[s.jsx("option",{children:"Marathi"}),s.jsx("option",{children:"English"}),s.jsx("option",{children:"Hindi"})]})]}),s.jsx("p",{className:"text-[10px] font-bold text-slate-400",children:" 2024 AgriSmart Nashik"})]})]})}),K4=({currentView:t,setView:e})=>{const[n,r]=R.useState(!1),i=[{id:pe.DASHBOARD,label:"Home",icon:"home"},{id:pe.CROP_MANAGEMENT,label:"My Crops",icon:"sprout"},{id:pe.VOICE_ADVISOR,label:"Voice",icon:"mic",isSpecial:!0},{id:pe.MARKET_INTELLIGENCE,label:"Markets",icon:"bar-chart-3"}],a=[{section:"Crop Care",items:[{id:pe.GRAPE_ADVISORY,label:"Grapes",icon:"grape",color:"text-purple-600",bg:"bg-purple-50"},{id:pe.ONION_ADVISORY,label:"Onions",icon:"layers",color:"text-rose-600",bg:"bg-rose-50"},{id:pe.TOMATO_ADVISORY,label:"Tomatoes",icon:"cherry",color:"text-red-600",bg:"bg-red-50"},{id:pe.NUTRIENT_PLANNER,label:"Nutrients",icon:"flask-conical",color:"text-teal-600",bg:"bg-teal-50"},{id:pe.IPM_SCHEDULER,label:"IPM",icon:"shield-check",color:"text-emerald-600",bg:"bg-emerald-50"},{id:pe.IRRIGATION,label:"Water",icon:"droplet",color:"text-blue-600",bg:"bg-blue-50"},{id:pe.CROP_SCANNER,label:"Scanner",icon:"scan-line",color:"text-slate-600",bg:"bg-slate-50"}]},{section:"Market & Finance",items:[{id:pe.PRICE_ANALYTICS,label:"Trends",icon:"line-chart",color:"text-amber-600",bg:"bg-amber-50"},{id:pe.PRICE_FORECAST,label:"Forecast",icon:"trending-up",color:"text-indigo-600",bg:"bg-indigo-50"},{id:pe.HARVEST_OPTIMIZER,label:"Harvest",icon:"scissors",color:"text-orange-600",bg:"bg-orange-50"},{id:pe.GOVT_SCHEMES,label:"Schemes",icon:"scroll",color:"text-yellow-600",bg:"bg-yellow-50"}]},{section:"Knowledge & Community",items:[{id:pe.EXPERT_HUB,label:"Specialist",icon:"graduation-cap",color:"text-blue-800",bg:"bg-blue-100"},{id:pe.COMMUNITY,label:"Commons",icon:"users",color:"text-pink-600",bg:"bg-pink-50"},{id:pe.SUCCESS_STORIES,label:"Stories",icon:"book-open",color:"text-green-600",bg:"bg-green-50"},{id:pe.CLIMATE_INSIGHTS,label:"Resilience",icon:"sun",color:"text-orange-500",bg:"bg-orange-50"},{id:pe.IMPACT,label:"Impact",icon:"activity",color:"text-cyan-600",bg:"bg-cyan-50"},{id:pe.PROFILE,label:"Profile",icon:"user",color:"text-slate-600",bg:"bg-slate-100"}]}],o=c=>{e(c),r(!1)};return s.jsxs(s.Fragment,{children:[s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 z-50 md:hidden pb-safe-area",children:s.jsxs("div",{className:"flex justify-around items-end pb-2 pt-2",children:[i.map(c=>s.jsxs("button",{onClick:()=>e(c.id),className:`flex flex-col items-center space-y-1 w-16 transition-all ${t===c.id?"text-emerald-600":"text-slate-400"}`,children:[c.isSpecial?s.jsx("div",{className:"w-12 h-12 bg-emerald-600 rounded-full flex items-center justify-center -mt-6 shadow-lg border-4 border-slate-50 relative z-10",children:s.jsx("i",{"data-lucide":c.icon,className:"w-6 h-6 text-white stroke-[2.5px]"})}):s.jsx("div",{className:`p-1 rounded-xl ${t===c.id?"bg-emerald-50":""}`,children:s.jsx("i",{"data-lucide":c.icon,className:`w-6 h-6 ${t===c.id?"stroke-[2.5px]":"stroke-2"}`})}),s.jsx("span",{className:`text-[10px] font-bold ${c.isSpecial?"mt-1":""}`,children:c.label})]},c.id)),s.jsxs("button",{onClick:()=>r(!n),className:`flex flex-col items-center space-y-1 w-16 transition-all ${n?"text-emerald-600":"text-slate-400"}`,children:[s.jsx("div",{className:`p-1 rounded-xl ${n?"bg-emerald-50":""}`,children:s.jsx("i",{"data-lucide":n?"x":"grid",className:"w-6 h-6 stroke-2"})}),s.jsx("span",{className:"text-[10px] font-bold",children:"More"})]})]})}),n&&s.jsx("div",{className:"fixed inset-0 z-40 bg-slate-50/95 backdrop-blur-sm animate-fade-in flex flex-col pt-safe-area pb-24 overflow-y-auto md:hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-6 tracking-tight",children:"All Apps"}),s.jsx("div",{className:"space-y-8",children:a.map((c,f)=>s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-4 ml-1",children:c.section}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:c.items.map(d=>s.jsxs("button",{onClick:()=>o(d.id),className:"flex flex-col items-center space-y-2 group",children:[s.jsx("div",{className:`w-14 h-14 ${d.bg} ${d.color} rounded-[18px] flex items-center justify-center shadow-sm group-active:scale-95 transition-transform`,children:s.jsx("i",{"data-lucide":d.icon,className:"w-7 h-7 stroke-[1.5px]"})}),s.jsx("span",{className:"text-[10px] font-bold text-slate-600 text-center leading-tight max-w-[60px]",children:d.label})]},d.id))})]},f))})]})}),s.jsx("style",{children:`
        .pb-safe-area { padding-bottom: env(safe-area-inset-bottom); }
        .pt-safe-area { padding-top: env(safe-area-inset-top); }
        .animate-fade-in { animation: fade-in 0.2s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
      `})]})},Y4=R.createContext(void 0),J4=({children:t})=>{const[e,n]=R.useState([]),r=(a,o,c)=>{const f=Math.random().toString(36).substr(2,9);n(d=>[...d,{id:f,title:a,message:o,severity:c}]),setTimeout(()=>i(f),5e3)},i=a=>{n(o=>o.filter(c=>c.id!==a))};return s.jsxs(Y4.Provider,{value:{toasts:e,addToast:r,removeToast:i},children:[t,s.jsx("div",{className:"fixed bottom-24 right-6 left-6 md:left-auto md:w-96 z-[100] space-y-4",children:e.map(a=>s.jsxs("div",{className:`p-5 rounded-[24px] shadow-2xl border-2 flex items-start space-x-4 animate-slide-up-fade bg-white ${a.severity==="critical"?"border-red-500":a.severity==="warning"?"border-amber-500":"border-emerald-500"}`,children:[s.jsx("div",{className:`p-2 rounded-xl shrink-0 ${a.severity==="critical"?"bg-red-50 text-red-600":a.severity==="warning"?"bg-amber-50 text-amber-600":"bg-emerald-50 text-emerald-600"}`,children:s.jsx("i",{"data-lucide":a.severity==="critical"?"zap":a.severity==="warning"?"alert-triangle":"info",className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-black text-slate-900 tracking-tight",children:a.title}),s.jsx("p",{className:"text-xs text-slate-500 font-medium leading-relaxed mt-1",children:a.message})]}),s.jsx("button",{onClick:()=>i(a.id),className:"text-slate-300 hover:text-slate-500",children:s.jsx("i",{"data-lucide":"x",className:"w-4 h-4"})})]},a.id))}),s.jsx("style",{children:`
        @keyframes slide-up-fade {
          from { opacity: 0; transform: translateY(20px) scale(0.95); }
          to { opacity: 1; transform: translateY(0) scale(1); }
        }
        .animate-slide-up-fade { animation: slide-up-fade 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
      `})]})};let X4=class Pl{constructor(){this.latency=600}static getInstance(){return Pl.instance||(Pl.instance=new Pl),Pl.instance}async request(e,n="GET",r){if(console.log(`[API Request] ${n} ${e}`,r||""),await new Promise(i=>setTimeout(i,this.latency)),Math.random()<.05)return{success:!1,error:"Internal Server Error (Simulated Failure)",timestamp:new Date().toISOString()};try{return{success:!0,data:r,timestamp:new Date().toISOString()}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Unknown error",timestamp:new Date().toISOString()}}}wrapSuccess(e){return{success:!0,data:e,timestamp:new Date().toISOString()}}};const he=X4.getInstance(),Kn={getLatestPrices:async()=>{const t=[{marketId:"m1",cropType:"Onion",price:2450,date:new Date().toISOString(),mandiName:"Lasalgaon APMC",location:"Nashik, MH",change:"+120"},{marketId:"m2",cropType:"Grape (Thompson)",price:75,date:new Date().toISOString(),mandiName:"Pimpalgaon APMC",location:"Nashik, MH",change:"+5.00"}];return he.wrapSuccess(t)},getMandiRates:async(t,e)=>{const n=[{id:"r1",commodity:e,variety:"Regular Hybrid",market:t,minPrice:1800,maxPrice:2800,modalPrice:2450,grade:"A",arrivalQuantity:1250,unit:"Quintal",date:new Date().toISOString().split("T")[0],source:"Agmarknet"}];return he.wrapSuccess(n)},getAdvancedTrendData:async(t,e)=>{const n=Array.from({length:90}).map((r,i)=>{const a=new Date(Date.now()-(90-i)*864e5).toISOString().split("T")[0],o=2e3+Math.sin(i*.1)*300+Math.random()*100;return{date:a,modalPrice:Math.round(o),sma7:Math.round(o*.98),sma30:Math.round(o*1.02),sma90:Math.round(o*.95),isAnomaly:i===75||i===82}});return he.wrapSuccess(n)},getHistoricalPrices:async t=>{const e=Array.from({length:30}).map((n,r)=>{const i=new Date(Date.now()-(30-r)*864e5).toISOString().split("T")[0],a=2e3+Math.sin(r*.2)*200+Math.random()*50;return{date:i,modalPrice:Math.round(a)}});return he.wrapSuccess(e)},getYoYSeasonality:async t=>{const n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((r,i)=>({month:r,currentYear:2200+Math.sin(i)*400,previousYear:1900+Math.sin(i)*300,avg3Year:2e3+Math.sin(i)*350}));return he.wrapSuccess(n)},getMarketArbitrage:async(t,e)=>{const n=[{mandiName:"Lasalgaon",price:2450,distanceKm:45,netPrice:2380},{mandiName:"Pimpalgaon",price:2520,distanceKm:60,netPrice:2420},{mandiName:"Nashik",price:2390,distanceKm:12,netPrice:2375},{mandiName:"Vashi (Mumbai)",price:3100,distanceKm:180,netPrice:2850}];return he.wrapSuccess(n)},getLiveAuctions:async t=>{const e=[{id:"a1",lotNumber:"L-902",commodity:"Onion",currentBid:2680,biddersCount:14,endTime:"14:30",status:"Live"}];return he.wrapSuccess(e)},reportPrice:async t=>he.wrapSuccess(void 0)};var Je;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),o={};for(const c of a)o[c]=i[c];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Je||(Je={}));var YS;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(YS||(YS={}));const _e=Je.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Mi=t=>{switch(typeof t){case"undefined":return _e.undefined;case"string":return _e.string;case"number":return Number.isNaN(t)?_e.nan:_e.number;case"boolean":return _e.boolean;case"function":return _e.function;case"bigint":return _e.bigint;case"symbol":return _e.symbol;case"object":return Array.isArray(t)?_e.array:t===null?_e.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?_e.promise:typeof Map<"u"&&t instanceof Map?_e.map:typeof Set<"u"&&t instanceof Set?_e.set:typeof Date<"u"&&t instanceof Date?_e.date:_e.object;default:return _e.unknown}},fe=Je.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ni extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let c=r,f=0;for(;f<o.path.length;){const d=o.path[f];f===o.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(n(o))):c[d]=c[d]||{_errors:[]},c=c[d],f++}}};return i(this),r}static assert(e){if(!(e instanceof ni))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Je.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ni.create=t=>new ni(t);const Gv=(t,e)=>{let n;switch(t.code){case fe.invalid_type:t.received===_e.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case fe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Je.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:n=`Unrecognized key(s) in object: ${Je.joinValues(t.keys,", ")}`;break;case fe.invalid_union:n="Invalid input";break;case fe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Je.joinValues(t.options)}`;break;case fe.invalid_enum_value:n=`Invalid enum value. Expected ${Je.joinValues(t.options)}, received '${t.received}'`;break;case fe.invalid_arguments:n="Invalid function arguments";break;case fe.invalid_return_type:n="Invalid function return type";break;case fe.invalid_date:n="Invalid date";break;case fe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Je.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case fe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case fe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case fe.custom:n="Invalid input";break;case fe.invalid_intersection_types:n="Intersection results could not be merged";break;case fe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case fe.not_finite:n="Number must be finite";break;default:n=e.defaultError,Je.assertNever(t)}return{message:n}};let Z4=Gv;function Q4(){return Z4}const eL=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let c="";const f=r.filter(d=>!!d).slice().reverse();for(const d of f)c=d(o,{data:e,defaultError:c}).message;return{...i,path:a,message:c}};function xe(t,e){const n=Q4(),r=eL({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Gv?void 0:Gv].filter(i=>!!i)});t.common.issues.push(r)}class Mn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Be;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return Mn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Be;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const Be=Object.freeze({status:"aborted"}),Il=t=>({status:"dirty",value:t}),er=t=>({status:"valid",value:t}),JS=t=>t.status==="aborted",XS=t=>t.status==="dirty",Is=t=>t.status==="valid",Ad=t=>typeof Promise<"u"&&t instanceof Promise;var ke;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(ke||(ke={}));class zi{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ZS=(t,e)=>{if(Is(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ni(t.common.issues);return this._error=n,this._error}}};function He(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,c)=>{const{message:f}=t;return o.code==="invalid_enum_value"?{message:f??c.defaultError}:typeof c.data>"u"?{message:f??r??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:f??n??c.defaultError}},description:i}}class Ke{get description(){return this._def.description}_getType(e){return Mi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Mi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Mn,ctx:{common:e.parent.common,data:e.data,parsedType:Mi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ad(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mi(e)},i=this._parseSync({data:e,path:r.path,parent:r});return ZS(r,i)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mi(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return Is(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>Is(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mi(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(Ad(i)?i:Promise.resolve(i));return ZS(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=e(i),c=()=>a.addIssue({code:fe.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(f=>f?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Ms({schema:this,typeName:qe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return qi.create(this,this._def)}nullable(){return Ds.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pr.create(this)}promise(){return Pd.create(this,this._def)}or(e){return Ed.create([this,e],this._def)}and(e){return Cd.create(this,e,this._def)}transform(e){return new Ms({...He(this._def),schema:this,typeName:qe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new zv({...He(this._def),innerType:this,defaultValue:n,typeName:qe.ZodDefault})}brand(){return new SL({typeName:qe.ZodBranded,type:this,...He(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Vv({...He(this._def),innerType:this,catchValue:n,typeName:qe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Db.create(this,e)}readonly(){return Wv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const tL=/^c[^\s-]{8,}$/i,nL=/^[0-9a-z]+$/,rL=/^[0-9A-HJKMNP-TV-Z]{26}$/i,iL=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,aL=/^[a-z0-9_-]{21}$/i,sL=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,oL=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,lL=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,cL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Tm;const uL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,fL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,pL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,hL=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,mL=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,a2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",gL=new RegExp(`^${a2}$`);function s2(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function xL(t){return new RegExp(`^${s2(t)}$`)}function vL(t){let e=`${a2}T${s2(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function yL(t,e){return!!((e==="v4"||!e)&&uL.test(t)||(e==="v6"||!e)&&fL.test(t))}function bL(t,e){if(!sL.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function wL(t,e){return!!((e==="v4"||!e)&&dL.test(t)||(e==="v6"||!e)&&pL.test(t))}class $i extends Ke{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_e.string){const a=this._getOrReturnCtx(e);return xe(a,{code:fe.invalid_type,expected:_e.string,received:a.parsedType}),Be}const r=new Mn;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,c=e.data.length<a.value;(o||c)&&(i=this._getOrReturnCtx(e,i),o?xe(i,{code:fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&xe(i,{code:fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")lL.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"email",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Tm||(Tm=new RegExp(cL,"u")),Tm.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"emoji",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")iL.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"uuid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")aL.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"nanoid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")tL.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cuid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")nL.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cuid2",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")rL.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"ulid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),xe(i,{validation:"url",code:fe.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"regex",code:fe.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?vL(a).test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?gL.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?xL(a).test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?oL.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"duration",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?yL(e.data,a.version)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"ip",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?bL(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"jwt",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?wL(e.data,a.version)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cidr",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?hL.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"base64",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?mL.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"base64url",code:fe.invalid_string,message:a.message}),r.dirty()):Je.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:fe.invalid_string,...ke.errToObj(r)})}_addCheck(e){return new $i({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ke.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ke.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ke.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ke.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ke.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ke.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ke.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ke.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ke.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ke.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ke.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ke.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ke.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...ke.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...ke.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...ke.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ke.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...ke.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ke.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ke.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ke.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ke.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ke.errToObj(n)})}nonempty(e){return this.min(1,ke.errToObj(e))}trim(){return new $i({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new $i({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new $i({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}$i.create=t=>new $i({checks:[],typeName:qe.ZodString,coerce:t?.coerce??!1,...He(t)});function NL(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class Os extends Ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_e.number){const a=this._getOrReturnCtx(e);return xe(a,{code:fe.invalid_type,expected:_e.number,received:a.parsedType}),Be}let r;const i=new Mn;for(const a of this._def.checks)a.kind==="int"?Je.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?NL(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.not_finite,message:a.message}),i.dirty()):Je.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ke.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ke.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ke.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ke.toString(n))}setLimit(e,n,r,i){return new Os({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ke.toString(i)}]})}_addCheck(e){return new Os({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ke.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ke.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ke.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ke.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ke.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Je.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Os.create=t=>new Os({checks:[],typeName:qe.ZodNumber,coerce:t?.coerce||!1,...He(t)});class Kl extends Ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==_e.bigint)return this._getInvalidInput(e);let r;const i=new Mn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Je.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return xe(n,{code:fe.invalid_type,expected:_e.bigint,received:n.parsedType}),Be}gte(e,n){return this.setLimit("min",e,!0,ke.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ke.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ke.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ke.toString(n))}setLimit(e,n,r,i){return new Kl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ke.toString(i)}]})}_addCheck(e){return new Kl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Kl.create=t=>new Kl({checks:[],typeName:qe.ZodBigInt,coerce:t?.coerce??!1,...He(t)});class QS extends Ke{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==_e.boolean){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:_e.boolean,received:r.parsedType}),Be}return er(e.data)}}QS.create=t=>new QS({typeName:qe.ZodBoolean,coerce:t?.coerce||!1,...He(t)});class Td extends Ke{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_e.date){const a=this._getOrReturnCtx(e);return xe(a,{code:fe.invalid_type,expected:_e.date,received:a.parsedType}),Be}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return xe(a,{code:fe.invalid_date}),Be}const r=new Mn;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Je.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Td({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ke.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ke.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Td.create=t=>new Td({checks:[],coerce:t?.coerce||!1,typeName:qe.ZodDate,...He(t)});class e_ extends Ke{_parse(e){if(this._getType(e)!==_e.symbol){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:_e.symbol,received:r.parsedType}),Be}return er(e.data)}}e_.create=t=>new e_({typeName:qe.ZodSymbol,...He(t)});class t_ extends Ke{_parse(e){if(this._getType(e)!==_e.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:_e.undefined,received:r.parsedType}),Be}return er(e.data)}}t_.create=t=>new t_({typeName:qe.ZodUndefined,...He(t)});class n_ extends Ke{_parse(e){if(this._getType(e)!==_e.null){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:_e.null,received:r.parsedType}),Be}return er(e.data)}}n_.create=t=>new n_({typeName:qe.ZodNull,...He(t)});class r_ extends Ke{constructor(){super(...arguments),this._any=!0}_parse(e){return er(e.data)}}r_.create=t=>new r_({typeName:qe.ZodAny,...He(t)});class i_ extends Ke{constructor(){super(...arguments),this._unknown=!0}_parse(e){return er(e.data)}}i_.create=t=>new i_({typeName:qe.ZodUnknown,...He(t)});class Vi extends Ke{_parse(e){const n=this._getOrReturnCtx(e);return xe(n,{code:fe.invalid_type,expected:_e.never,received:n.parsedType}),Be}}Vi.create=t=>new Vi({typeName:qe.ZodNever,...He(t)});class a_ extends Ke{_parse(e){if(this._getType(e)!==_e.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:_e.void,received:r.parsedType}),Be}return er(e.data)}}a_.create=t=>new a_({typeName:qe.ZodVoid,...He(t)});class Pr extends Ke{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==_e.array)return xe(n,{code:fe.invalid_type,expected:_e.array,received:n.parsedType}),Be;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(o||c)&&(xe(n,{code:o?fe.too_big:fe.too_small,minimum:c?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(xe(n,{code:fe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(xe(n,{code:fe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,c)=>i.type._parseAsync(new zi(n,o,n.path,c)))).then(o=>Mn.mergeArray(r,o));const a=[...n.data].map((o,c)=>i.type._parseSync(new zi(n,o,n.path,c)));return Mn.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new Pr({...this._def,minLength:{value:e,message:ke.toString(n)}})}max(e,n){return new Pr({...this._def,maxLength:{value:e,message:ke.toString(n)}})}length(e,n){return new Pr({...this._def,exactLength:{value:e,message:ke.toString(n)}})}nonempty(e){return this.min(1,e)}}Pr.create=(t,e)=>new Pr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:qe.ZodArray,...He(e)});function vs(t){if(t instanceof Et){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=qi.create(vs(r))}return new Et({...t._def,shape:()=>e})}else return t instanceof Pr?new Pr({...t._def,type:vs(t.element)}):t instanceof qi?qi.create(vs(t.unwrap())):t instanceof Ds?Ds.create(vs(t.unwrap())):t instanceof Ea?Ea.create(t.items.map(e=>vs(e))):t}class Et extends Ke{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Je.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==_e.object){const d=this._getOrReturnCtx(e);return xe(d,{code:fe.invalid_type,expected:_e.object,received:d.parsedType}),Be}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof Vi&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||c.push(d);const f=[];for(const d of o){const p=a[d],h=i.data[d];f.push({key:{status:"valid",value:d},value:p._parse(new zi(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Vi){const d=this._def.unknownKeys;if(d==="passthrough")for(const p of c)f.push({key:{status:"valid",value:p},value:{status:"valid",value:i.data[p]}});else if(d==="strict")c.length>0&&(xe(i,{code:fe.unrecognized_keys,keys:c}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const p of c){const h=i.data[p];f.push({key:{status:"valid",value:p},value:d._parse(new zi(i,h,i.path,p)),alwaysSet:p in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const p of f){const h=await p.key,g=await p.value;d.push({key:h,value:g,alwaysSet:p.alwaysSet})}return d}).then(d=>Mn.mergeObjectSync(r,d)):Mn.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return ke.errToObj,new Et({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const i=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:ke.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Et({...this._def,unknownKeys:"strip"})}passthrough(){return new Et({...this._def,unknownKeys:"passthrough"})}extend(e){return new Et({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Et({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:qe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Et({...this._def,catchall:e})}pick(e){const n={};for(const r of Je.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Et({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Je.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Et({...this._def,shape:()=>n})}deepPartial(){return vs(this)}partial(e){const n={};for(const r of Je.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Et({...this._def,shape:()=>n})}required(e){const n={};for(const r of Je.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof qi;)a=a._def.innerType;n[r]=a}return new Et({...this._def,shape:()=>n})}keyof(){return o2(Je.objectKeys(this.shape))}}Et.create=(t,e)=>new Et({shape:()=>t,unknownKeys:"strip",catchall:Vi.create(),typeName:qe.ZodObject,...He(e)});Et.strictCreate=(t,e)=>new Et({shape:()=>t,unknownKeys:"strict",catchall:Vi.create(),typeName:qe.ZodObject,...He(e)});Et.lazycreate=(t,e)=>new Et({shape:t,unknownKeys:"strip",catchall:Vi.create(),typeName:qe.ZodObject,...He(e)});class Ed extends Ke{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const o=a.map(c=>new ni(c.ctx.common.issues));return xe(n,{code:fe.invalid_union,unionErrors:o}),Be}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const f of r){const d={...n,common:{...n.common,issues:[]},parent:null},p=f._parseSync({data:n.data,path:n.path,parent:d});if(p.status==="valid")return p;p.status==="dirty"&&!a&&(a={result:p,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const c=o.map(f=>new ni(f));return xe(n,{code:fe.invalid_union,unionErrors:c}),Be}}get options(){return this._def.options}}Ed.create=(t,e)=>new Ed({options:t,typeName:qe.ZodUnion,...He(e)});function Hv(t,e){const n=Mi(t),r=Mi(e);if(t===e)return{valid:!0,data:t};if(n===_e.object&&r===_e.object){const i=Je.objectKeys(e),a=Je.objectKeys(t).filter(c=>i.indexOf(c)!==-1),o={...t,...e};for(const c of a){const f=Hv(t[c],e[c]);if(!f.valid)return{valid:!1};o[c]=f.data}return{valid:!0,data:o}}else if(n===_e.array&&r===_e.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],c=e[a],f=Hv(o,c);if(!f.valid)return{valid:!1};i.push(f.data)}return{valid:!0,data:i}}else return n===_e.date&&r===_e.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Cd extends Ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,o)=>{if(JS(a)||JS(o))return Be;const c=Hv(a.value,o.value);return c.valid?((XS(a)||XS(o))&&n.dirty(),{status:n.value,value:c.data}):(xe(r,{code:fe.invalid_intersection_types}),Be)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Cd.create=(t,e,n)=>new Cd({left:t,right:e,typeName:qe.ZodIntersection,...He(n)});class Ea extends Ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==_e.array)return xe(r,{code:fe.invalid_type,expected:_e.array,received:r.parsedType}),Be;if(r.data.length<this._def.items.length)return xe(r,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Be;!this._def.rest&&r.data.length>this._def.items.length&&(xe(r,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,c)=>{const f=this._def.items[c]||this._def.rest;return f?f._parse(new zi(r,o,r.path,c)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>Mn.mergeArray(n,o)):Mn.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Ea({...this._def,rest:e})}}Ea.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ea({items:t,typeName:qe.ZodTuple,rest:null,...He(e)})};class s_ extends Ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==_e.map)return xe(r,{code:fe.invalid_type,expected:_e.map,received:r.parsedType}),Be;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([c,f],d)=>({key:i._parse(new zi(r,c,r.path,[d,"key"])),value:a._parse(new zi(r,f,r.path,[d,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const f of o){const d=await f.key,p=await f.value;if(d.status==="aborted"||p.status==="aborted")return Be;(d.status==="dirty"||p.status==="dirty")&&n.dirty(),c.set(d.value,p.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const f of o){const d=f.key,p=f.value;if(d.status==="aborted"||p.status==="aborted")return Be;(d.status==="dirty"||p.status==="dirty")&&n.dirty(),c.set(d.value,p.value)}return{status:n.value,value:c}}}}s_.create=(t,e,n)=>new s_({valueType:e,keyType:t,typeName:qe.ZodMap,...He(n)});class Yl extends Ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==_e.set)return xe(r,{code:fe.invalid_type,expected:_e.set,received:r.parsedType}),Be;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(xe(r,{code:fe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(xe(r,{code:fe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(f){const d=new Set;for(const p of f){if(p.status==="aborted")return Be;p.status==="dirty"&&n.dirty(),d.add(p.value)}return{status:n.value,value:d}}const c=[...r.data.values()].map((f,d)=>a._parse(new zi(r,f,r.path,d)));return r.common.async?Promise.all(c).then(f=>o(f)):o(c)}min(e,n){return new Yl({...this._def,minSize:{value:e,message:ke.toString(n)}})}max(e,n){return new Yl({...this._def,maxSize:{value:e,message:ke.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Yl.create=(t,e)=>new Yl({valueType:t,minSize:null,maxSize:null,typeName:qe.ZodSet,...He(e)});class o_ extends Ke{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}o_.create=(t,e)=>new o_({getter:t,typeName:qe.ZodLazy,...He(e)});class l_ extends Ke{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return xe(n,{received:n.data,code:fe.invalid_literal,expected:this._def.value}),Be}return{status:"valid",value:e.data}}get value(){return this._def.value}}l_.create=(t,e)=>new l_({value:t,typeName:qe.ZodLiteral,...He(e)});function o2(t,e){return new Rs({values:t,typeName:qe.ZodEnum,...He(e)})}class Rs extends Ke{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return xe(n,{expected:Je.joinValues(r),received:n.parsedType,code:fe.invalid_type}),Be}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return xe(n,{received:n.data,code:fe.invalid_enum_value,options:r}),Be}return er(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Rs.create(e,{...this._def,...n})}exclude(e,n=this._def){return Rs.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Rs.create=o2;class c_ extends Ke{_parse(e){const n=Je.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==_e.string&&r.parsedType!==_e.number){const i=Je.objectValues(n);return xe(r,{expected:Je.joinValues(i),received:r.parsedType,code:fe.invalid_type}),Be}if(this._cache||(this._cache=new Set(Je.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Je.objectValues(n);return xe(r,{received:r.data,code:fe.invalid_enum_value,options:i}),Be}return er(e.data)}get enum(){return this._def.values}}c_.create=(t,e)=>new c_({values:t,typeName:qe.ZodNativeEnum,...He(e)});class Pd extends Ke{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==_e.promise&&n.common.async===!1)return xe(n,{code:fe.invalid_type,expected:_e.promise,received:n.parsedType}),Be;const r=n.parsedType===_e.promise?n.data:Promise.resolve(n.data);return er(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Pd.create=(t,e)=>new Pd({type:t,typeName:qe.ZodPromise,...He(e)});class Ms extends Ke{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{xe(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async c=>{if(n.value==="aborted")return Be;const f=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return f.status==="aborted"?Be:f.status==="dirty"||n.value==="dirty"?Il(f.value):f});{if(n.value==="aborted")return Be;const c=this._def.schema._parseSync({data:o,path:r.path,parent:r});return c.status==="aborted"?Be:c.status==="dirty"||n.value==="dirty"?Il(c.value):c}}if(i.type==="refinement"){const o=c=>{const f=i.refinement(c,a);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?Be:(c.status==="dirty"&&n.dirty(),o(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?Be:(c.status==="dirty"&&n.dirty(),o(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Is(o))return Be;const c=i.transform(o.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Is(o)?Promise.resolve(i.transform(o.value,a)).then(c=>({status:n.value,value:c})):Be);Je.assertNever(i)}}Ms.create=(t,e,n)=>new Ms({schema:t,typeName:qe.ZodEffects,effect:e,...He(n)});Ms.createWithPreprocess=(t,e,n)=>new Ms({schema:e,effect:{type:"preprocess",transform:t},typeName:qe.ZodEffects,...He(n)});class qi extends Ke{_parse(e){return this._getType(e)===_e.undefined?er(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qi.create=(t,e)=>new qi({innerType:t,typeName:qe.ZodOptional,...He(e)});class Ds extends Ke{_parse(e){return this._getType(e)===_e.null?er(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ds.create=(t,e)=>new Ds({innerType:t,typeName:qe.ZodNullable,...He(e)});class zv extends Ke{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===_e.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}zv.create=(t,e)=>new zv({innerType:t,typeName:qe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...He(e)});class Vv extends Ke{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ad(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ni(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ni(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Vv.create=(t,e)=>new Vv({innerType:t,typeName:qe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...He(e)});class u_ extends Ke{_parse(e){if(this._getType(e)!==_e.nan){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:_e.nan,received:r.parsedType}),Be}return{status:"valid",value:e.data}}}u_.create=t=>new u_({typeName:qe.ZodNaN,...He(t)});class SL extends Ke{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Db extends Ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Be:a.status==="dirty"?(n.dirty(),Il(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Be:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Db({in:e,out:n,typeName:qe.ZodPipeline})}}class Wv extends Ke{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Is(i)&&(i.value=Object.freeze(i.value)),i);return Ad(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Wv.create=(t,e)=>new Wv({innerType:t,typeName:qe.ZodReadonly,...He(e)});var qe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(qe||(qe={}));const ml=$i.create,pa=Os.create;Vi.create;Pr.create;const d_=Et.create;Ed.create;Cd.create;Ea.create;const _L=Rs.create;Pd.create;qi.create;Ds.create;const Id={Grape:[{name:"Sprouting",dapRange:[0,15],description:"Bud burst and initial leaf emergence."},{name:"Vegetative",dapRange:[15,45],description:"Rapid shoot growth and leaf area development."},{name:"Flowering",dapRange:[45,65],description:"Inflorescence development and blooming."},{name:"Fruit Set",dapRange:[65,90],description:"Berries begin to grow after pollination."},{name:"Ripening",dapRange:[90,120],description:"Color change (veraison) and sugar accumulation."},{name:"Harvest",dapRange:[120,150],description:"Optimal maturity reached for picking."}],Onion:[{name:"Establishment",dapRange:[0,20],description:"Rooting and initial leaf sprout."},{name:"Vegetative",dapRange:[20,50],description:"Folliage growth and nutrient accumulation."},{name:"Bulb Initiation",dapRange:[50,80],description:"Bulb begins to swell at the base."},{name:"Bulb Development",dapRange:[80,110],description:"Rapid bulb enlargement."},{name:"Maturity",dapRange:[110,135],description:"Leaves begin to fall (neck fall)."}],Tomato:[{name:"Establishment",dapRange:[0,15],description:"Transplant recovery and rooting."},{name:"Vegetative",dapRange:[15,35],description:"Branching and height increase."},{name:"Flowering",dapRange:[35,55],description:"First clusters of yellow flowers appear."},{name:"Fruit Set",dapRange:[55,85],description:"Fruit development from green to orange."},{name:"Harvesting",dapRange:[85,120],description:"Fruit turns red and ready for picking."}]},l2=(t,e)=>{const n=new Date(e),i=Math.abs(new Date().getTime()-n.getTime()),a=Math.ceil(i/(1e3*60*60*24)),o=Id[t]||Id.Tomato,c=o.find(f=>a>=f.dapRange[0]&&a<f.dapRange[1])||o[o.length-1];return{dap:a,stageName:c.name,description:c.description,nextStage:o[o.indexOf(c)+1]?.name||"Finished",progress:Math.min(100,Math.round(a/o[o.length-1].dapRange[1]*100))}},Em=(t,e)=>{const n=new Date(e),r=Id[t]||Id.Tomato,i=new Date;return r.map(a=>{const o=new Date(n);o.setDate(n.getDate()+a.dapRange[0]);let c="pending";if(i>=o){const f=new Date(n);f.setDate(n.getDate()+a.dapRange[1]),c=i<f?"active":"completed"}return{stage:a.name,expectedDate:o.toISOString(),status:c}})},jL=d_({userId:ml(),cropType:ml().min(2),variety:ml(),plantingDate:ml(),farmSize:pa().positive(),plotLocation:ml().optional(),irrigationMethod:_L(["drip","sprinkler","flood"]),healthScore:pa().min(0).max(100).optional(),soilData:d_({ph:pa().optional(),nitrogen:pa().optional(),phosphorus:pa().optional(),potassium:pa().optional()}).optional(),targetYield:pa().optional().default(10)}),gl=["https://images.unsplash.com/photo-1595304033282-3e28be636d14?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1596373809653-e5786a51d8b9?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1625246333195-78d9c38ad449?auto=format&fit=crop&q=80&w=800"],tr={getByUser:async t=>{const e=[{cropId:"c1",userId:t,cropType:"Grape",variety:"Thompson Seedless",plantingDate:"2023-11-15",currentStage:"Fruit Set",farmSize:4.5,plotLocation:"East Block - Hill Side",irrigationMethod:"drip",healthScore:92,lastAnalysis:"2024-03-10",milestones:Em("Grape","2023-11-15"),yieldHistory:[{season:"Rabi 2022",amount:12.5,unit:"Tons"},{season:"Rabi 2021",amount:11.2,unit:"Tons"}],soilData:{ph:7.2,nitrogen:45,phosphorus:22,potassium:180},activities:[{id:"a1",type:"Irrigated",date:"2024-03-12",notes:"Standard cycle, 4 hours"},{id:"a2",type:"Pruned",date:"2024-02-15",notes:"Winter cleaning complete"}],costs:[{id:"co1",category:"Fertilizer",amount:15e3,date:"2024-01-10"},{id:"co2",category:"Labor",amount:8e3,date:"2024-02-05"}],targetYield:45,images:[gl[0],gl[2]]},{cropId:"c2",userId:t,cropType:"Onion",variety:"Bhima Super",plantingDate:"2024-01-10",currentStage:"Vegetative",farmSize:2,plotLocation:"Central Valley",irrigationMethod:"drip",healthScore:78,lastAnalysis:"2024-03-08",milestones:Em("Onion","2024-01-10"),yieldHistory:[{season:"Kharif 2023",amount:8.4,unit:"Tons"}],soilData:{ph:6.8,nitrogen:38,phosphorus:19,potassium:165},activities:[{id:"a3",type:"Fertilized",date:"2024-03-05",notes:"DAP 50kg applied"}],costs:[{id:"co3",category:"Seeds",amount:4500,date:"2024-01-05"}],targetYield:30,images:[gl[1]]}];return he.wrapSuccess(e)},create:async t=>{const e=jL.parse(t),n={cropId:Math.random().toString(36).substr(2,9),userId:e.userId,cropType:e.cropType,variety:e.variety,plantingDate:e.plantingDate,farmSize:e.farmSize,irrigationMethod:e.irrigationMethod,targetYield:e.targetYield,...e,currentStage:"Seedling",healthScore:100,milestones:Em(e.cropType,e.plantingDate),lastAnalysis:new Date().toISOString(),activities:[],costs:[],images:[gl[Math.floor(Math.random()*gl.length)]]};return he.request("/api/crops","POST",n)},addActivity:async(t,e)=>{const n={id:Math.random().toString(36).substr(2,9),...e};return he.wrapSuccess(n)},addCost:async(t,e)=>{const n={id:Math.random().toString(36).substr(2,9),...e};return he.wrapSuccess(n)},delete:async t=>he.request(`/api/crops/${t}`,"DELETE")},kL={check:async()=>he.wrapSuccess({status:"UP",uptime:typeof window<"u"&&window.performance?window.performance.now()/1e3:0})},AL=Object.prototype.toString,TL=t=>AL.call(t)==="[object Error]",EL=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function CL(t){if(!(t&&TL(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:EL.has(n)}function PL(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function ed(t,e,{min:n=0,allowInfinity:r=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<n)throw new TypeError(`Expected \`${t}\` to be  ${n}.`)}}class c2 extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function IL(t,e){const n=Math.max(1,t+1),r=e.randomize?Math.random()+1:1;let i=Math.round(r*e.minTimeout*e.factor**(n-1));return i=Math.min(i,e.maxTimeout),i}function f_(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function OL({error:t,attemptNumber:e,retriesConsumed:n,startTime:r,options:i}){const a=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(a instanceof c2)throw a.originalError;const o=Number.isFinite(i.retries)?Math.max(0,i.retries-n):i.retries,c=i.maxRetryTime??Number.POSITIVE_INFINITY,f=Object.freeze({error:a,attemptNumber:e,retriesLeft:o,retriesConsumed:n});if(await i.onFailedAttempt(f),f_(r,c)<=0)throw a;const d=await i.shouldConsumeRetry(f),p=f_(r,c);if(p<=0||o<=0)throw a;if(a instanceof TypeError&&!CL(a)){if(d)throw a;return i.signal?.throwIfAborted(),!1}if(!await i.shouldRetry(f))throw a;if(!d)return i.signal?.throwIfAborted(),!1;const h=IL(n,i),g=Math.min(h,p);return i.signal?.throwIfAborted(),g>0&&await new Promise((y,N)=>{const S=()=>{clearTimeout(w),i.signal?.removeEventListener("abort",S),N(i.signal.reason)},w=setTimeout(()=>{i.signal?.removeEventListener("abort",S),y()},g);i.unref&&w.unref?.(),i.signal?.addEventListener("abort",S,{once:!0})}),i.signal?.throwIfAborted(),!0}async function RL(t,e={}){if(e={...e},PL(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??=10,e.factor??=2,e.minTimeout??=1e3,e.maxTimeout??=Number.POSITIVE_INFINITY,e.maxRetryTime??=Number.POSITIVE_INFINITY,e.randomize??=!1,e.onFailedAttempt??=()=>{},e.shouldRetry??=()=>!0,e.shouldConsumeRetry??=()=>!0,ed("factor",e.factor,{min:0,allowInfinity:!1}),ed("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),ed("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),ed("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),e.signal?.throwIfAborted();let n=0,r=0;const i=performance.now();for(;!Number.isFinite(e.retries)||r<=e.retries;){n++;try{e.signal?.throwIfAborted();const a=await t(n);return e.signal?.throwIfAborted(),a}catch(a){await OL({error:a,attemptNumber:n,retriesConsumed:r,startTime:i,options:e})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var ML={};let DL,LL;function $L(){return{geminiUrl:DL,vertexUrl:LL}}function FL(t,e,n,r){var i,a;if(!t?.baseUrl){const o=$L();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(a=o.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}class ui{}function me(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function v(t,e,n){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const c=o.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[c])){const f=t[c];if(Array.isArray(n))for(let d=0;d<f.length;d++){const p=f[d];v(p,e.slice(a+1),n[d])}else for(const d of f)v(d,e.slice(a+1),n)}return}else if(o.endsWith("[0]")){const c=o.slice(0,-3);c in t||(t[c]=[{}]);const f=t[c];v(f[0],e.slice(a+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function x(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const o=t[a];return Array.isArray(o)?o.map(c=>x(c,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function UL(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),o=new Set;let c=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){c=f;break}if(c!==-1&&a.length>c)for(let f=c;f<a.length;f++){const d=a[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&o.add(d)}Kv(t,i,a,0,o)}}function Kv(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const o=a.slice(0,-2),c=t;if(o in c&&Array.isArray(c[o]))for(const f of c[o])Kv(f,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,c=Object.keys(o).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of c)f[d]=o[d];for(const[d,p]of Object.entries(f)){const h=[];for(const g of n.slice(r))g==="*"?h.push(d):h.push(g);v(o,h,p)}for(const d of c)delete o[d]}}else{const o=t;a in o&&Kv(o[a],e,n,r+1,i)}}function Lb(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function BL(t){const e={},n=x(t,["operationName"]);n!=null&&v(e,["operationName"],n);const r=x(t,["resourceName"]);return r!=null&&v(e,["_url","resourceName"],r),e}function qL(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=x(t,["done"]);i!=null&&v(e,["done"],i);const a=x(t,["error"]);a!=null&&v(e,["error"],a);const o=x(t,["response","generateVideoResponse"]);return o!=null&&v(e,["response"],HL(o)),e}function GL(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=x(t,["done"]);i!=null&&v(e,["done"],i);const a=x(t,["error"]);a!=null&&v(e,["error"],a);const o=x(t,["response"]);return o!=null&&v(e,["response"],zL(o)),e}function HL(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>VL(o))),v(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function zL(t){const e={},n=x(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>WL(o))),v(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function VL(t){const e={},n=x(t,["video"]);return n!=null&&v(e,["video"],QL(n)),e}function WL(t){const e={},n=x(t,["_self"]);return n!=null&&v(e,["video"],e6(n)),e}function KL(t){const e={},n=x(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function YL(t){const e={},n=x(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function JL(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=x(t,["done"]);i!=null&&v(e,["done"],i);const a=x(t,["error"]);a!=null&&v(e,["error"],a);const o=x(t,["response"]);return o!=null&&v(e,["response"],XL(o)),e}function XL(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&v(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function u2(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=x(t,["done"]);i!=null&&v(e,["done"],i);const a=x(t,["error"]);a!=null&&v(e,["error"],a);const o=x(t,["response"]);return o!=null&&v(e,["response"],ZL(o)),e}function ZL(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&v(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function QL(t){const e={},n=x(t,["uri"]);n!=null&&v(e,["uri"],n);const r=x(t,["encodedVideo"]);r!=null&&v(e,["videoBytes"],Lb(r));const i=x(t,["encoding"]);return i!=null&&v(e,["mimeType"],i),e}function e6(t){const e={},n=x(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&v(e,["videoBytes"],Lb(r));const i=x(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}var p_;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(p_||(p_={}));var h_;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(h_||(h_={}));var m_;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(m_||(m_={}));var bt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(bt||(bt={}));var g_;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(g_||(g_={}));var x_;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(x_||(x_={}));var v_;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(v_||(v_={}));var y_;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(y_||(y_={}));var b_;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(b_||(b_={}));var w_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(w_||(w_={}));var N_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(N_||(N_={}));var S_;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(S_||(S_={}));var __;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(__||(__={}));var j_;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(j_||(j_={}));var k_;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(k_||(k_={}));var A_;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(A_||(A_={}));var T_;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(T_||(T_={}));var E_;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(E_||(E_={}));var C_;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(C_||(C_={}));var P_;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(P_||(P_={}));var I_;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(I_||(I_={}));var Od;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Od||(Od={}));var O_;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(O_||(O_={}));var R_;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(R_||(R_={}));var M_;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(M_||(M_={}));var Yv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Yv||(Yv={}));var D_;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(D_||(D_={}));var L_;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(L_||(L_={}));var Jv;(function(t){t.COLLECTION="COLLECTION"})(Jv||(Jv={}));var $_;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})($_||($_={}));var F_;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(F_||(F_={}));var U_;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(U_||(U_={}));var B_;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(B_||(B_={}));var q_;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(q_||(q_={}));var G_;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(G_||(G_={}));var H_;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(H_||(H_={}));var z_;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(z_||(z_={}));var V_;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(V_||(V_={}));var W_;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(W_||(W_={}));var K_;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(K_||(K_={}));var Y_;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Y_||(Y_={}));var J_;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(J_||(J_={}));var X_;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(X_||(X_={}));var Z_;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Z_||(Z_={}));var Q_;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Q_||(Q_={}));var ej;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(ej||(ej={}));var tj;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(tj||(tj={}));var nj;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(nj||(nj={}));var rj;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(rj||(rj={}));var ij;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(ij||(ij={}));var aj;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(aj||(aj={}));var sj;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(sj||(sj={}));var oj;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(oj||(oj={}));var lj;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(lj||(lj={}));var cj;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(cj||(cj={}));var uj;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(uj||(uj={}));var bs;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(bs||(bs={}));class Xv{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class xl{get text(){var e,n,r,i,a,o,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",p=!1;const h=[];for(const g of(f=(c=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[y,N]of Object.entries(g))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(N!==null||N!==void 0)&&h.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;p=!0,d+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?d:void 0}get data(){var e,n,r,i,a,o,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const p=[];for(const h of(f=(c=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[g,y]of Object.entries(h))g!=="inlineData"&&(y!==null||y!==void 0)&&p.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(d+=atob(h.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,a,o,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(c=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,r,i,a,o,c,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(f=(c=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if(p?.length!==0)return(d=p?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,a,o,c,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(f=(c=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if(p?.length!==0)return(d=p?.[0])===null||d===void 0?void 0:d.output}}class dj{}class fj{}class t6{}class n6{}class r6{}class i6{}class pj{}class hj{}class mj{}class a6{}class Rd{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Rd;let i;const a=e;return n?i=GL(a):i=qL(a),Object.assign(r,i),r}}class gj{}class xj{}class vj{}class yj{}class s6{}class o6{}class l6{}class $b{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new $b,a=JL(e);return Object.assign(r,a),r}}class c6{}class u6{}class d6{}class f6{}class bj{}class p6{get text(){var e,n,r;let i="",a=!1;const o=[];for(const c of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(c))f!=="text"&&f!=="thought"&&d!==null&&o.push(f);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,i+=c.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(o))c!=="inlineData"&&f!==null&&a.push(c);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class h6{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Fb{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Fb,a=u2(e);return Object.assign(r,a),r}}function Xe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function d2(t,e){const n=Xe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function f2(t){return Array.isArray(t)?t.map(e=>Md(e)):[Md(t)]}function Md(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function p2(t){const e=Md(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function h2(t){const e=Md(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function wj(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function m2(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>wj(e)):[wj(t)]}function Zv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Nj(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Sj(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function an(t){if(t==null)throw new Error("ContentUnion is required");return Zv(t)?t:{role:"user",parts:m2(t)}}function Ub(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=an(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=an(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>an(n)):[an(e)]}function Jn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Nj(t)||Sj(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[an(t)]}const e=[],n=[],r=Zv(t[0]);for(const i of t){const a=Zv(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(Nj(i)||Sj(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:m2(n)}),e}function m6(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(bt).includes(n[0].toUpperCase())?n[0].toUpperCase():bt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(bt).includes(r.toUpperCase())?r.toUpperCase():bt.TYPE_UNSPECIFIED})}}function As(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&m6(t.type,e);for(const[o,c]of Object.entries(t))if(c!=null)if(o=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(bt).includes(c.toUpperCase())?c.toUpperCase():bt.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=As(c);else if(r.includes(o)){const f=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}f.push(As(d))}e[o]=f}else if(i.includes(o)){const f={};for(const[d,p]of Object.entries(c))f[d]=As(p);e[o]=f}else{if(o==="additionalProperties")continue;e[o]=c}return e}function Bb(t){return As(t)}function qb(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Gb(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ho(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=As(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=As(e.response));return t}function mo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function g6(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function di(t,e){if(typeof e!="string")throw new Error("name must be a string");return g6(t,e,"cachedContents")}function g2(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ki(t){return Lb(t)}function x6(t){return t!=null&&typeof t=="object"&&"name"in t}function v6(t){return t!=null&&typeof t=="object"&&"video"in t}function y6(t){return t!=null&&typeof t=="object"&&"uri"in t}function x2(t){var e;let n;if(x6(t)&&(n=t.name),!(y6(t)&&(n=t.uri,n===void 0))&&!(v6(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function v2(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function y2(t){for(const e of["models","tunedModels","publisherModels"])if(b6(t,e))return t[e];return[]}function b6(t,e){return t!==null&&typeof t=="object"&&e in t}function w6(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function N6(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const o=w6(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function b2(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function S6(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function w2(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const f=o.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function go(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function N2(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function _6(t){const e={},n=x(t,["responsesFile"]);n!=null&&v(e,["fileName"],n);const r=x(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>i3(o))),v(e,["inlinedResponses"],a)}const i=x(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),v(e,["inlinedEmbedContentResponses"],a)}return e}function j6(t){const e={},n=x(t,["predictionsFormat"]);n!=null&&v(e,["format"],n);const r=x(t,["gcsDestination","outputUriPrefix"]);r!=null&&v(e,["gcsUri"],r);const i=x(t,["bigqueryDestination","outputUri"]);return i!=null&&v(e,["bigqueryUri"],i),e}function k6(t){const e={},n=x(t,["format"]);n!=null&&v(e,["predictionsFormat"],n);const r=x(t,["gcsUri"]);r!=null&&v(e,["gcsDestination","outputUriPrefix"],r);const i=x(t,["bigqueryUri"]);if(i!=null&&v(e,["bigqueryDestination","outputUri"],i),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(x(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Sd(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["metadata","displayName"]);r!=null&&v(e,["displayName"],r);const i=x(t,["metadata","state"]);i!=null&&v(e,["state"],N2(i));const a=x(t,["metadata","createTime"]);a!=null&&v(e,["createTime"],a);const o=x(t,["metadata","endTime"]);o!=null&&v(e,["endTime"],o);const c=x(t,["metadata","updateTime"]);c!=null&&v(e,["updateTime"],c);const f=x(t,["metadata","model"]);f!=null&&v(e,["model"],f);const d=x(t,["metadata","output"]);return d!=null&&v(e,["dest"],_6(w2(d))),e}function Qv(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["displayName"]);r!=null&&v(e,["displayName"],r);const i=x(t,["state"]);i!=null&&v(e,["state"],N2(i));const a=x(t,["error"]);a!=null&&v(e,["error"],a);const o=x(t,["createTime"]);o!=null&&v(e,["createTime"],o);const c=x(t,["startTime"]);c!=null&&v(e,["startTime"],c);const f=x(t,["endTime"]);f!=null&&v(e,["endTime"],f);const d=x(t,["updateTime"]);d!=null&&v(e,["updateTime"],d);const p=x(t,["model"]);p!=null&&v(e,["model"],p);const h=x(t,["inputConfig"]);h!=null&&v(e,["src"],A6(h));const g=x(t,["outputConfig"]);g!=null&&v(e,["dest"],j6(w2(g)));const y=x(t,["completionStats"]);return y!=null&&v(e,["completionStats"],y),e}function A6(t){const e={},n=x(t,["instancesFormat"]);n!=null&&v(e,["format"],n);const r=x(t,["gcsSource","uris"]);r!=null&&v(e,["gcsUri"],r);const i=x(t,["bigquerySource","inputUri"]);return i!=null&&v(e,["bigqueryUri"],i),e}function T6(t,e){const n={};if(x(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=x(e,["fileName"]);r!=null&&v(n,["fileName"],r);const i=x(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>r3(t,o))),v(n,["requests","requests"],a)}return n}function E6(t){const e={},n=x(t,["format"]);n!=null&&v(e,["instancesFormat"],n);const r=x(t,["gcsUri"]);r!=null&&v(e,["gcsSource","uris"],r);const i=x(t,["bigqueryUri"]);if(i!=null&&v(e,["bigquerySource","inputUri"],i),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function C6(t){const e={},n=x(t,["data"]);if(n!=null&&v(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function P6(t,e){const n={},r=x(e,["name"]);return r!=null&&v(n,["_url","name"],go(t,r)),n}function I6(t,e){const n={},r=x(e,["name"]);return r!=null&&v(n,["_url","name"],go(t,r)),n}function O6(t){const e={},n=x(t,["content"]);n!=null&&v(e,["content"],n);const r=x(t,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],R6(r));const i=x(t,["tokenCount"]);i!=null&&v(e,["tokenCount"],i);const a=x(t,["finishReason"]);a!=null&&v(e,["finishReason"],a);const o=x(t,["avgLogprobs"]);o!=null&&v(e,["avgLogprobs"],o);const c=x(t,["groundingMetadata"]);c!=null&&v(e,["groundingMetadata"],c);const f=x(t,["index"]);f!=null&&v(e,["index"],f);const d=x(t,["logprobsResult"]);d!=null&&v(e,["logprobsResult"],d);const p=x(t,["safetyRatings"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(y=>y)),v(e,["safetyRatings"],g)}const h=x(t,["urlContextMetadata"]);return h!=null&&v(e,["urlContextMetadata"],h),e}function R6(t){const e={},n=x(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["citations"],r)}return e}function S2(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>d3(a))),v(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function M6(t,e){const n={},r=x(t,["displayName"]);if(e!==void 0&&r!=null&&v(e,["batch","displayName"],r),x(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function D6(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const i=x(t,["dest"]);return e!==void 0&&i!=null&&v(e,["outputConfig"],k6(S6(i))),n}function _j(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],Xe(t,r));const i=x(e,["src"]);i!=null&&v(n,["batch","inputConfig"],T6(t,b2(t,i)));const a=x(e,["config"]);return a!=null&&M6(a,n),n}function L6(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["model"],Xe(t,r));const i=x(e,["src"]);i!=null&&v(n,["inputConfig"],E6(b2(t,i)));const a=x(e,["config"]);return a!=null&&D6(a,n),n}function $6(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&v(e,["batch","displayName"],r),n}function F6(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],Xe(t,r));const i=x(e,["src"]);i!=null&&v(n,["batch","inputConfig"],V6(t,i));const a=x(e,["config"]);return a!=null&&$6(a,n),n}function U6(t,e){const n={},r=x(e,["name"]);return r!=null&&v(n,["_url","name"],go(t,r)),n}function B6(t,e){const n={},r=x(e,["name"]);return r!=null&&v(n,["_url","name"],go(t,r)),n}function q6(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&v(e,["name"],r);const i=x(t,["done"]);i!=null&&v(e,["done"],i);const a=x(t,["error"]);return a!=null&&v(e,["error"],a),e}function G6(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&v(e,["name"],r);const i=x(t,["done"]);i!=null&&v(e,["done"],i);const a=x(t,["error"]);return a!=null&&v(e,["error"],a),e}function H6(t,e){const n={},r=x(e,["contents"]);if(r!=null){let a=Ub(t,r);Array.isArray(a)&&(a=a.map(o=>o)),v(n,["requests[]","request","content"],a)}const i=x(e,["config"]);return i!=null&&(v(n,["_self"],z6(i,n)),UL(n,{"requests[].*":"requests[].request.*"})),n}function z6(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&v(e,["requests[]","taskType"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&v(e,["requests[]","title"],i);const a=x(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&v(e,["requests[]","outputDimensionality"],a),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function V6(t,e){const n={},r=x(e,["fileName"]);r!=null&&v(n,["file_name"],r);const i=x(e,["inlinedRequests"]);return i!=null&&v(n,["requests"],H6(t,i)),n}function W6(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function K6(t){const e={},n=x(t,["id"]);n!=null&&v(e,["id"],n);const r=x(t,["args"]);r!=null&&v(e,["args"],r);const i=x(t,["name"]);if(i!=null&&v(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Y6(t){const e={},n=x(t,["allowedFunctionNames"]);n!=null&&v(e,["allowedFunctionNames"],n);const r=x(t,["mode"]);if(r!=null&&v(e,["mode"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function J6(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],S2(an(i)));const a=x(e,["temperature"]);a!=null&&v(r,["temperature"],a);const o=x(e,["topP"]);o!=null&&v(r,["topP"],o);const c=x(e,["topK"]);c!=null&&v(r,["topK"],c);const f=x(e,["candidateCount"]);f!=null&&v(r,["candidateCount"],f);const d=x(e,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const p=x(e,["stopSequences"]);p!=null&&v(r,["stopSequences"],p);const h=x(e,["responseLogprobs"]);h!=null&&v(r,["responseLogprobs"],h);const g=x(e,["logprobs"]);g!=null&&v(r,["logprobs"],g);const y=x(e,["presencePenalty"]);y!=null&&v(r,["presencePenalty"],y);const N=x(e,["frequencyPenalty"]);N!=null&&v(r,["frequencyPenalty"],N);const S=x(e,["seed"]);S!=null&&v(r,["seed"],S);const w=x(e,["responseMimeType"]);w!=null&&v(r,["responseMimeType"],w);const j=x(e,["responseSchema"]);j!=null&&v(r,["responseSchema"],Bb(j));const T=x(e,["responseJsonSchema"]);if(T!=null&&v(r,["responseJsonSchema"],T),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=x(e,["safetySettings"]);if(n!==void 0&&C!=null){let K=C;Array.isArray(K)&&(K=K.map(J=>f3(J))),v(n,["safetySettings"],K)}const A=x(e,["tools"]);if(n!==void 0&&A!=null){let K=mo(A);Array.isArray(K)&&(K=K.map(J=>h3(ho(J)))),v(n,["tools"],K)}const E=x(e,["toolConfig"]);if(n!==void 0&&E!=null&&v(n,["toolConfig"],p3(E)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=x(e,["cachedContent"]);n!==void 0&&P!=null&&v(n,["cachedContent"],di(t,P));const O=x(e,["responseModalities"]);O!=null&&v(r,["responseModalities"],O);const M=x(e,["mediaResolution"]);M!=null&&v(r,["mediaResolution"],M);const D=x(e,["speechConfig"]);if(D!=null&&v(r,["speechConfig"],qb(D)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=x(e,["thinkingConfig"]);G!=null&&v(r,["thinkingConfig"],G);const B=x(e,["imageConfig"]);B!=null&&v(r,["imageConfig"],n3(B));const F=x(e,["enableEnhancedCivicAnswers"]);if(F!=null&&v(r,["enableEnhancedCivicAnswers"],F),x(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function X6(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>O6(d))),v(e,["candidates"],f)}const i=x(t,["modelVersion"]);i!=null&&v(e,["modelVersion"],i);const a=x(t,["promptFeedback"]);a!=null&&v(e,["promptFeedback"],a);const o=x(t,["responseId"]);o!=null&&v(e,["responseId"],o);const c=x(t,["usageMetadata"]);return c!=null&&v(e,["usageMetadata"],c),e}function Z6(t,e){const n={},r=x(e,["name"]);return r!=null&&v(n,["_url","name"],go(t,r)),n}function Q6(t,e){const n={},r=x(e,["name"]);return r!=null&&v(n,["_url","name"],go(t,r)),n}function e3(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function t3(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function n3(t){const e={},n=x(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const r=x(t,["imageSize"]);if(r!=null&&v(e,["imageSize"],r),x(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(x(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function r3(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["request","model"],Xe(t,r));const i=x(e,["contents"]);if(i!=null){let c=Jn(i);Array.isArray(c)&&(c=c.map(f=>S2(f))),v(n,["request","contents"],c)}const a=x(e,["metadata"]);a!=null&&v(n,["metadata"],a);const o=x(e,["config"]);return o!=null&&v(n,["request","generationConfig"],J6(t,o,x(n,["request"],{}))),n}function i3(t){const e={},n=x(t,["response"]);n!=null&&v(e,["response"],X6(n));const r=x(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=x(t,["error"]);return i!=null&&v(e,["error"],i),e}function a3(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);if(e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),x(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function s3(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);e!==void 0&&i!=null&&v(e,["_query","pageToken"],i);const a=x(t,["filter"]);return e!==void 0&&a!=null&&v(e,["_query","filter"],a),n}function o3(t){const e={},n=x(t,["config"]);return n!=null&&a3(n,e),e}function l3(t){const e={},n=x(t,["config"]);return n!=null&&s3(n,e),e}function c3(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=x(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Sd(o))),v(e,["batchJobs"],a)}return e}function u3(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=x(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Qv(o))),v(e,["batchJobs"],a)}return e}function d3(t){const e={},n=x(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],W6(a));const o=x(t,["functionCall"]);o!=null&&v(e,["functionCall"],K6(o));const c=x(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const f=x(t,["inlineData"]);f!=null&&v(e,["inlineData"],C6(f));const d=x(t,["text"]);d!=null&&v(e,["text"],d);const p=x(t,["thought"]);p!=null&&v(e,["thought"],p);const h=x(t,["thoughtSignature"]);h!=null&&v(e,["thoughtSignature"],h);const g=x(t,["videoMetadata"]);return g!=null&&v(e,["videoMetadata"],g),e}function f3(t){const e={},n=x(t,["category"]);if(n!=null&&v(e,["category"],n),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["threshold"]);return r!=null&&v(e,["threshold"],r),e}function p3(t){const e={},n=x(t,["retrievalConfig"]);n!=null&&v(e,["retrievalConfig"],n);const r=x(t,["functionCallingConfig"]);return r!=null&&v(e,["functionCallingConfig"],Y6(r)),e}function h3(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(h=>h)),v(e,["functionDeclarations"],p)}const o=x(t,["googleMaps"]);o!=null&&v(e,["googleMaps"],e3(o));const c=x(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],t3(c));const f=x(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const d=x(t,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}var ri;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ri||(ri={}));class Ma{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}class m3 extends ui{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ma(ri.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=_j(this.apiClient,e),r=n._url,i=me("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,f=c.requests,d=[];for(const p of f){const h=Object.assign({},p);if(h.systemInstruction){const g=h.systemInstruction;delete h.systemInstruction;const y=h.request;y.systemInstruction=g,h.request=y}d.push(h)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),o=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=L6(this.apiClient,e);return c=me("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>Qv(p))}else{const d=_j(this.apiClient,e);return c=me("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>Sd(p))}}async createEmbeddingsInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=F6(this.apiClient,e);return a=me("{model}:asyncBatchEmbedContent",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>Sd(f))}}async get(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=Q6(this.apiClient,e);return c=me("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>Qv(p))}else{const d=Z6(this.apiClient,e);return c=me("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>Sd(p))}}async cancel(e){var n,r,i,a;let o="",c={};if(this.apiClient.isVertexAI()){const f=I6(this.apiClient,e);o=me("batchPredictionJobs/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=P6(this.apiClient,e);o=me("batches/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=l3(e);return c=me("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=u3(p),g=new bj;return Object.assign(g,h),g})}else{const d=o3(e);return c=me("batches",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=c3(p),g=new bj;return Object.assign(g,h),g})}}async delete(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=B6(this.apiClient,e);return c=me("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>G6(p))}else{const d=U6(this.apiClient,e);return c=me("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>q6(p))}}}function g3(t){const e={},n=x(t,["data"]);if(n!=null&&v(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function jj(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>F3(a))),v(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function x3(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=x(t,["expireTime"]);e!==void 0&&i!=null&&v(e,["expireTime"],i);const a=x(t,["displayName"]);e!==void 0&&a!=null&&v(e,["displayName"],a);const o=x(t,["contents"]);if(e!==void 0&&o!=null){let p=Jn(o);Array.isArray(p)&&(p=p.map(h=>jj(h))),v(e,["contents"],p)}const c=x(t,["systemInstruction"]);e!==void 0&&c!=null&&v(e,["systemInstruction"],jj(an(c)));const f=x(t,["tools"]);if(e!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>B3(h))),v(e,["tools"],p)}const d=x(t,["toolConfig"]);if(e!==void 0&&d!=null&&v(e,["toolConfig"],U3(d)),x(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function v3(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=x(t,["expireTime"]);e!==void 0&&i!=null&&v(e,["expireTime"],i);const a=x(t,["displayName"]);e!==void 0&&a!=null&&v(e,["displayName"],a);const o=x(t,["contents"]);if(e!==void 0&&o!=null){let h=Jn(o);Array.isArray(h)&&(h=h.map(g=>g)),v(e,["contents"],h)}const c=x(t,["systemInstruction"]);e!==void 0&&c!=null&&v(e,["systemInstruction"],an(c));const f=x(t,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>q3(g))),v(e,["tools"],h)}const d=x(t,["toolConfig"]);e!==void 0&&d!=null&&v(e,["toolConfig"],d);const p=x(t,["kmsKeyName"]);return e!==void 0&&p!=null&&v(e,["encryption_spec","kmsKeyName"],p),n}function y3(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["model"],d2(t,r));const i=x(e,["config"]);return i!=null&&x3(i,n),n}function b3(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["model"],d2(t,r));const i=x(e,["config"]);return i!=null&&v3(i,n),n}function w3(t,e){const n={},r=x(e,["name"]);return r!=null&&v(n,["_url","name"],di(t,r)),n}function N3(t,e){const n={},r=x(e,["name"]);return r!=null&&v(n,["_url","name"],di(t,r)),n}function S3(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function _3(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function j3(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function k3(t){const e={},n=x(t,["id"]);n!=null&&v(e,["id"],n);const r=x(t,["args"]);r!=null&&v(e,["args"],r);const i=x(t,["name"]);if(i!=null&&v(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function A3(t){const e={},n=x(t,["allowedFunctionNames"]);n!=null&&v(e,["allowedFunctionNames"],n);const r=x(t,["mode"]);if(r!=null&&v(e,["mode"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function T3(t){const e={},n=x(t,["description"]);n!=null&&v(e,["description"],n);const r=x(t,["name"]);r!=null&&v(e,["name"],r);const i=x(t,["parameters"]);i!=null&&v(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&v(e,["parametersJsonSchema"],a);const o=x(t,["response"]);o!=null&&v(e,["response"],o);const c=x(t,["responseJsonSchema"]);if(c!=null&&v(e,["responseJsonSchema"],c),x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function E3(t,e){const n={},r=x(e,["name"]);return r!=null&&v(n,["_url","name"],di(t,r)),n}function C3(t,e){const n={},r=x(e,["name"]);return r!=null&&v(n,["_url","name"],di(t,r)),n}function P3(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function I3(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function O3(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function R3(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function M3(t){const e={},n=x(t,["config"]);return n!=null&&O3(n,e),e}function D3(t){const e={},n=x(t,["config"]);return n!=null&&R3(n,e),e}function L3(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=x(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),v(e,["cachedContents"],a)}return e}function $3(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=x(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),v(e,["cachedContents"],a)}return e}function F3(t){const e={},n=x(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],j3(a));const o=x(t,["functionCall"]);o!=null&&v(e,["functionCall"],k3(o));const c=x(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const f=x(t,["inlineData"]);f!=null&&v(e,["inlineData"],g3(f));const d=x(t,["text"]);d!=null&&v(e,["text"],d);const p=x(t,["thought"]);p!=null&&v(e,["thought"],p);const h=x(t,["thoughtSignature"]);h!=null&&v(e,["thoughtSignature"],h);const g=x(t,["videoMetadata"]);return g!=null&&v(e,["videoMetadata"],g),e}function U3(t){const e={},n=x(t,["retrievalConfig"]);n!=null&&v(e,["retrievalConfig"],n);const r=x(t,["functionCallingConfig"]);return r!=null&&v(e,["functionCallingConfig"],A3(r)),e}function B3(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(h=>h)),v(e,["functionDeclarations"],p)}const o=x(t,["googleMaps"]);o!=null&&v(e,["googleMaps"],P3(o));const c=x(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],I3(c));const f=x(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const d=x(t,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}function q3(t){const e={},n=x(t,["retrieval"]);n!=null&&v(e,["retrieval"],n);const r=x(t,["computerUse"]);if(r!=null&&v(e,["computerUse"],r),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=x(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const a=x(t,["enterpriseWebSearch"]);a!=null&&v(e,["enterpriseWebSearch"],a);const o=x(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(g=>T3(g))),v(e,["functionDeclarations"],h)}const c=x(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],c);const f=x(t,["googleSearch"]);f!=null&&v(e,["googleSearch"],f);const d=x(t,["googleSearchRetrieval"]);d!=null&&v(e,["googleSearchRetrieval"],d);const p=x(t,["urlContext"]);return p!=null&&v(e,["urlContext"],p),e}function G3(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=x(t,["expireTime"]);return e!==void 0&&i!=null&&v(e,["expireTime"],i),n}function H3(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=x(t,["expireTime"]);return e!==void 0&&i!=null&&v(e,["expireTime"],i),n}function z3(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],di(t,r));const i=x(e,["config"]);return i!=null&&G3(i,n),n}function V3(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],di(t,r));const i=x(e,["config"]);return i!=null&&H3(i,n),n}class W3 extends ui{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ma(ri.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=b3(this.apiClient,e);return c=me("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}else{const d=y3(this.apiClient,e);return c=me("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async get(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=C3(this.apiClient,e);return c=me("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}else{const d=E3(this.apiClient,e);return c=me("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=N3(this.apiClient,e);return c=me("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=_3(p),g=new vj;return Object.assign(g,h),g})}else{const d=w3(this.apiClient,e);return c=me("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=S3(p),g=new vj;return Object.assign(g,h),g})}}async update(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=V3(this.apiClient,e);return c=me("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}else{const d=z3(this.apiClient,e);return c=me("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async listInternal(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=D3(e);return c=me("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=$3(p),g=new yj;return Object.assign(g,h),g})}else{const d=M3(e);return c=me("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=L3(p),g=new yj;return Object.assign(g,h),g})}}}function Dd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kj(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Le(t){return this instanceof Le?(this.v=t,this):new Le(t)}function gr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(N){return Promise.resolve(N).then(y,h)}}function c(y,N){r[y]&&(i[y]=function(S){return new Promise(function(w,j){a.push([y,S,w,j])>1||f(y,S)})},N&&(i[y]=N(i[y])))}function f(y,N){try{d(r[y](N))}catch(S){g(a[0][3],S)}}function d(y){y.value instanceof Le?Promise.resolve(y.value.v).then(p,h):g(a[0][2],y)}function p(y){f("next",y)}function h(y){f("throw",y)}function g(y,N){y(N),a.shift(),a.length&&f(a[0][0],a[0][1])}}function xr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof kj=="function"?kj(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(c,f){o=t[a](o),i(c,f,o.done,o.value)})}}function i(a,o,c,f){Promise.resolve(f).then(function(d){a({value:d,done:c})},o)}}function K3(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:_2(n)}function _2(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Y3(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Aj(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!_2(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class J3{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new X3(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class X3{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),Y3(a)}async sendMessage(e){var n;await this.sendPromise;const r=an(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,c;const f=await i,d=(o=(a=f.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,p=f.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let g=[];p!=null&&(g=(c=p.slice(h))!==null&&c!==void 0?c:[]);const y=d?[d]:[];this.recordHistory(r,y,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=an(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?Aj(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return gr(this,arguments,function*(){var i,a,o,c,f,d;const p=[];try{for(var h=!0,g=xr(e),y;y=yield Le(g.next()),i=y.done,!i;h=!0){c=y.value,h=!1;const N=c;if(K3(N)){const S=(d=(f=N.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content;S!==void 0&&p.push(S)}yield yield Le(N)}}catch(N){a={error:N}}finally{try{!h&&!i&&(o=g.return)&&(yield Le(o.call(g)))}finally{if(a)throw a.error}}this.recordHistory(n,p)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Aj(r)):this.history.push(e),this.history.push(...i)}}class Jl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Jl.prototype)}}function Z3(t){const e={},n=x(t,["file"]);return n!=null&&v(e,["file"],n),e}function Q3(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function e$(t){const e={},n=x(t,["name"]);return n!=null&&v(e,["_url","file"],x2(n)),e}function t$(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function n$(t){const e={},n=x(t,["name"]);return n!=null&&v(e,["_url","file"],x2(n)),e}function r$(t){const e={},n=x(t,["uris"]);return n!=null&&v(e,["uris"],n),e}function i$(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function a$(t){const e={},n=x(t,["config"]);return n!=null&&i$(n,e),e}function s$(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=x(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),v(e,["files"],a)}return e}function o$(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),v(e,["files"],i)}return e}class l$ extends ui{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ma(ri.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=a$(e);return a=me("files",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=s$(f),p=new c6;return Object.assign(p,d),p})}}async createInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Z3(e);return a=me("upload/v1beta/files",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Q3(f),p=new u6;return Object.assign(p,d),p})}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=n$(e);return a=me("files/{file}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=e$(e);return a=me("files/{file}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=t$(f),p=new d6;return Object.assign(p,d),p})}}async registerFilesInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=r$(e);return a=me("files:register",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=o$(f),p=new f6;return Object.assign(p,d),p})}}}function _d(t){const e={},n=x(t,["data"]);if(n!=null&&v(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function c$(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>j$(a))),v(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function u$(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function d$(t){const e={},n=x(t,["id"]);n!=null&&v(e,["id"],n);const r=x(t,["args"]);r!=null&&v(e,["args"],r);const i=x(t,["name"]);if(i!=null&&v(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function f$(t){const e={},n=x(t,["description"]);n!=null&&v(e,["description"],n);const r=x(t,["name"]);r!=null&&v(e,["name"],r);const i=x(t,["parameters"]);i!=null&&v(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&v(e,["parametersJsonSchema"],a);const o=x(t,["response"]);o!=null&&v(e,["response"],o);const c=x(t,["responseJsonSchema"]);if(c!=null&&v(e,["responseJsonSchema"],c),x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function p$(t){const e={},n=x(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const r=x(t,["responseJsonSchema"]);r!=null&&v(e,["responseJsonSchema"],r);const i=x(t,["audioTimestamp"]);i!=null&&v(e,["audioTimestamp"],i);const a=x(t,["candidateCount"]);a!=null&&v(e,["candidateCount"],a);const o=x(t,["enableAffectiveDialog"]);o!=null&&v(e,["enableAffectiveDialog"],o);const c=x(t,["frequencyPenalty"]);c!=null&&v(e,["frequencyPenalty"],c);const f=x(t,["logprobs"]);f!=null&&v(e,["logprobs"],f);const d=x(t,["maxOutputTokens"]);d!=null&&v(e,["maxOutputTokens"],d);const p=x(t,["mediaResolution"]);p!=null&&v(e,["mediaResolution"],p);const h=x(t,["presencePenalty"]);h!=null&&v(e,["presencePenalty"],h);const g=x(t,["responseLogprobs"]);g!=null&&v(e,["responseLogprobs"],g);const y=x(t,["responseMimeType"]);y!=null&&v(e,["responseMimeType"],y);const N=x(t,["responseModalities"]);N!=null&&v(e,["responseModalities"],N);const S=x(t,["responseSchema"]);S!=null&&v(e,["responseSchema"],S);const w=x(t,["routingConfig"]);w!=null&&v(e,["routingConfig"],w);const j=x(t,["seed"]);j!=null&&v(e,["seed"],j);const T=x(t,["speechConfig"]);T!=null&&v(e,["speechConfig"],T);const C=x(t,["stopSequences"]);C!=null&&v(e,["stopSequences"],C);const A=x(t,["temperature"]);A!=null&&v(e,["temperature"],A);const E=x(t,["thinkingConfig"]);E!=null&&v(e,["thinkingConfig"],E);const P=x(t,["topK"]);P!=null&&v(e,["topK"],P);const O=x(t,["topP"]);if(O!=null&&v(e,["topP"],O),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function h$(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function m$(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function g$(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","temperature"],a);const o=x(t,["topP"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","topP"],o);const c=x(t,["topK"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topK"],c);const f=x(t,["maxOutputTokens"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","maxOutputTokens"],f);const d=x(t,["mediaResolution"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","mediaResolution"],d);const p=x(t,["seed"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","seed"],p);const h=x(t,["speechConfig"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","speechConfig"],Gb(h));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","thinkingConfig"],g);const y=x(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],y);const N=x(t,["systemInstruction"]);e!==void 0&&N!=null&&v(e,["setup","systemInstruction"],c$(an(N)));const S=x(t,["tools"]);if(e!==void 0&&S!=null){let P=mo(S);Array.isArray(P)&&(P=P.map(O=>A$(ho(O)))),v(e,["setup","tools"],P)}const w=x(t,["sessionResumption"]);e!==void 0&&w!=null&&v(e,["setup","sessionResumption"],k$(w));const j=x(t,["inputAudioTranscription"]);e!==void 0&&j!=null&&v(e,["setup","inputAudioTranscription"],j);const T=x(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&v(e,["setup","outputAudioTranscription"],T);const C=x(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&v(e,["setup","realtimeInputConfig"],C);const A=x(t,["contextWindowCompression"]);e!==void 0&&A!=null&&v(e,["setup","contextWindowCompression"],A);const E=x(t,["proactivity"]);if(e!==void 0&&E!=null&&v(e,["setup","proactivity"],E),x(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function x$(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],p$(r));const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","temperature"],a);const o=x(t,["topP"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","topP"],o);const c=x(t,["topK"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topK"],c);const f=x(t,["maxOutputTokens"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","maxOutputTokens"],f);const d=x(t,["mediaResolution"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","mediaResolution"],d);const p=x(t,["seed"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","seed"],p);const h=x(t,["speechConfig"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","speechConfig"],Gb(h));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","thinkingConfig"],g);const y=x(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],y);const N=x(t,["systemInstruction"]);e!==void 0&&N!=null&&v(e,["setup","systemInstruction"],an(N));const S=x(t,["tools"]);if(e!==void 0&&S!=null){let O=mo(S);Array.isArray(O)&&(O=O.map(M=>T$(ho(M)))),v(e,["setup","tools"],O)}const w=x(t,["sessionResumption"]);e!==void 0&&w!=null&&v(e,["setup","sessionResumption"],w);const j=x(t,["inputAudioTranscription"]);e!==void 0&&j!=null&&v(e,["setup","inputAudioTranscription"],j);const T=x(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&v(e,["setup","outputAudioTranscription"],T);const C=x(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&v(e,["setup","realtimeInputConfig"],C);const A=x(t,["contextWindowCompression"]);e!==void 0&&A!=null&&v(e,["setup","contextWindowCompression"],A);const E=x(t,["proactivity"]);e!==void 0&&E!=null&&v(e,["setup","proactivity"],E);const P=x(t,["explicitVadSignal"]);return e!==void 0&&P!=null&&v(e,["setup","explicitVadSignal"],P),n}function v$(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["setup","model"],Xe(t,r));const i=x(e,["config"]);return i!=null&&v(n,["config"],g$(i,n)),n}function y$(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["setup","model"],Xe(t,r));const i=x(e,["config"]);return i!=null&&v(n,["config"],x$(i,n)),n}function b$(t){const e={},n=x(t,["musicGenerationConfig"]);return n!=null&&v(e,["musicGenerationConfig"],n),e}function w$(t){const e={},n=x(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["weightedPrompts"],r)}return e}function N$(t){const e={},n=x(t,["media"]);if(n!=null){let d=f2(n);Array.isArray(d)&&(d=d.map(p=>_d(p))),v(e,["mediaChunks"],d)}const r=x(t,["audio"]);r!=null&&v(e,["audio"],_d(h2(r)));const i=x(t,["audioStreamEnd"]);i!=null&&v(e,["audioStreamEnd"],i);const a=x(t,["video"]);a!=null&&v(e,["video"],_d(p2(a)));const o=x(t,["text"]);o!=null&&v(e,["text"],o);const c=x(t,["activityStart"]);c!=null&&v(e,["activityStart"],c);const f=x(t,["activityEnd"]);return f!=null&&v(e,["activityEnd"],f),e}function S$(t){const e={},n=x(t,["media"]);if(n!=null){let d=f2(n);Array.isArray(d)&&(d=d.map(p=>p)),v(e,["mediaChunks"],d)}const r=x(t,["audio"]);r!=null&&v(e,["audio"],h2(r));const i=x(t,["audioStreamEnd"]);i!=null&&v(e,["audioStreamEnd"],i);const a=x(t,["video"]);a!=null&&v(e,["video"],p2(a));const o=x(t,["text"]);o!=null&&v(e,["text"],o);const c=x(t,["activityStart"]);c!=null&&v(e,["activityStart"],c);const f=x(t,["activityEnd"]);return f!=null&&v(e,["activityEnd"],f),e}function _$(t){const e={},n=x(t,["setupComplete"]);n!=null&&v(e,["setupComplete"],n);const r=x(t,["serverContent"]);r!=null&&v(e,["serverContent"],r);const i=x(t,["toolCall"]);i!=null&&v(e,["toolCall"],i);const a=x(t,["toolCallCancellation"]);a!=null&&v(e,["toolCallCancellation"],a);const o=x(t,["usageMetadata"]);o!=null&&v(e,["usageMetadata"],E$(o));const c=x(t,["goAway"]);c!=null&&v(e,["goAway"],c);const f=x(t,["sessionResumptionUpdate"]);f!=null&&v(e,["sessionResumptionUpdate"],f);const d=x(t,["voiceActivityDetectionSignal"]);d!=null&&v(e,["voiceActivityDetectionSignal"],d);const p=x(t,["voiceActivity"]);return p!=null&&v(e,["voiceActivity"],C$(p)),e}function j$(t){const e={},n=x(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],u$(a));const o=x(t,["functionCall"]);o!=null&&v(e,["functionCall"],d$(o));const c=x(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const f=x(t,["inlineData"]);f!=null&&v(e,["inlineData"],_d(f));const d=x(t,["text"]);d!=null&&v(e,["text"],d);const p=x(t,["thought"]);p!=null&&v(e,["thought"],p);const h=x(t,["thoughtSignature"]);h!=null&&v(e,["thoughtSignature"],h);const g=x(t,["videoMetadata"]);return g!=null&&v(e,["videoMetadata"],g),e}function k$(t){const e={},n=x(t,["handle"]);if(n!=null&&v(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function A$(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(h=>h)),v(e,["functionDeclarations"],p)}const o=x(t,["googleMaps"]);o!=null&&v(e,["googleMaps"],h$(o));const c=x(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],m$(c));const f=x(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const d=x(t,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}function T$(t){const e={},n=x(t,["retrieval"]);n!=null&&v(e,["retrieval"],n);const r=x(t,["computerUse"]);if(r!=null&&v(e,["computerUse"],r),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=x(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const a=x(t,["enterpriseWebSearch"]);a!=null&&v(e,["enterpriseWebSearch"],a);const o=x(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(g=>f$(g))),v(e,["functionDeclarations"],h)}const c=x(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],c);const f=x(t,["googleSearch"]);f!=null&&v(e,["googleSearch"],f);const d=x(t,["googleSearchRetrieval"]);d!=null&&v(e,["googleSearchRetrieval"],d);const p=x(t,["urlContext"]);return p!=null&&v(e,["urlContext"],p),e}function E$(t){const e={},n=x(t,["promptTokenCount"]);n!=null&&v(e,["promptTokenCount"],n);const r=x(t,["cachedContentTokenCount"]);r!=null&&v(e,["cachedContentTokenCount"],r);const i=x(t,["candidatesTokenCount"]);i!=null&&v(e,["responseTokenCount"],i);const a=x(t,["toolUsePromptTokenCount"]);a!=null&&v(e,["toolUsePromptTokenCount"],a);const o=x(t,["thoughtsTokenCount"]);o!=null&&v(e,["thoughtsTokenCount"],o);const c=x(t,["totalTokenCount"]);c!=null&&v(e,["totalTokenCount"],c);const f=x(t,["promptTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(N=>N)),v(e,["promptTokensDetails"],y)}const d=x(t,["cacheTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(N=>N)),v(e,["cacheTokensDetails"],y)}const p=x(t,["candidatesTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(N=>N)),v(e,["responseTokensDetails"],y)}const h=x(t,["toolUsePromptTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(N=>N)),v(e,["toolUsePromptTokensDetails"],y)}const g=x(t,["trafficType"]);return g!=null&&v(e,["trafficType"],g),e}function C$(t){const e={},n=x(t,["type"]);return n!=null&&v(e,["voiceActivityType"],n),e}function P$(t,e){const n={},r=x(t,["data"]);if(r!=null&&v(n,["data"],r),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=x(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function I$(t,e){const n={},r=x(t,["content"]);r!=null&&v(n,["content"],r);const i=x(t,["citationMetadata"]);i!=null&&v(n,["citationMetadata"],O$(i));const a=x(t,["tokenCount"]);a!=null&&v(n,["tokenCount"],a);const o=x(t,["finishReason"]);o!=null&&v(n,["finishReason"],o);const c=x(t,["avgLogprobs"]);c!=null&&v(n,["avgLogprobs"],c);const f=x(t,["groundingMetadata"]);f!=null&&v(n,["groundingMetadata"],f);const d=x(t,["index"]);d!=null&&v(n,["index"],d);const p=x(t,["logprobsResult"]);p!=null&&v(n,["logprobsResult"],p);const h=x(t,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(N=>N)),v(n,["safetyRatings"],y)}const g=x(t,["urlContextMetadata"]);return g!=null&&v(n,["urlContextMetadata"],g),n}function O$(t,e){const n={},r=x(t,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),v(n,["citations"],i)}return n}function R$(t,e,n){const r={},i=x(e,["model"]);i!=null&&v(r,["_url","model"],Xe(t,i));const a=x(e,["contents"]);if(a!=null){let o=Jn(a);Array.isArray(o)&&(o=o.map(c=>c)),v(r,["contents"],o)}return r}function M$(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=x(t,["tokensInfo"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),v(n,["tokensInfo"],a)}return n}function D$(t,e){const n={},r=x(t,["values"]);r!=null&&v(n,["values"],r);const i=x(t,["statistics"]);return i!=null&&v(n,["statistics"],L$(i)),n}function L$(t,e){const n={},r=x(t,["truncated"]);r!=null&&v(n,["truncated"],r);const i=x(t,["token_count"]);return i!=null&&v(n,["tokenCount"],i),n}function Wf(t,e){const n={},r=x(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>VF(o))),v(n,["parts"],a)}const i=x(t,["role"]);return i!=null&&v(n,["role"],i),n}function $$(t,e){const n={},r=x(t,["controlType"]);r!=null&&v(n,["controlType"],r);const i=x(t,["enableControlImageComputation"]);return i!=null&&v(n,["computeControl"],i),n}function F$(t,e){const n={};if(x(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function U$(t,e,n){const r={},i=x(t,["systemInstruction"]);e!==void 0&&i!=null&&v(e,["systemInstruction"],an(i));const a=x(t,["tools"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>T2(f))),v(e,["tools"],c)}const o=x(t,["generationConfig"]);return e!==void 0&&o!=null&&v(e,["generationConfig"],PF(o)),r}function B$(t,e,n){const r={},i=x(e,["model"]);i!=null&&v(r,["_url","model"],Xe(t,i));const a=x(e,["contents"]);if(a!=null){let c=Jn(a);Array.isArray(c)&&(c=c.map(f=>Wf(f))),v(r,["contents"],c)}const o=x(e,["config"]);return o!=null&&F$(o),r}function q$(t,e,n){const r={},i=x(e,["model"]);i!=null&&v(r,["_url","model"],Xe(t,i));const a=x(e,["contents"]);if(a!=null){let c=Jn(a);Array.isArray(c)&&(c=c.map(f=>f)),v(r,["contents"],c)}const o=x(e,["config"]);return o!=null&&U$(o,r),r}function G$(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=x(t,["totalTokens"]);i!=null&&v(n,["totalTokens"],i);const a=x(t,["cachedContentTokenCount"]);return a!=null&&v(n,["cachedContentTokenCount"],a),n}function H$(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=x(t,["totalTokens"]);return i!=null&&v(n,["totalTokens"],i),n}function z$(t,e,n){const r={},i=x(e,["model"]);return i!=null&&v(r,["_url","name"],Xe(t,i)),r}function V$(t,e,n){const r={},i=x(e,["model"]);return i!=null&&v(r,["_url","name"],Xe(t,i)),r}function W$(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function K$(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function Y$(t,e,n){const r={},i=x(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const a=x(t,["negativePrompt"]);e!==void 0&&a!=null&&v(e,["parameters","negativePrompt"],a);const o=x(t,["numberOfImages"]);e!==void 0&&o!=null&&v(e,["parameters","sampleCount"],o);const c=x(t,["aspectRatio"]);e!==void 0&&c!=null&&v(e,["parameters","aspectRatio"],c);const f=x(t,["guidanceScale"]);e!==void 0&&f!=null&&v(e,["parameters","guidanceScale"],f);const d=x(t,["seed"]);e!==void 0&&d!=null&&v(e,["parameters","seed"],d);const p=x(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&v(e,["parameters","safetySetting"],p);const h=x(t,["personGeneration"]);e!==void 0&&h!=null&&v(e,["parameters","personGeneration"],h);const g=x(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&v(e,["parameters","includeSafetyAttributes"],g);const y=x(t,["includeRaiReason"]);e!==void 0&&y!=null&&v(e,["parameters","includeRaiReason"],y);const N=x(t,["language"]);e!==void 0&&N!=null&&v(e,["parameters","language"],N);const S=x(t,["outputMimeType"]);e!==void 0&&S!=null&&v(e,["parameters","outputOptions","mimeType"],S);const w=x(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&v(e,["parameters","outputOptions","compressionQuality"],w);const j=x(t,["addWatermark"]);e!==void 0&&j!=null&&v(e,["parameters","addWatermark"],j);const T=x(t,["labels"]);e!==void 0&&T!=null&&v(e,["labels"],T);const C=x(t,["editMode"]);e!==void 0&&C!=null&&v(e,["parameters","editMode"],C);const A=x(t,["baseSteps"]);return e!==void 0&&A!=null&&v(e,["parameters","editConfig","baseSteps"],A),r}function J$(t,e,n){const r={},i=x(e,["model"]);i!=null&&v(r,["_url","model"],Xe(t,i));const a=x(e,["prompt"]);a!=null&&v(r,["instances[0]","prompt"],a);const o=x(e,["referenceImages"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(d=>ZF(d))),v(r,["instances[0]","referenceImages"],f)}const c=x(e,["config"]);return c!=null&&Y$(c,r),r}function X$(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=x(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Kf(o))),v(n,["generatedImages"],a)}return n}function Z$(t,e,n){const r={},i=x(t,["taskType"]);e!==void 0&&i!=null&&v(e,["requests[]","taskType"],i);const a=x(t,["title"]);e!==void 0&&a!=null&&v(e,["requests[]","title"],a);const o=x(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&v(e,["requests[]","outputDimensionality"],o),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Q$(t,e,n){const r={},i=x(t,["taskType"]);e!==void 0&&i!=null&&v(e,["instances[]","task_type"],i);const a=x(t,["title"]);e!==void 0&&a!=null&&v(e,["instances[]","title"],a);const o=x(t,["outputDimensionality"]);e!==void 0&&o!=null&&v(e,["parameters","outputDimensionality"],o);const c=x(t,["mimeType"]);e!==void 0&&c!=null&&v(e,["instances[]","mimeType"],c);const f=x(t,["autoTruncate"]);return e!==void 0&&f!=null&&v(e,["parameters","autoTruncate"],f),r}function eF(t,e,n){const r={},i=x(e,["model"]);i!=null&&v(r,["_url","model"],Xe(t,i));const a=x(e,["contents"]);if(a!=null){let f=Ub(t,a);Array.isArray(f)&&(f=f.map(d=>d)),v(r,["requests[]","content"],f)}const o=x(e,["config"]);o!=null&&Z$(o,r);const c=x(e,["model"]);return c!==void 0&&v(r,["requests[]","model"],Xe(t,c)),r}function tF(t,e,n){const r={},i=x(e,["model"]);i!=null&&v(r,["_url","model"],Xe(t,i));const a=x(e,["contents"]);if(a!=null){let c=Ub(t,a);Array.isArray(c)&&(c=c.map(f=>f)),v(r,["instances[]","content"],c)}const o=x(e,["config"]);return o!=null&&Q$(o,r),r}function nF(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=x(t,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>c)),v(n,["embeddings"],o)}const a=x(t,["metadata"]);return a!=null&&v(n,["metadata"],a),n}function rF(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=x(t,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>D$(c))),v(n,["embeddings"],o)}const a=x(t,["metadata"]);return a!=null&&v(n,["metadata"],a),n}function iF(t,e){const n={},r=x(t,["endpoint"]);r!=null&&v(n,["name"],r);const i=x(t,["deployedModelId"]);return i!=null&&v(n,["deployedModelId"],i),n}function aF(t,e){const n={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["fileUri"]);r!=null&&v(n,["fileUri"],r);const i=x(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function sF(t,e){const n={},r=x(t,["id"]);r!=null&&v(n,["id"],r);const i=x(t,["args"]);i!=null&&v(n,["args"],i);const a=x(t,["name"]);if(a!=null&&v(n,["name"],a),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function oF(t,e){const n={},r=x(t,["allowedFunctionNames"]);r!=null&&v(n,["allowedFunctionNames"],r);const i=x(t,["mode"]);if(i!=null&&v(n,["mode"],i),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function lF(t,e){const n={},r=x(t,["description"]);r!=null&&v(n,["description"],r);const i=x(t,["name"]);i!=null&&v(n,["name"],i);const a=x(t,["parameters"]);a!=null&&v(n,["parameters"],a);const o=x(t,["parametersJsonSchema"]);o!=null&&v(n,["parametersJsonSchema"],o);const c=x(t,["response"]);c!=null&&v(n,["response"],c);const f=x(t,["responseJsonSchema"]);if(f!=null&&v(n,["responseJsonSchema"],f),x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function cF(t,e,n,r){const i={},a=x(e,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],Wf(an(a)));const o=x(e,["temperature"]);o!=null&&v(i,["temperature"],o);const c=x(e,["topP"]);c!=null&&v(i,["topP"],c);const f=x(e,["topK"]);f!=null&&v(i,["topK"],f);const d=x(e,["candidateCount"]);d!=null&&v(i,["candidateCount"],d);const p=x(e,["maxOutputTokens"]);p!=null&&v(i,["maxOutputTokens"],p);const h=x(e,["stopSequences"]);h!=null&&v(i,["stopSequences"],h);const g=x(e,["responseLogprobs"]);g!=null&&v(i,["responseLogprobs"],g);const y=x(e,["logprobs"]);y!=null&&v(i,["logprobs"],y);const N=x(e,["presencePenalty"]);N!=null&&v(i,["presencePenalty"],N);const S=x(e,["frequencyPenalty"]);S!=null&&v(i,["frequencyPenalty"],S);const w=x(e,["seed"]);w!=null&&v(i,["seed"],w);const j=x(e,["responseMimeType"]);j!=null&&v(i,["responseMimeType"],j);const T=x(e,["responseSchema"]);T!=null&&v(i,["responseSchema"],Bb(T));const C=x(e,["responseJsonSchema"]);if(C!=null&&v(i,["responseJsonSchema"],C),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=x(e,["safetySettings"]);if(n!==void 0&&A!=null){let J=A;Array.isArray(J)&&(J=J.map(Z=>QF(Z))),v(n,["safetySettings"],J)}const E=x(e,["tools"]);if(n!==void 0&&E!=null){let J=mo(E);Array.isArray(J)&&(J=J.map(Z=>s8(ho(Z)))),v(n,["tools"],J)}const P=x(e,["toolConfig"]);if(n!==void 0&&P!=null&&v(n,["toolConfig"],a8(P)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=x(e,["cachedContent"]);n!==void 0&&O!=null&&v(n,["cachedContent"],di(t,O));const M=x(e,["responseModalities"]);M!=null&&v(i,["responseModalities"],M);const D=x(e,["mediaResolution"]);D!=null&&v(i,["mediaResolution"],D);const G=x(e,["speechConfig"]);if(G!=null&&v(i,["speechConfig"],qb(G)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=x(e,["thinkingConfig"]);B!=null&&v(i,["thinkingConfig"],B);const F=x(e,["imageConfig"]);F!=null&&v(i,["imageConfig"],DF(F));const K=x(e,["enableEnhancedCivicAnswers"]);if(K!=null&&v(i,["enableEnhancedCivicAnswers"],K),x(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function uF(t,e,n,r){const i={},a=x(e,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],an(a));const o=x(e,["temperature"]);o!=null&&v(i,["temperature"],o);const c=x(e,["topP"]);c!=null&&v(i,["topP"],c);const f=x(e,["topK"]);f!=null&&v(i,["topK"],f);const d=x(e,["candidateCount"]);d!=null&&v(i,["candidateCount"],d);const p=x(e,["maxOutputTokens"]);p!=null&&v(i,["maxOutputTokens"],p);const h=x(e,["stopSequences"]);h!=null&&v(i,["stopSequences"],h);const g=x(e,["responseLogprobs"]);g!=null&&v(i,["responseLogprobs"],g);const y=x(e,["logprobs"]);y!=null&&v(i,["logprobs"],y);const N=x(e,["presencePenalty"]);N!=null&&v(i,["presencePenalty"],N);const S=x(e,["frequencyPenalty"]);S!=null&&v(i,["frequencyPenalty"],S);const w=x(e,["seed"]);w!=null&&v(i,["seed"],w);const j=x(e,["responseMimeType"]);j!=null&&v(i,["responseMimeType"],j);const T=x(e,["responseSchema"]);T!=null&&v(i,["responseSchema"],Bb(T));const C=x(e,["responseJsonSchema"]);C!=null&&v(i,["responseJsonSchema"],C);const A=x(e,["routingConfig"]);A!=null&&v(i,["routingConfig"],A);const E=x(e,["modelSelectionConfig"]);E!=null&&v(i,["modelConfig"],E);const P=x(e,["safetySettings"]);if(n!==void 0&&P!=null){let W=P;Array.isArray(W)&&(W=W.map(ee=>ee)),v(n,["safetySettings"],W)}const O=x(e,["tools"]);if(n!==void 0&&O!=null){let W=mo(O);Array.isArray(W)&&(W=W.map(ee=>T2(ho(ee)))),v(n,["tools"],W)}const M=x(e,["toolConfig"]);n!==void 0&&M!=null&&v(n,["toolConfig"],M);const D=x(e,["labels"]);n!==void 0&&D!=null&&v(n,["labels"],D);const G=x(e,["cachedContent"]);n!==void 0&&G!=null&&v(n,["cachedContent"],di(t,G));const B=x(e,["responseModalities"]);B!=null&&v(i,["responseModalities"],B);const F=x(e,["mediaResolution"]);F!=null&&v(i,["mediaResolution"],F);const K=x(e,["speechConfig"]);K!=null&&v(i,["speechConfig"],qb(K));const J=x(e,["audioTimestamp"]);J!=null&&v(i,["audioTimestamp"],J);const Z=x(e,["thinkingConfig"]);Z!=null&&v(i,["thinkingConfig"],Z);const H=x(e,["imageConfig"]);if(H!=null&&v(i,["imageConfig"],LF(H)),x(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const z=x(e,["modelArmorConfig"]);return n!==void 0&&z!=null&&v(n,["modelArmorConfig"],z),i}function Tj(t,e,n){const r={},i=x(e,["model"]);i!=null&&v(r,["_url","model"],Xe(t,i));const a=x(e,["contents"]);if(a!=null){let c=Jn(a);Array.isArray(c)&&(c=c.map(f=>Wf(f))),v(r,["contents"],c)}const o=x(e,["config"]);return o!=null&&v(r,["generationConfig"],cF(t,o,r)),r}function Ej(t,e,n){const r={},i=x(e,["model"]);i!=null&&v(r,["_url","model"],Xe(t,i));const a=x(e,["contents"]);if(a!=null){let c=Jn(a);Array.isArray(c)&&(c=c.map(f=>f)),v(r,["contents"],c)}const o=x(e,["config"]);return o!=null&&v(r,["generationConfig"],uF(t,o,r)),r}function Cj(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=x(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(p=>I$(p))),v(n,["candidates"],d)}const a=x(t,["modelVersion"]);a!=null&&v(n,["modelVersion"],a);const o=x(t,["promptFeedback"]);o!=null&&v(n,["promptFeedback"],o);const c=x(t,["responseId"]);c!=null&&v(n,["responseId"],c);const f=x(t,["usageMetadata"]);return f!=null&&v(n,["usageMetadata"],f),n}function Pj(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=x(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>h)),v(n,["candidates"],p)}const a=x(t,["createTime"]);a!=null&&v(n,["createTime"],a);const o=x(t,["modelVersion"]);o!=null&&v(n,["modelVersion"],o);const c=x(t,["promptFeedback"]);c!=null&&v(n,["promptFeedback"],c);const f=x(t,["responseId"]);f!=null&&v(n,["responseId"],f);const d=x(t,["usageMetadata"]);return d!=null&&v(n,["usageMetadata"],d),n}function dF(t,e,n){const r={};if(x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=x(t,["numberOfImages"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const a=x(t,["aspectRatio"]);e!==void 0&&a!=null&&v(e,["parameters","aspectRatio"],a);const o=x(t,["guidanceScale"]);if(e!==void 0&&o!=null&&v(e,["parameters","guidanceScale"],o),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=x(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&v(e,["parameters","safetySetting"],c);const f=x(t,["personGeneration"]);e!==void 0&&f!=null&&v(e,["parameters","personGeneration"],f);const d=x(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&v(e,["parameters","includeSafetyAttributes"],d);const p=x(t,["includeRaiReason"]);e!==void 0&&p!=null&&v(e,["parameters","includeRaiReason"],p);const h=x(t,["language"]);e!==void 0&&h!=null&&v(e,["parameters","language"],h);const g=x(t,["outputMimeType"]);e!==void 0&&g!=null&&v(e,["parameters","outputOptions","mimeType"],g);const y=x(t,["outputCompressionQuality"]);if(e!==void 0&&y!=null&&v(e,["parameters","outputOptions","compressionQuality"],y),x(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=x(t,["imageSize"]);if(e!==void 0&&N!=null&&v(e,["parameters","sampleImageSize"],N),x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function fF(t,e,n){const r={},i=x(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const a=x(t,["negativePrompt"]);e!==void 0&&a!=null&&v(e,["parameters","negativePrompt"],a);const o=x(t,["numberOfImages"]);e!==void 0&&o!=null&&v(e,["parameters","sampleCount"],o);const c=x(t,["aspectRatio"]);e!==void 0&&c!=null&&v(e,["parameters","aspectRatio"],c);const f=x(t,["guidanceScale"]);e!==void 0&&f!=null&&v(e,["parameters","guidanceScale"],f);const d=x(t,["seed"]);e!==void 0&&d!=null&&v(e,["parameters","seed"],d);const p=x(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&v(e,["parameters","safetySetting"],p);const h=x(t,["personGeneration"]);e!==void 0&&h!=null&&v(e,["parameters","personGeneration"],h);const g=x(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&v(e,["parameters","includeSafetyAttributes"],g);const y=x(t,["includeRaiReason"]);e!==void 0&&y!=null&&v(e,["parameters","includeRaiReason"],y);const N=x(t,["language"]);e!==void 0&&N!=null&&v(e,["parameters","language"],N);const S=x(t,["outputMimeType"]);e!==void 0&&S!=null&&v(e,["parameters","outputOptions","mimeType"],S);const w=x(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&v(e,["parameters","outputOptions","compressionQuality"],w);const j=x(t,["addWatermark"]);e!==void 0&&j!=null&&v(e,["parameters","addWatermark"],j);const T=x(t,["labels"]);e!==void 0&&T!=null&&v(e,["labels"],T);const C=x(t,["imageSize"]);e!==void 0&&C!=null&&v(e,["parameters","sampleImageSize"],C);const A=x(t,["enhancePrompt"]);return e!==void 0&&A!=null&&v(e,["parameters","enhancePrompt"],A),r}function pF(t,e,n){const r={},i=x(e,["model"]);i!=null&&v(r,["_url","model"],Xe(t,i));const a=x(e,["prompt"]);a!=null&&v(r,["instances[0]","prompt"],a);const o=x(e,["config"]);return o!=null&&dF(o,r),r}function hF(t,e,n){const r={},i=x(e,["model"]);i!=null&&v(r,["_url","model"],Xe(t,i));const a=x(e,["prompt"]);a!=null&&v(r,["instances[0]","prompt"],a);const o=x(e,["config"]);return o!=null&&fF(o,r),r}function mF(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=x(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>AF(c))),v(n,["generatedImages"],o)}const a=x(t,["positivePromptSafetyAttributes"]);return a!=null&&v(n,["positivePromptSafetyAttributes"],k2(a)),n}function gF(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=x(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>Kf(c))),v(n,["generatedImages"],o)}const a=x(t,["positivePromptSafetyAttributes"]);return a!=null&&v(n,["positivePromptSafetyAttributes"],A2(a)),n}function xF(t,e,n){const r={},i=x(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i),x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=x(t,["durationSeconds"]);if(e!==void 0&&a!=null&&v(e,["parameters","durationSeconds"],a),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=x(t,["aspectRatio"]);e!==void 0&&o!=null&&v(e,["parameters","aspectRatio"],o);const c=x(t,["resolution"]);e!==void 0&&c!=null&&v(e,["parameters","resolution"],c);const f=x(t,["personGeneration"]);if(e!==void 0&&f!=null&&v(e,["parameters","personGeneration"],f),x(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=x(t,["negativePrompt"]);e!==void 0&&d!=null&&v(e,["parameters","negativePrompt"],d);const p=x(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&v(e,["parameters","enhancePrompt"],p),x(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=x(t,["lastFrame"]);e!==void 0&&h!=null&&v(e,["instances[0]","lastFrame"],Yf(h));const g=x(t,["referenceImages"]);if(e!==void 0&&g!=null){let y=g;Array.isArray(y)&&(y=y.map(N=>y8(N))),v(e,["instances[0]","referenceImages"],y)}if(x(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(x(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function vF(t,e,n){const r={},i=x(t,["numberOfVideos"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const a=x(t,["outputGcsUri"]);e!==void 0&&a!=null&&v(e,["parameters","storageUri"],a);const o=x(t,["fps"]);e!==void 0&&o!=null&&v(e,["parameters","fps"],o);const c=x(t,["durationSeconds"]);e!==void 0&&c!=null&&v(e,["parameters","durationSeconds"],c);const f=x(t,["seed"]);e!==void 0&&f!=null&&v(e,["parameters","seed"],f);const d=x(t,["aspectRatio"]);e!==void 0&&d!=null&&v(e,["parameters","aspectRatio"],d);const p=x(t,["resolution"]);e!==void 0&&p!=null&&v(e,["parameters","resolution"],p);const h=x(t,["personGeneration"]);e!==void 0&&h!=null&&v(e,["parameters","personGeneration"],h);const g=x(t,["pubsubTopic"]);e!==void 0&&g!=null&&v(e,["parameters","pubsubTopic"],g);const y=x(t,["negativePrompt"]);e!==void 0&&y!=null&&v(e,["parameters","negativePrompt"],y);const N=x(t,["enhancePrompt"]);e!==void 0&&N!=null&&v(e,["parameters","enhancePrompt"],N);const S=x(t,["generateAudio"]);e!==void 0&&S!=null&&v(e,["parameters","generateAudio"],S);const w=x(t,["lastFrame"]);e!==void 0&&w!=null&&v(e,["instances[0]","lastFrame"],yr(w));const j=x(t,["referenceImages"]);if(e!==void 0&&j!=null){let A=j;Array.isArray(A)&&(A=A.map(E=>b8(E))),v(e,["instances[0]","referenceImages"],A)}const T=x(t,["mask"]);e!==void 0&&T!=null&&v(e,["instances[0]","mask"],v8(T));const C=x(t,["compressionQuality"]);return e!==void 0&&C!=null&&v(e,["parameters","compressionQuality"],C),r}function yF(t,e){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const i=x(t,["metadata"]);i!=null&&v(n,["metadata"],i);const a=x(t,["done"]);a!=null&&v(n,["done"],a);const o=x(t,["error"]);o!=null&&v(n,["error"],o);const c=x(t,["response","generateVideoResponse"]);return c!=null&&v(n,["response"],SF(c)),n}function bF(t,e){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const i=x(t,["metadata"]);i!=null&&v(n,["metadata"],i);const a=x(t,["done"]);a!=null&&v(n,["done"],a);const o=x(t,["error"]);o!=null&&v(n,["error"],o);const c=x(t,["response"]);return c!=null&&v(n,["response"],_F(c)),n}function wF(t,e,n){const r={},i=x(e,["model"]);i!=null&&v(r,["_url","model"],Xe(t,i));const a=x(e,["prompt"]);a!=null&&v(r,["instances[0]","prompt"],a);const o=x(e,["image"]);o!=null&&v(r,["instances[0]","image"],Yf(o));const c=x(e,["video"]);c!=null&&v(r,["instances[0]","video"],E2(c));const f=x(e,["source"]);f!=null&&jF(f,r);const d=x(e,["config"]);return d!=null&&xF(d,r),r}function NF(t,e,n){const r={},i=x(e,["model"]);i!=null&&v(r,["_url","model"],Xe(t,i));const a=x(e,["prompt"]);a!=null&&v(r,["instances[0]","prompt"],a);const o=x(e,["image"]);o!=null&&v(r,["instances[0]","image"],yr(o));const c=x(e,["video"]);c!=null&&v(r,["instances[0]","video"],C2(c));const f=x(e,["source"]);f!=null&&kF(f,r);const d=x(e,["config"]);return d!=null&&vF(d,r),r}function SF(t,e){const n={},r=x(t,["generatedSamples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(c=>EF(c))),v(n,["generatedVideos"],o)}const i=x(t,["raiMediaFilteredCount"]);i!=null&&v(n,["raiMediaFilteredCount"],i);const a=x(t,["raiMediaFilteredReasons"]);return a!=null&&v(n,["raiMediaFilteredReasons"],a),n}function _F(t,e){const n={},r=x(t,["videos"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(c=>CF(c))),v(n,["generatedVideos"],o)}const i=x(t,["raiMediaFilteredCount"]);i!=null&&v(n,["raiMediaFilteredCount"],i);const a=x(t,["raiMediaFilteredReasons"]);return a!=null&&v(n,["raiMediaFilteredReasons"],a),n}function jF(t,e,n){const r={},i=x(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const a=x(t,["image"]);e!==void 0&&a!=null&&v(e,["instances[0]","image"],Yf(a));const o=x(t,["video"]);return e!==void 0&&o!=null&&v(e,["instances[0]","video"],E2(o)),r}function kF(t,e,n){const r={},i=x(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const a=x(t,["image"]);e!==void 0&&a!=null&&v(e,["instances[0]","image"],yr(a));const o=x(t,["video"]);return e!==void 0&&o!=null&&v(e,["instances[0]","video"],C2(o)),r}function AF(t,e){const n={},r=x(t,["_self"]);r!=null&&v(n,["image"],$F(r));const i=x(t,["raiFilteredReason"]);i!=null&&v(n,["raiFilteredReason"],i);const a=x(t,["_self"]);return a!=null&&v(n,["safetyAttributes"],k2(a)),n}function Kf(t,e){const n={},r=x(t,["_self"]);r!=null&&v(n,["image"],j2(r));const i=x(t,["raiFilteredReason"]);i!=null&&v(n,["raiFilteredReason"],i);const a=x(t,["_self"]);a!=null&&v(n,["safetyAttributes"],A2(a));const o=x(t,["prompt"]);return o!=null&&v(n,["enhancedPrompt"],o),n}function TF(t,e){const n={},r=x(t,["_self"]);r!=null&&v(n,["mask"],j2(r));const i=x(t,["labels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),v(n,["labels"],a)}return n}function EF(t,e){const n={},r=x(t,["video"]);return r!=null&&v(n,["video"],g8(r)),n}function CF(t,e){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],x8(r)),n}function PF(t,e){const n={},r=x(t,["modelSelectionConfig"]);r!=null&&v(n,["modelConfig"],r);const i=x(t,["responseJsonSchema"]);i!=null&&v(n,["responseJsonSchema"],i);const a=x(t,["audioTimestamp"]);a!=null&&v(n,["audioTimestamp"],a);const o=x(t,["candidateCount"]);o!=null&&v(n,["candidateCount"],o);const c=x(t,["enableAffectiveDialog"]);c!=null&&v(n,["enableAffectiveDialog"],c);const f=x(t,["frequencyPenalty"]);f!=null&&v(n,["frequencyPenalty"],f);const d=x(t,["logprobs"]);d!=null&&v(n,["logprobs"],d);const p=x(t,["maxOutputTokens"]);p!=null&&v(n,["maxOutputTokens"],p);const h=x(t,["mediaResolution"]);h!=null&&v(n,["mediaResolution"],h);const g=x(t,["presencePenalty"]);g!=null&&v(n,["presencePenalty"],g);const y=x(t,["responseLogprobs"]);y!=null&&v(n,["responseLogprobs"],y);const N=x(t,["responseMimeType"]);N!=null&&v(n,["responseMimeType"],N);const S=x(t,["responseModalities"]);S!=null&&v(n,["responseModalities"],S);const w=x(t,["responseSchema"]);w!=null&&v(n,["responseSchema"],w);const j=x(t,["routingConfig"]);j!=null&&v(n,["routingConfig"],j);const T=x(t,["seed"]);T!=null&&v(n,["seed"],T);const C=x(t,["speechConfig"]);C!=null&&v(n,["speechConfig"],C);const A=x(t,["stopSequences"]);A!=null&&v(n,["stopSequences"],A);const E=x(t,["temperature"]);E!=null&&v(n,["temperature"],E);const P=x(t,["thinkingConfig"]);P!=null&&v(n,["thinkingConfig"],P);const O=x(t,["topK"]);O!=null&&v(n,["topK"],O);const M=x(t,["topP"]);if(M!=null&&v(n,["topP"],M),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function IF(t,e,n){const r={},i=x(e,["model"]);return i!=null&&v(r,["_url","name"],Xe(t,i)),r}function OF(t,e,n){const r={},i=x(e,["model"]);return i!=null&&v(r,["_url","name"],Xe(t,i)),r}function RF(t,e){const n={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=x(t,["enableWidget"]);return r!=null&&v(n,["enableWidget"],r),n}function MF(t,e){const n={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=x(t,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],r),n}function DF(t,e){const n={},r=x(t,["aspectRatio"]);r!=null&&v(n,["aspectRatio"],r);const i=x(t,["imageSize"]);if(i!=null&&v(n,["imageSize"],i),x(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(x(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function LF(t,e){const n={},r=x(t,["aspectRatio"]);r!=null&&v(n,["aspectRatio"],r);const i=x(t,["imageSize"]);i!=null&&v(n,["imageSize"],i);const a=x(t,["personGeneration"]);a!=null&&v(n,["personGeneration"],a);const o=x(t,["outputMimeType"]);o!=null&&v(n,["imageOutputOptions","mimeType"],o);const c=x(t,["outputCompressionQuality"]);return c!=null&&v(n,["imageOutputOptions","compressionQuality"],c),n}function $F(t,e){const n={},r=x(t,["bytesBase64Encoded"]);r!=null&&v(n,["imageBytes"],Ki(r));const i=x(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function j2(t,e){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const i=x(t,["bytesBase64Encoded"]);i!=null&&v(n,["imageBytes"],Ki(i));const a=x(t,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Yf(t,e){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=x(t,["imageBytes"]);r!=null&&v(n,["bytesBase64Encoded"],Ki(r));const i=x(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function yr(t,e){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const i=x(t,["imageBytes"]);i!=null&&v(n,["bytesBase64Encoded"],Ki(i));const a=x(t,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function FF(t,e,n,r){const i={},a=x(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const o=x(e,["pageToken"]);n!==void 0&&o!=null&&v(n,["_query","pageToken"],o);const c=x(e,["filter"]);n!==void 0&&c!=null&&v(n,["_query","filter"],c);const f=x(e,["queryBase"]);return n!==void 0&&f!=null&&v(n,["_url","models_url"],v2(t,f)),i}function UF(t,e,n,r){const i={},a=x(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const o=x(e,["pageToken"]);n!==void 0&&o!=null&&v(n,["_query","pageToken"],o);const c=x(e,["filter"]);n!==void 0&&c!=null&&v(n,["_query","filter"],c);const f=x(e,["queryBase"]);return n!==void 0&&f!=null&&v(n,["_url","models_url"],v2(t,f)),i}function BF(t,e,n){const r={},i=x(e,["config"]);return i!=null&&FF(t,i,r),r}function qF(t,e,n){const r={},i=x(e,["config"]);return i!=null&&UF(t,i,r),r}function GF(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const a=x(t,["_self"]);if(a!=null){let o=y2(a);Array.isArray(o)&&(o=o.map(c=>ey(c))),v(n,["models"],o)}return n}function HF(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const a=x(t,["_self"]);if(a!=null){let o=y2(a);Array.isArray(o)&&(o=o.map(c=>ty(c))),v(n,["models"],o)}return n}function zF(t,e){const n={},r=x(t,["maskMode"]);r!=null&&v(n,["maskMode"],r);const i=x(t,["segmentationClasses"]);i!=null&&v(n,["maskClasses"],i);const a=x(t,["maskDilation"]);return a!=null&&v(n,["dilation"],a),n}function ey(t,e){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const i=x(t,["displayName"]);i!=null&&v(n,["displayName"],i);const a=x(t,["description"]);a!=null&&v(n,["description"],a);const o=x(t,["version"]);o!=null&&v(n,["version"],o);const c=x(t,["_self"]);c!=null&&v(n,["tunedModelInfo"],o8(c));const f=x(t,["inputTokenLimit"]);f!=null&&v(n,["inputTokenLimit"],f);const d=x(t,["outputTokenLimit"]);d!=null&&v(n,["outputTokenLimit"],d);const p=x(t,["supportedGenerationMethods"]);p!=null&&v(n,["supportedActions"],p);const h=x(t,["temperature"]);h!=null&&v(n,["temperature"],h);const g=x(t,["maxTemperature"]);g!=null&&v(n,["maxTemperature"],g);const y=x(t,["topP"]);y!=null&&v(n,["topP"],y);const N=x(t,["topK"]);N!=null&&v(n,["topK"],N);const S=x(t,["thinking"]);return S!=null&&v(n,["thinking"],S),n}function ty(t,e){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const i=x(t,["displayName"]);i!=null&&v(n,["displayName"],i);const a=x(t,["description"]);a!=null&&v(n,["description"],a);const o=x(t,["versionId"]);o!=null&&v(n,["version"],o);const c=x(t,["deployedModels"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>iF(y))),v(n,["endpoints"],g)}const f=x(t,["labels"]);f!=null&&v(n,["labels"],f);const d=x(t,["_self"]);d!=null&&v(n,["tunedModelInfo"],l8(d));const p=x(t,["defaultCheckpointId"]);p!=null&&v(n,["defaultCheckpointId"],p);const h=x(t,["checkpoints"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(y=>y)),v(n,["checkpoints"],g)}return n}function VF(t,e){const n={},r=x(t,["mediaResolution"]);r!=null&&v(n,["mediaResolution"],r);const i=x(t,["codeExecutionResult"]);i!=null&&v(n,["codeExecutionResult"],i);const a=x(t,["executableCode"]);a!=null&&v(n,["executableCode"],a);const o=x(t,["fileData"]);o!=null&&v(n,["fileData"],aF(o));const c=x(t,["functionCall"]);c!=null&&v(n,["functionCall"],sF(c));const f=x(t,["functionResponse"]);f!=null&&v(n,["functionResponse"],f);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],P$(d));const p=x(t,["text"]);p!=null&&v(n,["text"],p);const h=x(t,["thought"]);h!=null&&v(n,["thought"],h);const g=x(t,["thoughtSignature"]);g!=null&&v(n,["thoughtSignature"],g);const y=x(t,["videoMetadata"]);return y!=null&&v(n,["videoMetadata"],y),n}function WF(t,e){const n={},r=x(t,["productImage"]);return r!=null&&v(n,["image"],yr(r)),n}function KF(t,e,n){const r={},i=x(t,["numberOfImages"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const a=x(t,["baseSteps"]);e!==void 0&&a!=null&&v(e,["parameters","baseSteps"],a);const o=x(t,["outputGcsUri"]);e!==void 0&&o!=null&&v(e,["parameters","storageUri"],o);const c=x(t,["seed"]);e!==void 0&&c!=null&&v(e,["parameters","seed"],c);const f=x(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&v(e,["parameters","safetySetting"],f);const d=x(t,["personGeneration"]);e!==void 0&&d!=null&&v(e,["parameters","personGeneration"],d);const p=x(t,["addWatermark"]);e!==void 0&&p!=null&&v(e,["parameters","addWatermark"],p);const h=x(t,["outputMimeType"]);e!==void 0&&h!=null&&v(e,["parameters","outputOptions","mimeType"],h);const g=x(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&v(e,["parameters","outputOptions","compressionQuality"],g);const y=x(t,["enhancePrompt"]);e!==void 0&&y!=null&&v(e,["parameters","enhancePrompt"],y);const N=x(t,["labels"]);return e!==void 0&&N!=null&&v(e,["labels"],N),r}function YF(t,e,n){const r={},i=x(e,["model"]);i!=null&&v(r,["_url","model"],Xe(t,i));const a=x(e,["source"]);a!=null&&XF(a,r);const o=x(e,["config"]);return o!=null&&KF(o,r),r}function JF(t,e){const n={},r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Kf(a))),v(n,["generatedImages"],i)}return n}function XF(t,e,n){const r={},i=x(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const a=x(t,["personImage"]);e!==void 0&&a!=null&&v(e,["instances[0]","personImage","image"],yr(a));const o=x(t,["productImages"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>WF(f))),v(e,["instances[0]","productImages"],c)}return r}function ZF(t,e){const n={},r=x(t,["referenceImage"]);r!=null&&v(n,["referenceImage"],yr(r));const i=x(t,["referenceId"]);i!=null&&v(n,["referenceId"],i);const a=x(t,["referenceType"]);a!=null&&v(n,["referenceType"],a);const o=x(t,["maskImageConfig"]);o!=null&&v(n,["maskImageConfig"],zF(o));const c=x(t,["controlImageConfig"]);c!=null&&v(n,["controlImageConfig"],$$(c));const f=x(t,["styleImageConfig"]);f!=null&&v(n,["styleImageConfig"],f);const d=x(t,["subjectImageConfig"]);return d!=null&&v(n,["subjectImageConfig"],d),n}function k2(t,e){const n={},r=x(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const i=x(t,["safetyAttributes","scores"]);i!=null&&v(n,["scores"],i);const a=x(t,["contentType"]);return a!=null&&v(n,["contentType"],a),n}function A2(t,e){const n={},r=x(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const i=x(t,["safetyAttributes","scores"]);i!=null&&v(n,["scores"],i);const a=x(t,["contentType"]);return a!=null&&v(n,["contentType"],a),n}function QF(t,e){const n={},r=x(t,["category"]);if(r!=null&&v(n,["category"],r),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=x(t,["threshold"]);return i!=null&&v(n,["threshold"],i),n}function e8(t,e){const n={},r=x(t,["image"]);return r!=null&&v(n,["image"],yr(r)),n}function t8(t,e,n){const r={},i=x(t,["mode"]);e!==void 0&&i!=null&&v(e,["parameters","mode"],i);const a=x(t,["maxPredictions"]);e!==void 0&&a!=null&&v(e,["parameters","maxPredictions"],a);const o=x(t,["confidenceThreshold"]);e!==void 0&&o!=null&&v(e,["parameters","confidenceThreshold"],o);const c=x(t,["maskDilation"]);e!==void 0&&c!=null&&v(e,["parameters","maskDilation"],c);const f=x(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&v(e,["parameters","binaryColorThreshold"],f);const d=x(t,["labels"]);return e!==void 0&&d!=null&&v(e,["labels"],d),r}function n8(t,e,n){const r={},i=x(e,["model"]);i!=null&&v(r,["_url","model"],Xe(t,i));const a=x(e,["source"]);a!=null&&i8(a,r);const o=x(e,["config"]);return o!=null&&t8(o,r),r}function r8(t,e){const n={},r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>TF(a))),v(n,["generatedMasks"],i)}return n}function i8(t,e,n){const r={},i=x(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const a=x(t,["image"]);e!==void 0&&a!=null&&v(e,["instances[0]","image"],yr(a));const o=x(t,["scribbleImage"]);return e!==void 0&&o!=null&&v(e,["instances[0]","scribble"],e8(o)),r}function a8(t,e){const n={},r=x(t,["retrievalConfig"]);r!=null&&v(n,["retrievalConfig"],r);const i=x(t,["functionCallingConfig"]);return i!=null&&v(n,["functionCallingConfig"],oF(i)),n}function s8(t,e){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["computerUse"]);r!=null&&v(n,["computerUse"],r);const i=x(t,["fileSearch"]);i!=null&&v(n,["fileSearch"],i);const a=x(t,["codeExecution"]);if(a!=null&&v(n,["codeExecution"],a),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(g=>g)),v(n,["functionDeclarations"],h)}const c=x(t,["googleMaps"]);c!=null&&v(n,["googleMaps"],RF(c));const f=x(t,["googleSearch"]);f!=null&&v(n,["googleSearch"],MF(f));const d=x(t,["googleSearchRetrieval"]);d!=null&&v(n,["googleSearchRetrieval"],d);const p=x(t,["urlContext"]);return p!=null&&v(n,["urlContext"],p),n}function T2(t,e){const n={},r=x(t,["retrieval"]);r!=null&&v(n,["retrieval"],r);const i=x(t,["computerUse"]);if(i!=null&&v(n,["computerUse"],i),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=x(t,["codeExecution"]);a!=null&&v(n,["codeExecution"],a);const o=x(t,["enterpriseWebSearch"]);o!=null&&v(n,["enterpriseWebSearch"],o);const c=x(t,["functionDeclarations"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>lF(y))),v(n,["functionDeclarations"],g)}const f=x(t,["googleMaps"]);f!=null&&v(n,["googleMaps"],f);const d=x(t,["googleSearch"]);d!=null&&v(n,["googleSearch"],d);const p=x(t,["googleSearchRetrieval"]);p!=null&&v(n,["googleSearchRetrieval"],p);const h=x(t,["urlContext"]);return h!=null&&v(n,["urlContext"],h),n}function o8(t,e){const n={},r=x(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=x(t,["createTime"]);i!=null&&v(n,["createTime"],i);const a=x(t,["updateTime"]);return a!=null&&v(n,["updateTime"],a),n}function l8(t,e){const n={},r=x(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&v(n,["baseModel"],r);const i=x(t,["createTime"]);i!=null&&v(n,["createTime"],i);const a=x(t,["updateTime"]);return a!=null&&v(n,["updateTime"],a),n}function c8(t,e,n){const r={},i=x(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const a=x(t,["description"]);e!==void 0&&a!=null&&v(e,["description"],a);const o=x(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&v(e,["defaultCheckpointId"],o),r}function u8(t,e,n){const r={},i=x(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const a=x(t,["description"]);e!==void 0&&a!=null&&v(e,["description"],a);const o=x(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&v(e,["defaultCheckpointId"],o),r}function d8(t,e,n){const r={},i=x(e,["model"]);i!=null&&v(r,["_url","name"],Xe(t,i));const a=x(e,["config"]);return a!=null&&c8(a,r),r}function f8(t,e,n){const r={},i=x(e,["model"]);i!=null&&v(r,["_url","model"],Xe(t,i));const a=x(e,["config"]);return a!=null&&u8(a,r),r}function p8(t,e,n){const r={},i=x(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const a=x(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&v(e,["parameters","safetySetting"],a);const o=x(t,["personGeneration"]);e!==void 0&&o!=null&&v(e,["parameters","personGeneration"],o);const c=x(t,["includeRaiReason"]);e!==void 0&&c!=null&&v(e,["parameters","includeRaiReason"],c);const f=x(t,["outputMimeType"]);e!==void 0&&f!=null&&v(e,["parameters","outputOptions","mimeType"],f);const d=x(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&v(e,["parameters","outputOptions","compressionQuality"],d);const p=x(t,["enhanceInputImage"]);e!==void 0&&p!=null&&v(e,["parameters","upscaleConfig","enhanceInputImage"],p);const h=x(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&v(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const g=x(t,["labels"]);e!==void 0&&g!=null&&v(e,["labels"],g);const y=x(t,["numberOfImages"]);e!==void 0&&y!=null&&v(e,["parameters","sampleCount"],y);const N=x(t,["mode"]);return e!==void 0&&N!=null&&v(e,["parameters","mode"],N),r}function h8(t,e,n){const r={},i=x(e,["model"]);i!=null&&v(r,["_url","model"],Xe(t,i));const a=x(e,["image"]);a!=null&&v(r,["instances[0]","image"],yr(a));const o=x(e,["upscaleFactor"]);o!=null&&v(r,["parameters","upscaleConfig","upscaleFactor"],o);const c=x(e,["config"]);return c!=null&&p8(c,r),r}function m8(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=x(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Kf(o))),v(n,["generatedImages"],a)}return n}function g8(t,e){const n={},r=x(t,["uri"]);r!=null&&v(n,["uri"],r);const i=x(t,["encodedVideo"]);i!=null&&v(n,["videoBytes"],Ki(i));const a=x(t,["encoding"]);return a!=null&&v(n,["mimeType"],a),n}function x8(t,e){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["uri"],r);const i=x(t,["bytesBase64Encoded"]);i!=null&&v(n,["videoBytes"],Ki(i));const a=x(t,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function v8(t,e){const n={},r=x(t,["image"]);r!=null&&v(n,["_self"],yr(r));const i=x(t,["maskMode"]);return i!=null&&v(n,["maskMode"],i),n}function y8(t,e){const n={},r=x(t,["image"]);r!=null&&v(n,["image"],Yf(r));const i=x(t,["referenceType"]);return i!=null&&v(n,["referenceType"],i),n}function b8(t,e){const n={},r=x(t,["image"]);r!=null&&v(n,["image"],yr(r));const i=x(t,["referenceType"]);return i!=null&&v(n,["referenceType"],i),n}function E2(t,e){const n={},r=x(t,["uri"]);r!=null&&v(n,["uri"],r);const i=x(t,["videoBytes"]);i!=null&&v(n,["encodedVideo"],Ki(i));const a=x(t,["mimeType"]);return a!=null&&v(n,["encoding"],a),n}function C2(t,e){const n={},r=x(t,["uri"]);r!=null&&v(n,["gcsUri"],r);const i=x(t,["videoBytes"]);i!=null&&v(n,["bytesBase64Encoded"],Ki(i));const a=x(t,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function w8(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&v(e,["displayName"],r),n}function N8(t){const e={},n=x(t,["config"]);return n!=null&&w8(n,e),e}function S8(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&v(e,["_query","force"],r),n}function _8(t){const e={},n=x(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&S8(r,e),e}function j8(t){const e={},n=x(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function k8(t,e){const n={},r=x(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),v(e,["customMetadata"],a)}const i=x(t,["chunkingConfig"]);return e!==void 0&&i!=null&&v(e,["chunkingConfig"],i),n}function A8(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=x(t,["done"]);i!=null&&v(e,["done"],i);const a=x(t,["error"]);a!=null&&v(e,["error"],a);const o=x(t,["response"]);return o!=null&&v(e,["response"],E8(o)),e}function T8(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const r=x(t,["fileName"]);r!=null&&v(e,["fileName"],r);const i=x(t,["config"]);return i!=null&&k8(i,e),e}function E8(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&v(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function C8(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function P8(t){const e={},n=x(t,["config"]);return n!=null&&C8(n,e),e}function I8(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=x(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),v(e,["fileSearchStores"],a)}return e}function P2(t,e){const n={},r=x(t,["mimeType"]);e!==void 0&&r!=null&&v(e,["mimeType"],r);const i=x(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const a=x(t,["customMetadata"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),v(e,["customMetadata"],c)}const o=x(t,["chunkingConfig"]);return e!==void 0&&o!=null&&v(e,["chunkingConfig"],o),n}function O8(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const r=x(t,["config"]);return r!=null&&P2(r,e),e}function R8(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}const M8="Content-Type",D8="X-Server-Timeout",L8="User-Agent",ny="x-goog-api-client",$8="1.41.0",F8=`google-genai-sdk/${$8}`,U8="v1beta1",B8="v1beta",q8=5,G8=[408,429,500,502,503,504];class H8{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const a={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const c=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!c?(a.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?a.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:U8}else{if(!this.clientOptions.apiKey)throw new Jl({message:"API key must be set when using the Gemini API.",status:403});a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:B8,a.baseUrl="https://generativelanguage.googleapis.com/"}a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===Jv.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,c]of Object.entries(e.queryParams))i.searchParams.append(o,String(c));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,o=a.signal;if(n.timeout&&n?.timeout>0){const c=setTimeout(()=>a.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=o}return n&&n.extraBody!==null&&z8(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Ij(i),new Xv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Ij(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return gr(this,arguments,function*(){var r;const i=(r=e?.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";const c="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:p}=yield Le(i.read());if(d){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=a.decode(p,{stream:!0});try{const N=JSON.parse(h);if("error"in N){const S=JSON.parse(JSON.stringify(N.error)),w=S.status,j=S.code,T=`got status: ${w}. ${JSON.stringify(N)}`;if(j>=400&&j<600)throw new Jl({message:T,status:j})}}catch(N){if(N.name==="ApiError")throw N}o+=h;let g=-1,y=0;for(;;){g=-1,y=0;for(const w of f){const j=o.indexOf(w);j!==-1&&(g===-1||j<g)&&(g=j,y=w.length)}if(g===-1)break;const N=o.substring(0,g);o=o.substring(g+y);const S=N.trim();if(S.startsWith(c)){const w=S.substring(c.length).trim();try{const j=new Response(w,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield Le(new Xv(j))}catch(j){throw new Error(`exception parsing stream chunk ${w}. ${j}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){var r;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(e,n);const i=this.clientOptions.httpOptions.retryOptions;return RL(async()=>{const o=await fetch(e,n);if(o.ok)return o;throw G8.includes(o.status)?new Error(`Retryable HTTP Error: ${o.statusText}`):new c2(`Non-retryable exception ${o.statusText} sending request`)},{retries:((r=i.attempts)!==null&&r!==void 0?r:q8)-1})}getDefaultHeaders(){const e={},n=F8+" "+this.clientOptions.userAgentExtra;return e[L8]=n,e[ny]=n,e[M8]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(D8,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);i.sizeBytes=String(o.size);const c=(r=n?.mimeType)!==null&&r!==void 0?r:o.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const f={file:i},d=this.getFileName(e),p=me("upload/v1beta/files",f._url),h=await this.fetchUploadUrl(p,i.sizeBytes,i.mimeType,d,f,n?.httpOptions);return a.upload(e,h,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,o=await a.stat(n),c=String(o.size),f=(i=r?.mimeType)!==null&&i!==void 0?i:o.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,p=this.getFileName(n),h={};r!=null&&P2(r,h);const g=await this.fetchUploadUrl(d,c,f,p,h,r?.httpOptions);return a.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,o){var c;let f={};o?f=o:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:f});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(c=d?.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function Ij(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Jl({message:i,status:n}):new Error(i)}}function z8(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,o){const c=Object.assign({},a);for(const f in o)if(Object.prototype.hasOwnProperty.call(o,f)){const d=o[f],p=c[f];d&&typeof d=="object"&&!Array.isArray(d)&&p&&typeof p=="object"&&!Array.isArray(p)?c[f]=r(p,d):(p&&d&&typeof p!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof p}, New type: ${typeof d}. Overwriting.`),c[f]=d)}return c}const i=r(n,e);t.body=JSON.stringify(i)}const V8="mcp_used/unknown";let W8=!1;function I2(t){for(const e of t)if(K8(e)||typeof e=="object"&&"inputSchema"in e)return!0;return W8}function O2(t){var e;const n=(e=t[ny])!==null&&e!==void 0?e:"";t[ny]=(n+` ${V8}`).trimStart()}function K8(t){return t!==null&&typeof t=="object"&&t instanceof Hb}function Y8(t){return gr(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const o=yield Le(n.listTools({cursor:i}));for(const c of o.tools)yield yield Le(c),a++;if(!o.nextCursor)break;i=o.nextCursor}})}class Hb{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Hb(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const p of this.mcpClients)try{for(var c=!0,f=(n=void 0,xr(Y8(p))),d;d=await f.next(),e=d.done,!e;c=!0){i=d.value,c=!1;const h=i;o.push(h);const g=h.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=p}}catch(h){n={error:h}}finally{try{!c&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),N6(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}async function J8(t,e,n){const r=new h6;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class X8{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=eU(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const p=new Promise(C=>{d=C}),h=e.callbacks,g=function(){d({})},y=this.apiClient,N={onopen:g,onmessage:C=>{J8(y,h.onmessage,C)},onerror:(n=h?.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=h?.onclose)!==null&&r!==void 0?r:function(C){}},S=this.webSocketFactory.create(f,Q8(o),N);S.connect(),await p;const T={setup:{model:Xe(this.apiClient,e.model)}};return S.send(JSON.stringify(T)),new Z8(S,this.apiClient)}}class Z8{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=w$(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=b$(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(bs.PLAY)}pause(){this.sendPlaybackControl(bs.PAUSE)}stop(){this.sendPlaybackControl(bs.STOP)}resetContext(){this.sendPlaybackControl(bs.RESET_CONTEXT)}close(){this.conn.close()}}function Q8(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function eU(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const tU="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function nU(t,e,n){const r=new p6;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const o=_$(a);Object.assign(r,o)}else Object.assign(r,a);e(r)}class rU{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new X8(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,o,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let p;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&I2(e.config.tools)&&O2(h);const g=oU(h);if(this.apiClient.isVertexAI()){const D=this.apiClient.getProject(),G=this.apiClient.getLocation(),B=this.apiClient.getApiKey(),F=!!D&&!!G||!!B;this.apiClient.getCustomBaseUrl()&&!F?p=f:(p=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,p))}else{const D=this.apiClient.getApiKey();let G="BidiGenerateContent",B="key";D?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),G="BidiGenerateContentConstrained",B="access_token"),p=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${G}?${B}=${D}`}let y=()=>{};const N=new Promise(D=>{y=D}),S=e.callbacks,w=function(){var D;(D=S?.onopen)===null||D===void 0||D.call(S),y({})},j=this.apiClient,T={onopen:w,onmessage:D=>{nU(j,S.onmessage,D)},onerror:(n=S?.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=S?.onclose)!==null&&r!==void 0?r:function(D){}},C=this.webSocketFactory.create(p,sU(g),T);C.connect(),await N;let A=Xe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&A.startsWith("publishers/")){const D=this.apiClient.getProject(),G=this.apiClient.getLocation();D&&G&&(A=`projects/${D}/locations/${G}/`+A)}let E={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Od.AUDIO]}:e.config.responseModalities=[Od.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(c=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&c!==void 0?c:[],O=[];for(const D of P)if(this.isCallableTool(D)){const G=D;O.push(await G.tool())}else O.push(D);O.length>0&&(e.config.tools=O);const M={model:A,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?E=y$(this.apiClient,M):E=v$(this.apiClient,M),delete E.config,C.send(JSON.stringify(E)),new aU(C,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const iU={turnComplete:!0};class aU{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Jn(n.turns),e.isVertexAI()||(r=r.map(i=>Wf(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(tU)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},iU),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:S$(e)}:n={realtimeInput:N$(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function sU(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function oU(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const Oj=10;function Rj(t){var e,n,r;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t?.tools)!==null&&n!==void 0?n:[])if(Ts(o)){i=!0;break}if(!i)return!0;const a=(r=t?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Ts(t){return"callTool"in t&&typeof t.callTool=="function"}function lU(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Ts(i)))!==null&&r!==void 0?r:!1}function Mj(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Ts(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function Dj(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}class cU extends ui{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,o,c;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!lU(n)||Rj(n.config))return await this.generateContentInternal(f);const d=Mj(n);if(d.length>0){const S=d.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let p,h;const g=Jn(f.contents),y=(a=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:Oj;let N=0;for(;N<y&&(p=await this.generateContentInternal(f),!(!p.functionCalls||p.functionCalls.length===0));){const S=p.candidates[0].content,w=[];for(const j of(c=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&c!==void 0?c:[])if(Ts(j)){const C=await j.callTool(p.functionCalls);w.push(...C)}N++,h={role:"user",parts:w},f.contents=Jn(f.contents),f.contents.push(S),f.contents.push(h),Dj(f.config)&&(g.push(S),g.push(h))}return Dj(f.config)&&(p.automaticFunctionCallingHistory=g),p},this.generateContentStream=async n=>{var r,i,a,o,c;if(this.maybeMoveToResponseJsonSchem(n),Rj(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const f=Mj(n);if(f.length>0){const h=f.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(i=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,p=(c=(o=n?.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const o=[];if(r?.generatedImages)for(const f of r.generatedImages)f&&f?.safetyAttributes&&((i=f?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=f?.safetyAttributes:o.push(f);let c;return a?c={generatedImages:o,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Ma(ri.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,o,c,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(a=n.source)===null||a===void 0?void 0:a.video)===null||o===void 0)&&o.uri&&(!((f=(c=n.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const o=await Promise.all(a.map(async f=>Ts(f)?await f.tool():f)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(c.config.tools=o,e.config&&e.config.tools&&I2(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),O2(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ts(o)){const c=o,f=await c.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,c)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Oj;let o=!1,c=0;const f=await this.initAfcToolsMap(e);return(function(d,p,h){return gr(this,arguments,function*(){for(var g,y,N,S,w,j;c<a;){o&&(c++,o=!1);const E=yield Le(d.processParamsMaybeAddMcpUsage(h)),P=yield Le(d.generateContentStreamInternal(E)),O=[],M=[];try{for(var T=!0,C=(y=void 0,xr(P)),A;A=yield Le(C.next()),g=A.done,!g;T=!0){S=A.value,T=!1;const D=S;if(yield yield Le(D),D.candidates&&(!((w=D.candidates[0])===null||w===void 0)&&w.content)){M.push(D.candidates[0].content);for(const G of(j=D.candidates[0].content.parts)!==null&&j!==void 0?j:[])if(c<a&&G.functionCall){if(!G.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(G.functionCall.name)){const B=yield Le(p.get(G.functionCall.name).callTool([G.functionCall]));O.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${G.functionCall.name}`)}}}}catch(D){y={error:D}}finally{try{!T&&!g&&(N=C.return)&&(yield Le(N.call(C)))}finally{if(y)throw y.error}}if(O.length>0){o=!0;const D=new xl;D.candidates=[{content:{role:"user",parts:O}}],yield yield Le(D);const G=[];G.push(...M),G.push({role:"user",parts:O});const B=Jn(h.contents).concat(G);h.contents=B}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=Ej(this.apiClient,e);return c=me("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=Pj(p),g=new xl;return Object.assign(g,h),g})}else{const d=Tj(this.apiClient,e);return c=me("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=Cj(p),g=new xl;return Object.assign(g,h),g})}}async generateContentStreamInternal(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=Ej(this.apiClient,e);return c=me("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(h){return gr(this,arguments,function*(){var g,y,N,S;try{for(var w=!0,j=xr(h),T;T=yield Le(j.next()),g=T.done,!g;w=!0){S=T.value,w=!1;const C=S,A=Pj(yield Le(C.json()),e);A.sdkHttpResponse={headers:C.headers};const E=new xl;Object.assign(E,A),yield yield Le(E)}}catch(C){y={error:C}}finally{try{!w&&!g&&(N=j.return)&&(yield Le(N.call(j)))}finally{if(y)throw y.error}}})})}else{const d=Tj(this.apiClient,e);return c=me("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(h){return gr(this,arguments,function*(){var g,y,N,S;try{for(var w=!0,j=xr(h),T;T=yield Le(j.next()),g=T.done,!g;w=!0){S=T.value,w=!1;const C=S,A=Cj(yield Le(C.json()),e);A.sdkHttpResponse={headers:C.headers};const E=new xl;Object.assign(E,A),yield yield Le(E)}}catch(C){y={error:C}}finally{try{!w&&!g&&(N=j.return)&&(yield Le(N.call(j)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=tF(this.apiClient,e);return c=me("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=rF(p),g=new dj;return Object.assign(g,h),g})}else{const d=eF(this.apiClient,e);return c=me("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=nF(p),g=new dj;return Object.assign(g,h),g})}}async generateImagesInternal(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=hF(this.apiClient,e);return c=me("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=gF(p),g=new fj;return Object.assign(g,h),g})}else{const d=pF(this.apiClient,e);return c=me("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=mF(p),g=new fj;return Object.assign(g,h),g})}}async editImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const c=J$(this.apiClient,e);return a=me("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=X$(f),p=new t6;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const c=h8(this.apiClient,e);return a=me("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=m8(f),p=new n6;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const c=YF(this.apiClient,e);return a=me("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=JF(f),p=new r6;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const c=n8(this.apiClient,e);return a=me("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=r8(f),p=new i6;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=OF(this.apiClient,e);return c=me("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>ty(p))}else{const d=IF(this.apiClient,e);return c=me("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>ey(p))}}async listInternal(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=qF(this.apiClient,e);return c=me("{models_url}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=HF(p),g=new pj;return Object.assign(g,h),g})}else{const d=BF(this.apiClient,e);return c=me("{models_url}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=GF(p),g=new pj;return Object.assign(g,h),g})}}async update(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=f8(this.apiClient,e);return c=me("{model}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>ty(p))}else{const d=d8(this.apiClient,e);return c=me("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>ey(p))}}async delete(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=V$(this.apiClient,e);return c=me("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=K$(p),g=new hj;return Object.assign(g,h),g})}else{const d=z$(this.apiClient,e);return c=me("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=W$(p),g=new hj;return Object.assign(g,h),g})}}async countTokens(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=q$(this.apiClient,e);return c=me("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=H$(p),g=new mj;return Object.assign(g,h),g})}else{const d=B$(this.apiClient,e);return c=me("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=G$(p),g=new mj;return Object.assign(g,h),g})}}async computeTokens(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const c=R$(this.apiClient,e);return a=me("{model}:computeTokens",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=M$(f),p=new a6;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=NF(this.apiClient,e);return c=me("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>{const h=bF(p),g=new Rd;return Object.assign(g,h),g})}else{const d=wF(this.apiClient,e);return c=me("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>{const h=yF(p),g=new Rd;return Object.assign(g,h),g})}}}class uU extends ui{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=YL(e);return c=me("{operationName}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o}else{const d=KL(e);return c=me("{operationName}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const c=BL(e);return a=me("{resourceName}:fetchPredictOperation",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}function dU(t){const e={},n=x(t,["data"]);if(n!=null&&v(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function fU(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>wU(a))),v(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function pU(t,e,n){const r={},i=x(e,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const a=x(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&v(n,["newSessionExpireTime"],a);const o=x(e,["uses"]);n!==void 0&&o!=null&&v(n,["uses"],o);const c=x(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&v(n,["bidiGenerateContentSetup"],bU(t,c));const f=x(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&v(n,["fieldMask"],f),r}function hU(t,e){const n={},r=x(e,["config"]);return r!=null&&v(n,["config"],pU(t,r,n)),n}function mU(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function gU(t){const e={},n=x(t,["id"]);n!=null&&v(e,["id"],n);const r=x(t,["args"]);r!=null&&v(e,["args"],r);const i=x(t,["name"]);if(i!=null&&v(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function xU(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function vU(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function yU(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","temperature"],a);const o=x(t,["topP"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","topP"],o);const c=x(t,["topK"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topK"],c);const f=x(t,["maxOutputTokens"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","maxOutputTokens"],f);const d=x(t,["mediaResolution"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","mediaResolution"],d);const p=x(t,["seed"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","seed"],p);const h=x(t,["speechConfig"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","speechConfig"],Gb(h));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","thinkingConfig"],g);const y=x(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],y);const N=x(t,["systemInstruction"]);e!==void 0&&N!=null&&v(e,["setup","systemInstruction"],fU(an(N)));const S=x(t,["tools"]);if(e!==void 0&&S!=null){let P=mo(S);Array.isArray(P)&&(P=P.map(O=>SU(ho(O)))),v(e,["setup","tools"],P)}const w=x(t,["sessionResumption"]);e!==void 0&&w!=null&&v(e,["setup","sessionResumption"],NU(w));const j=x(t,["inputAudioTranscription"]);e!==void 0&&j!=null&&v(e,["setup","inputAudioTranscription"],j);const T=x(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&v(e,["setup","outputAudioTranscription"],T);const C=x(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&v(e,["setup","realtimeInputConfig"],C);const A=x(t,["contextWindowCompression"]);e!==void 0&&A!=null&&v(e,["setup","contextWindowCompression"],A);const E=x(t,["proactivity"]);if(e!==void 0&&E!=null&&v(e,["setup","proactivity"],E),x(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function bU(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["setup","model"],Xe(t,r));const i=x(e,["config"]);return i!=null&&v(n,["config"],yU(i,n)),n}function wU(t){const e={},n=x(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],mU(a));const o=x(t,["functionCall"]);o!=null&&v(e,["functionCall"],gU(o));const c=x(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const f=x(t,["inlineData"]);f!=null&&v(e,["inlineData"],dU(f));const d=x(t,["text"]);d!=null&&v(e,["text"],d);const p=x(t,["thought"]);p!=null&&v(e,["thought"],p);const h=x(t,["thoughtSignature"]);h!=null&&v(e,["thoughtSignature"],h);const g=x(t,["videoMetadata"]);return g!=null&&v(e,["videoMetadata"],g),e}function NU(t){const e={},n=x(t,["handle"]);if(n!=null&&v(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function SU(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(h=>h)),v(e,["functionDeclarations"],p)}const o=x(t,["googleMaps"]);o!=null&&v(e,["googleMaps"],xU(o));const c=x(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],vU(c));const f=x(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const d=x(t,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}function _U(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function jU(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=_U(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)a?t.fieldMask=a:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(d=>o.includes(d)?`generationConfig.${d}`:d));const f=[];a&&f.push(a),c.length>0&&f.push(...c),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class kU extends ui{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=hU(this.apiClient,e);a=me("auth_tokens",c._url),o=c._query,delete c.config,delete c._url,delete c._query;const f=jU(c,e.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}function AU(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&v(e,["_query","force"],r),n}function TU(t){const e={},n=x(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&AU(r,e),e}function EU(t){const e={},n=x(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function CU(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function PU(t){const e={},n=x(t,["parent"]);n!=null&&v(e,["_url","parent"],n);const r=x(t,["config"]);return r!=null&&CU(r,e),e}function IU(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=x(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),v(e,["documents"],a)}return e}class OU extends ui{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ma(ri.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=EU(e);return a=me("{name}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=TU(e);i=me("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=PU(e);return a=me("{parent}/documents",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=IU(f),p=new s6;return Object.assign(p,d),p})}}}class RU extends ui{constructor(e,n=new OU(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ma(ri.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=N8(e);return a=me("fileSearchStores",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=j8(e);return a=me("{name}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=_8(e);i=me("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=P8(e);return a=me("fileSearchStores",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=I8(f),p=new o6;return Object.assign(p,d),p})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=O8(e);return a=me("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=R8(f),p=new l6;return Object.assign(p,d),p})}}async importFile(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=T8(e);return a=me("{file_search_store_name}:importFile",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=A8(f),p=new $b;return Object.assign(p,d),p})}}}let R2=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return R2=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const MU=()=>R2();function ry(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const iy=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Zn extends Error{}class mn extends Zn{constructor(e,n,r,i){super(`${mn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Jf({message:r,cause:iy(n)});const a=n;return e===400?new D2(e,a,r,i):e===401?new L2(e,a,r,i):e===403?new $2(e,a,r,i):e===404?new F2(e,a,r,i):e===409?new U2(e,a,r,i):e===422?new B2(e,a,r,i):e===429?new q2(e,a,r,i):e>=500?new G2(e,a,r,i):new mn(e,a,r,i)}}class ay extends mn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Jf extends mn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class M2 extends Jf{constructor({message:e}={}){super({message:e??"Request timed out."})}}class D2 extends mn{}class L2 extends mn{}class $2 extends mn{}class F2 extends mn{}class U2 extends mn{}class B2 extends mn{}class q2 extends mn{}class G2 extends mn{}const DU=/^[a-z][a-z0-9+.-]*:/i,LU=t=>DU.test(t);let sy=t=>(sy=Array.isArray,sy(t));const $U=sy;let FU=$U;const Lj=FU;function UU(t){if(!t)return!0;for(const e in t)return!1;return!0}function BU(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const qU=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Zn(`${t} must be an integer`);if(e<0)throw new Zn(`${t} must be a positive integer`);return e},GU=t=>{try{return JSON.parse(t)}catch{return}};const HU=t=>new Promise(e=>setTimeout(e,t));const ys="0.0.1";function zU(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const VU=()=>{var t,e,n,r,i;const a=zU();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":Fj(Deno.build.os),"X-Stainless-Arch":$j(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":Fj((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":$j((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=WU();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function WU(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${a}.${o}`}}}return null}const $j=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Fj=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let td;const KU=()=>td??(td=VU());function YU(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function H2(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function JU(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return H2({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function z2(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function XU(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}const ZU=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const V2=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Cm(t,e,n){return V2(),new File(t,e??"unknown_file",n)}function QU(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const eB=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const W2=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",tB=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&W2(t),nB=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function rB(t,e,n){if(V2(),t=await t,tB(t))return t instanceof File?t:Cm([await t.arrayBuffer()],t.name);if(nB(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Cm(await oy(i),e,n)}const r=await oy(t);if(e||(e=QU(t)),!n?.type){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Cm(r,e,n)}async function oy(t){var e,n,r,i,a;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(W2(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(eB(t))try{for(var c=!0,f=xr(t),d;d=await f.next(),e=d.done,!e;c=!0){i=d.value,c=!1;const p=i;o.push(...await oy(p))}}catch(p){n={error:p}}finally{try{!c&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}else{const p=(a=t?.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${p?`; constructor: ${p}`:""}${iB(t)}`)}return o}function iB(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class K2{constructor(e){this._client=e}}K2._key=[];function Y2(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Uj=Object.freeze(Object.create(null)),aB=(t=Y2)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],o=n.reduce((p,h,g)=>{var y,N,S;/[?#]/.test(h)&&(i=!0);const w=r[g];let j=(i?encodeURIComponent:t)(""+w);return g!==r.length&&(w==null||typeof w=="object"&&w.toString===((S=Object.getPrototypeOf((N=Object.getPrototypeOf((y=w.hasOwnProperty)!==null&&y!==void 0?y:Uj))!==null&&N!==void 0?N:Uj))===null||S===void 0?void 0:S.toString))&&(j=w+"",a.push({start:p.length+h.length,length:j.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),p+h+(g===r.length?"":j)},""),c=o.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=f.exec(c))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((p,h)=>p.start-h.start),a.length>0){let p=0;const h=a.reduce((g,y)=>{const N=" ".repeat(y.start-p),S="^".repeat(y.length);return p=y.start+y.length,g+N+S},"");throw new Zn(`Path parameters result in path with invalid segments:
${a.map(g=>g.error).join(`
`)}
${o}
${h}`)}return o}),nd=aB(Y2);class J2 extends K2{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,a=Dd(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new Zn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Zn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(nd`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(nd`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(nd`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const a=n??{},{api_version:o=this._client.apiVersion}=a,c=Dd(a,["api_version"]);return this._client.get(nd`/${o}/interactions/${e}`,Object.assign(Object.assign({query:c},r),{stream:(i=n?.stream)!==null&&i!==void 0?i:!1}))}}J2._key=Object.freeze(["interactions"]);class X2 extends J2{}function sB(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let rd;function zb(t){let e;return(rd??(e=new globalThis.TextEncoder,rd=e.encode.bind(e)))(t)}let id;function Bj(t){let e;return(id??(e=new globalThis.TextDecoder,id=e.decode.bind(e)))(t)}class Xf{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?zb(e):e;this.buffer=sB([this.buffer,n]);const r=[];let i;for(;(i=oB(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(Bj(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=Bj(this.buffer.subarray(0,a));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Xf.NEWLINE_CHARS=new Set([`
`,"\r"]);Xf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function oB(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function lB(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}const Ld={off:0,error:200,warn:300,info:400,debug:500},qj=(t,e,n)=>{if(t){if(BU(Ld,t))return t;cn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Ld))}`)}};function Ol(){}function ad(t,e,n){return!e||Ld[t]>Ld[n]?Ol:e[t].bind(e)}const cB={error:Ol,warn:Ol,info:Ol,debug:Ol};let Gj=new WeakMap;function cn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return cB;const i=Gj.get(n);if(i&&i[0]===r)return i[1];const a={error:ad("error",n,r),warn:ad("warn",n,r),info:ad("info",n,r),debug:ad("debug",n,r)};return Gj.set(n,[r,a]),a}const va=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);class ws{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const a=r?cn(r):console;function o(){return gr(this,arguments,function*(){var f,d,p,h;if(i)throw new Zn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var y=!0,N=xr(uB(e,n)),S;S=yield Le(N.next()),f=S.done,!f;y=!0){h=S.value,y=!1;const w=h;if(!g)if(w.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield Le(JSON.parse(w.data))}catch(j){throw a.error("Could not parse message into JSON:",w.data),a.error("From chunk:",w.raw),j}}}catch(w){d={error:w}}finally{try{!y&&!f&&(p=N.return)&&(yield Le(p.call(N)))}finally{if(d)throw d.error}}g=!0}catch(w){if(ry(w))return yield Le(void 0);throw w}finally{g||n.abort()}})}return new ws(o,n,r)}static fromReadableStream(e,n,r){let i=!1;function a(){return gr(this,arguments,function*(){var f,d,p,h;const g=new Xf,y=z2(e);try{for(var N=!0,S=xr(y),w;w=yield Le(S.next()),f=w.done,!f;N=!0){h=w.value,N=!1;const j=h;for(const T of g.decode(j))yield yield Le(T)}}catch(j){d={error:j}}finally{try{!N&&!f&&(p=S.return)&&(yield Le(p.call(S)))}finally{if(d)throw d.error}}for(const j of g.flush())yield yield Le(j)})}function o(){return gr(this,arguments,function*(){var f,d,p,h;if(i)throw new Zn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var y=!0,N=xr(a()),S;S=yield Le(N.next()),f=S.done,!f;y=!0){h=S.value,y=!1;const w=h;g||w&&(yield yield Le(JSON.parse(w)))}}catch(w){d={error:w}}finally{try{!y&&!f&&(p=N.return)&&(yield Le(p.call(N)))}finally{if(d)throw d.error}}g=!0}catch(w){if(ry(w))return yield Le(void 0);throw w}finally{g||n.abort()}})}return new ws(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const o=r.next();e.push(o),n.push(o)}return a.shift()}});return[new ws(()=>i(e),this.controller,this.client),new ws(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return H2({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const o=zb(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function uB(t,e){return gr(this,arguments,function*(){var r,i,a,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Zn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Zn("Attempted to iterate over a response with no body");const c=new fB,f=new Xf,d=z2(t.body);try{for(var p=!0,h=xr(dB(d)),g;g=yield Le(h.next()),r=g.done,!r;p=!0){o=g.value,p=!1;const y=o;for(const N of f.decode(y)){const S=c.decode(N);S&&(yield yield Le(S))}}}catch(y){i={error:y}}finally{try{!p&&!r&&(a=h.return)&&(yield Le(a.call(h)))}finally{if(i)throw i.error}}for(const y of f.flush()){const N=c.decode(y);N&&(yield yield Le(N))}})}function dB(t){return gr(this,arguments,function*(){var n,r,i,a;let o=new Uint8Array;try{for(var c=!0,f=xr(t),d;d=yield Le(f.next()),n=d.done,!n;c=!0){a=d.value,c=!1;const p=a;if(p==null)continue;const h=p instanceof ArrayBuffer?new Uint8Array(p):typeof p=="string"?zb(p):p;let g=new Uint8Array(o.length+h.length);g.set(o),g.set(h,o.length),o=g;let y;for(;(y=lB(o))!==-1;)yield yield Le(o.slice(0,y)),o=o.slice(y)}}catch(p){r={error:p}}finally{try{!c&&!n&&(i=f.return)&&(yield Le(i.call(f)))}finally{if(r)throw r.error}}o.length>0&&(yield yield Le(o))})}class fB{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=pB(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function pB(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function hB(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=e,o=await(async()=>{var c;if(e.options.stream)return cn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):ws.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const f=n.headers.get("content-type"),d=(c=f?.split(";")[0])===null||c===void 0?void 0:c.trim();return d?.includes("application/json")||d?.endsWith("+json")?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return cn(t).debug(`[${r}] response parsed`,va({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-a})),o}class Vb extends Promise{constructor(e,n,r=hB){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Vb(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}const Z2=Symbol("brand.privateNullableHeaders");function*mB(t){if(!t)return;if(Z2 in t){const{values:r,nulls:i}=t;yield*r.entries();for(const a of i)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Lj(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=Lj(r[1])?r[1]:[r[1]];let o=!1;for(const c of a)c!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,c])}}const vl=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[a,o]of mB(r)){const c=a.toLowerCase();i.has(c)||(e.delete(a),i.add(c)),o===null?(e.delete(a),n.add(c)):(e.append(a,o),n.delete(c))}}return{[Z2]:!0,values:e,nulls:n}};const Pm=t=>{var e,n,r,i,a,o;if(typeof globalThis.process<"u")return(r=(n=(e=ML)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,t))===null||o===void 0?void 0:o.trim()};var Q2;class Zf{constructor(e){var n,r,i,a,o,c,f,{baseURL:d=Pm("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(n=Pm("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:h="v1beta"}=e,g=Dd(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:p,apiVersion:h},g),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:Zf.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const N="warn";this.logLevel=N,this.logLevel=(o=(a=qj(y.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:qj(Pm("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:N,this.fetchOptions=y.fetchOptions,this.maxRetries=(c=y.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(f=y.fetch)!==null&&f!==void 0?f:YU(),this.encoder=ZU,this._options=y,this.apiKey=p,this.apiVersion=h,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=vl([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return vl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return vl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Zn(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ys}`}defaultIdempotencyKey(){return`stainless-node-retry-${MU()}`}makeStatusError(e,n,r,i){return mn.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=LU(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return UU(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new Vb(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,a,o;const c=await e,f=(i=c.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=f),await this.prepareOptions(c);const{req:d,url:p,timeout:h}=await this.buildRequest(c,{retryCount:f-n});await this.prepareRequest(d,{url:p,options:c});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,N=Date.now();if(cn(this).debug(`[${g}] sending request`,va({retryOfRequestLogID:r,method:c.method,url:p,options:c,headers:d.headers})),!((a=c.signal)===null||a===void 0)&&a.aborted)throw new ay;const S=new AbortController,w=await this.fetchWithTimeout(p,d,h,S).catch(iy),j=Date.now();if(w instanceof globalThis.Error){const C=`retrying, ${n} attempts remaining`;if(!((o=c.signal)===null||o===void 0)&&o.aborted)throw new ay;const A=ry(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(n)return cn(this).info(`[${g}] connection ${A?"timed out":"failed"} - ${C}`),cn(this).debug(`[${g}] connection ${A?"timed out":"failed"} (${C})`,va({retryOfRequestLogID:r,url:p,durationMs:j-N,message:w.message})),this.retryRequest(c,n,r??g);throw cn(this).info(`[${g}] connection ${A?"timed out":"failed"} - error; no more retries left`),cn(this).debug(`[${g}] connection ${A?"timed out":"failed"} (error; no more retries left)`,va({retryOfRequestLogID:r,url:p,durationMs:j-N,message:w.message})),A?new M2:new Jf({cause:w})}const T=`[${g}${y}] ${d.method} ${p} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${j-N}ms`;if(!w.ok){const C=await this.shouldRetry(w);if(n&&C){const D=`retrying, ${n} attempts remaining`;return await XU(w.body),cn(this).info(`${T} - ${D}`),cn(this).debug(`[${g}] response error (${D})`,va({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:j-N})),this.retryRequest(c,n,r??g,w.headers)}const A=C?"error; no more retries left":"error; not retryable";cn(this).info(`${T} - ${A}`);const E=await w.text().catch(D=>iy(D).message),P=GU(E),O=P?void 0:E;throw cn(this).debug(`[${g}] response error (${A})`,va({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,message:O,durationMs:Date.now()-N})),this.makeStatusError(w.status,P,O,w.headers)}return cn(this).info(T),cn(this).debug(`[${g}] response start`,va({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:j-N})),{response:w,options:c,controller:S,requestLogID:g,retryOfRequestLogID:r,startTime:N}}async fetchWithTimeout(e,n,r,i){const a=n||{},{signal:o,method:c}=a,f=Dd(a,["signal","method"]),d=this._makeAbort(i);o&&o.addEventListener("abort",d,{once:!0});const p=setTimeout(d,r),h=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,g=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),f);c&&(g.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,g)}finally{clearTimeout(p)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var a;let o;const c=i?.get("retry-after-ms");if(c){const d=parseFloat(c);Number.isNaN(d)||(o=d)}const f=i?.get("retry-after");if(f&&!o){const d=parseFloat(f);Number.isNaN(d)?o=Date.parse(f)-Date.now():o=d*1e3}if(!(o&&0<=o&&o<60*1e3)){const d=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,d)}return await HU(o),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,o=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return o*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,a;const o=Object.assign({},e),{method:c,path:f,query:d,defaultBaseURL:p}=o,h=this.buildURL(f,d,p);"timeout"in o&&qU("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:y}=this.buildBody({options:o}),N=await this.buildHeaders({options:e,method:c,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:N},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=o.fetchOptions)!==null&&a!==void 0?a:{}),url:h,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let c=vl([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),KU()),this._options.defaultHeaders,r,e.headers,o]);return this.validateHeaders(c),c.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=vl([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:JU(e)}:this.encoder({body:e,headers:r})}}Zf.DEFAULT_TIMEOUT=6e4;class Vt extends Zf{constructor(){super(...arguments),this.interactions=new X2(this)}}Q2=Vt;Vt.GeminiNextGenAPIClient=Q2;Vt.GeminiNextGenAPIClientError=Zn;Vt.APIError=mn;Vt.APIConnectionError=Jf;Vt.APIConnectionTimeoutError=M2;Vt.APIUserAbortError=ay;Vt.NotFoundError=F2;Vt.ConflictError=U2;Vt.RateLimitError=q2;Vt.BadRequestError=D2;Vt.AuthenticationError=L2;Vt.InternalServerError=G2;Vt.PermissionDeniedError=$2;Vt.UnprocessableEntityError=B2;Vt.toFile=rB;Vt.Interactions=X2;function gB(t,e){const n={},r=x(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function xB(t,e){const n={},r=x(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function vB(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function yB(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function bB(t,e,n){const r={};if(x(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=x(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&v(e,["displayName"],i),x(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=x(t,["epochCount"]);e!==void 0&&a!=null&&v(e,["tuningTask","hyperparameters","epochCount"],a);const o=x(t,["learningRateMultiplier"]);if(o!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),x(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(x(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(x(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(x(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(x(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const c=x(t,["batchSize"]);e!==void 0&&c!=null&&v(e,["tuningTask","hyperparameters","batchSize"],c);const f=x(t,["learningRate"]);if(e!==void 0&&f!=null&&v(e,["tuningTask","hyperparameters","learningRate"],f),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(x(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(x(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(x(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(x(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(x(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(x(t,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return r}function wB(t,e,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const P=x(t,["validationDataset"]);e!==void 0&&P!=null&&v(e,["supervisedTuningSpec"],Im(P))}else if(i==="PREFERENCE_TUNING"){const P=x(t,["validationDataset"]);e!==void 0&&P!=null&&v(e,["preferenceOptimizationSpec"],Im(P))}else if(i==="DISTILLATION"){const P=x(t,["validationDataset"]);e!==void 0&&P!=null&&v(e,["distillationSpec"],Im(P))}const a=x(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&v(e,["tunedModelDisplayName"],a);const o=x(t,["description"]);e!==void 0&&o!=null&&v(e,["description"],o);let c=x(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const P=x(t,["epochCount"]);e!==void 0&&P!=null&&v(e,["supervisedTuningSpec","hyperParameters","epochCount"],P)}else if(c==="PREFERENCE_TUNING"){const P=x(t,["epochCount"]);e!==void 0&&P!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],P)}else if(c==="DISTILLATION"){const P=x(t,["epochCount"]);e!==void 0&&P!=null&&v(e,["distillationSpec","hyperParameters","epochCount"],P)}let f=x(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const P=x(t,["learningRateMultiplier"]);e!==void 0&&P!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],P)}else if(f==="PREFERENCE_TUNING"){const P=x(t,["learningRateMultiplier"]);e!==void 0&&P!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],P)}else if(f==="DISTILLATION"){const P=x(t,["learningRateMultiplier"]);e!==void 0&&P!=null&&v(e,["distillationSpec","hyperParameters","learningRateMultiplier"],P)}let d=x(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const P=x(t,["exportLastCheckpointOnly"]);e!==void 0&&P!=null&&v(e,["supervisedTuningSpec","exportLastCheckpointOnly"],P)}else if(d==="PREFERENCE_TUNING"){const P=x(t,["exportLastCheckpointOnly"]);e!==void 0&&P!=null&&v(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],P)}else if(d==="DISTILLATION"){const P=x(t,["exportLastCheckpointOnly"]);e!==void 0&&P!=null&&v(e,["distillationSpec","exportLastCheckpointOnly"],P)}let p=x(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const P=x(t,["adapterSize"]);e!==void 0&&P!=null&&v(e,["supervisedTuningSpec","hyperParameters","adapterSize"],P)}else if(p==="PREFERENCE_TUNING"){const P=x(t,["adapterSize"]);e!==void 0&&P!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],P)}else if(p==="DISTILLATION"){const P=x(t,["adapterSize"]);e!==void 0&&P!=null&&v(e,["distillationSpec","hyperParameters","adapterSize"],P)}let h=x(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const P=x(t,["tuningMode"]);e!==void 0&&P!=null&&v(e,["supervisedTuningSpec","tuningMode"],P)}const g=x(t,["customBaseModel"]);e!==void 0&&g!=null&&v(e,["customBaseModel"],g);let y=x(n,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const P=x(t,["batchSize"]);e!==void 0&&P!=null&&v(e,["supervisedTuningSpec","hyperParameters","batchSize"],P)}let N=x(n,["config","method"]);if(N===void 0&&(N="SUPERVISED_FINE_TUNING"),N==="SUPERVISED_FINE_TUNING"){const P=x(t,["learningRate"]);e!==void 0&&P!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRate"],P)}const S=x(t,["labels"]);e!==void 0&&S!=null&&v(e,["labels"],S);const w=x(t,["beta"]);e!==void 0&&w!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","beta"],w);const j=x(t,["baseTeacherModel"]);e!==void 0&&j!=null&&v(e,["distillationSpec","baseTeacherModel"],j);const T=x(t,["tunedTeacherModelSource"]);e!==void 0&&T!=null&&v(e,["distillationSpec","tunedTeacherModelSource"],T);const C=x(t,["sftLossWeightMultiplier"]);e!==void 0&&C!=null&&v(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],C);const A=x(t,["outputUri"]);e!==void 0&&A!=null&&v(e,["outputUri"],A);const E=x(t,["encryptionSpec"]);return e!==void 0&&E!=null&&v(e,["encryptionSpec"],E),r}function NB(t,e){const n={},r=x(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=x(t,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const a=x(t,["trainingDataset"]);a!=null&&OB(a);const o=x(t,["config"]);return o!=null&&bB(o,n),n}function SB(t,e){const n={},r=x(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=x(t,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const a=x(t,["trainingDataset"]);a!=null&&RB(a,n,e);const o=x(t,["config"]);return o!=null&&wB(o,n,e),n}function _B(t,e){const n={},r=x(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function jB(t,e){const n={},r=x(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function kB(t,e,n){const r={},i=x(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const a=x(t,["pageToken"]);e!==void 0&&a!=null&&v(e,["_query","pageToken"],a);const o=x(t,["filter"]);return e!==void 0&&o!=null&&v(e,["_query","filter"],o),r}function AB(t,e,n){const r={},i=x(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const a=x(t,["pageToken"]);e!==void 0&&a!=null&&v(e,["_query","pageToken"],a);const o=x(t,["filter"]);return e!==void 0&&o!=null&&v(e,["_query","filter"],o),r}function TB(t,e){const n={},r=x(t,["config"]);return r!=null&&kB(r,n),n}function EB(t,e){const n={},r=x(t,["config"]);return r!=null&&AB(r,n),n}function CB(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const a=x(t,["tunedModels"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>eO(c))),v(n,["tuningJobs"],o)}return n}function PB(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const a=x(t,["tuningJobs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>ly(c))),v(n,["tuningJobs"],o)}return n}function IB(t,e){const n={},r=x(t,["name"]);r!=null&&v(n,["model"],r);const i=x(t,["name"]);return i!=null&&v(n,["endpoint"],i),n}function OB(t,e){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=x(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),v(n,["examples","examples"],i)}return n}function RB(t,e,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=x(t,["gcsUri"]);e!==void 0&&o!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=x(t,["gcsUri"]);e!==void 0&&o!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}else if(i==="DISTILLATION"){const o=x(t,["gcsUri"]);e!==void 0&&o!=null&&v(e,["distillationSpec","promptDatasetUri"],o)}let a=x(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const o=x(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(a==="PREFERENCE_TUNING"){const o=x(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}else if(a==="DISTILLATION"){const o=x(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&v(e,["distillationSpec","promptDatasetUri"],o)}if(x(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function eO(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&v(n,["name"],i);const a=x(t,["state"]);a!=null&&v(n,["state"],g2(a));const o=x(t,["createTime"]);o!=null&&v(n,["createTime"],o);const c=x(t,["tuningTask","startTime"]);c!=null&&v(n,["startTime"],c);const f=x(t,["tuningTask","completeTime"]);f!=null&&v(n,["endTime"],f);const d=x(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const p=x(t,["description"]);p!=null&&v(n,["description"],p);const h=x(t,["baseModel"]);h!=null&&v(n,["baseModel"],h);const g=x(t,["_self"]);return g!=null&&v(n,["tunedModel"],IB(g)),n}function ly(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&v(n,["name"],i);const a=x(t,["state"]);a!=null&&v(n,["state"],g2(a));const o=x(t,["createTime"]);o!=null&&v(n,["createTime"],o);const c=x(t,["startTime"]);c!=null&&v(n,["startTime"],c);const f=x(t,["endTime"]);f!=null&&v(n,["endTime"],f);const d=x(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const p=x(t,["error"]);p!=null&&v(n,["error"],p);const h=x(t,["description"]);h!=null&&v(n,["description"],h);const g=x(t,["baseModel"]);g!=null&&v(n,["baseModel"],g);const y=x(t,["tunedModel"]);y!=null&&v(n,["tunedModel"],y);const N=x(t,["preTunedModel"]);N!=null&&v(n,["preTunedModel"],N);const S=x(t,["supervisedTuningSpec"]);S!=null&&v(n,["supervisedTuningSpec"],S);const w=x(t,["preferenceOptimizationSpec"]);w!=null&&v(n,["preferenceOptimizationSpec"],w);const j=x(t,["distillationSpec"]);j!=null&&v(n,["distillationSpec"],j);const T=x(t,["tuningDataStats"]);T!=null&&v(n,["tuningDataStats"],T);const C=x(t,["encryptionSpec"]);C!=null&&v(n,["encryptionSpec"],C);const A=x(t,["partnerModelTuningSpec"]);A!=null&&v(n,["partnerModelTuningSpec"],A);const E=x(t,["customBaseModel"]);E!=null&&v(n,["customBaseModel"],E);const P=x(t,["experiment"]);P!=null&&v(n,["experiment"],P);const O=x(t,["labels"]);O!=null&&v(n,["labels"],O);const M=x(t,["outputUri"]);M!=null&&v(n,["outputUri"],M);const D=x(t,["pipelineJob"]);D!=null&&v(n,["pipelineJob"],D);const G=x(t,["serviceAccount"]);G!=null&&v(n,["serviceAccount"],G);const B=x(t,["tunedModelDisplayName"]);B!=null&&v(n,["tunedModelDisplayName"],B);const F=x(t,["veoTuningSpec"]);return F!=null&&v(n,["veoTuningSpec"],F),n}function MB(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&v(n,["name"],i);const a=x(t,["metadata"]);a!=null&&v(n,["metadata"],a);const o=x(t,["done"]);o!=null&&v(n,["done"],o);const c=x(t,["error"]);return c!=null&&v(n,["error"],c),n}function Im(t,e){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["validationDatasetUri"],r);const i=x(t,["vertexDatasetResource"]);return i!=null&&v(n,["validationDatasetUri"],i),n}class DB extends ui{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ma(ri.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:Yv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=jB(e);return c=me("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>ly(p))}else{const d=_B(e);return c=me("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>eO(p))}}async listInternal(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=EB(e);return c=me("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=PB(p),g=new gj;return Object.assign(g,h),g})}else{const d=TB(e);return c=me("tunedModels",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=CB(p),g=new gj;return Object.assign(g,h),g})}}async cancel(e){var n,r,i,a;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=xB(e);return c=me("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=yB(p),g=new xj;return Object.assign(g,h),g})}else{const d=gB(e);return c=me("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const h=vB(p),g=new xj;return Object.assign(g,h),g})}}async tuneInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const c=SB(e,e);return a=me("tuningJobs",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>ly(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=NB(e);return a=me("tunedModels",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>MB(f))}}}class LB{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const $B=1024*1024*8,FB=3,UB=1e3,BB=2,$d="x-goog-upload-status";async function qB(t,e,n){var r;const i=await tO(t,e,n),a=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[$d])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function GB(t,e,n){var r;const i=await tO(t,e,n),a=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[$d])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=u2(a),c=new Fb;return Object.assign(c,o),c}async function tO(t,e,n){var r,i;let a=0,o=0,c=new Xv(new Response),f="upload";for(a=t.size;o<a;){const d=Math.min($B,a-o),p=t.slice(o,o+d);o+d>=a&&(f+=", finalize");let h=0,g=UB;for(;h<FB&&(c=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(o),"Content-Length":String(d)}}}),!(!((r=c?.headers)===null||r===void 0)&&r[$d]));)h++,await zB(g),g=g*BB;if(o+=d,((i=c?.headers)===null||i===void 0?void 0:i[$d])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function HB(t){return{size:t.size,type:t.type}}function zB(t){return new Promise(e=>setTimeout(e,t))}class VB{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await qB(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await GB(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await HB(e)}}class WB{create(e,n,r){return new KB(e,n,r)}}class KB{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const Hj="x-goog-api-key";class YB{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Hj)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Hj,this.apiKey)}}}const JB="gl-node/";class Wb{get interactions(){var e;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new Vt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n?.timeout,maxRetries:(e=n?.retryOptions)===null||e===void 0?void 0:e.attempts});return this._interactions=r.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=FL(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new YB(this.apiKey);this.apiClient=new H8({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:JB+"web",uploader:new VB,downloader:new LB}),this.models=new cU(this.apiClient),this.live=new rU(this.apiClient,i,new WB),this.batches=new m3(this.apiClient),this.chats=new J3(this.models,this.apiClient),this.caches=new W3(this.apiClient),this.files=new l$(this.apiClient),this.operations=new uU(this.apiClient),this.authTokens=new kU(this.apiClient),this.tunings=new DB(this.apiClient),this.fileSearchStores=new RU(this.apiClient)}}const XB=async(t,e)=>{const n=new Wb({apiKey:"YOUR_GEMINI_API_KEY_HERE"}),r={en:"English",hi:"Hindi",mr:"Marathi"},i=await n.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{text:`Interpret this raw weather data into a simple, farmer-friendly daily summary and actionable recommendations.
          Weather Data: ${JSON.stringify(t)}
          User's Preferred Language: ${r[e]}
          
          Guidelines:
          1. Use the selected language (${r[e]}).
          2. Avoid meteorological jargon. Use terms like 'moderate rain' or 'dry heat'.
          3. Mention specific impacts on farming activities (irrigation, fertilization, spraying).
          4. If temperature exceeds 35C, advise on heat stress for crops.
          5. Respond strictly in JSON format.`}]},config:{responseMimeType:"application/json",responseSchema:{type:bt.OBJECT,properties:{summary:{type:bt.STRING,description:"Daily weather summary in the target language"},recommendations:{type:bt.ARRAY,items:{type:bt.STRING},description:"List of actionable steps for the farmer"},confidenceScore:{type:bt.NUMBER,description:"AI confidence from 0 to 1"}},required:["summary","recommendations","confidenceScore"]}}});try{return JSON.parse(i.text||"{}")}catch(a){return console.error("Failed to parse weather advisory JSON",a),{summary:"Weather patterns are shifting. Stay updated with local alerts.",recommendations:["Monitor soil moisture closely","Keep harvest protected"],confidenceScore:.5}}},ZB=async(t,e,n)=>{const i=await new Wb({apiKey:"YOUR_GEMINI_API_KEY_HERE"}).models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:t}},{text:`Act as a senior agronomist for the Nashik agricultural belt. Analyze this image of a ${e} from ${n}. 
          Identify any pests or diseases. Provide diagnostic data in both English and Marathi.
          Guidelines:
          - Diagnosis must be specific (e.g., 'Downy Mildew' not just 'Fungus').
          - Marathi translation should use local agricultural terminology.
          - Categorize severity as Low, Moderate, High, or Critical.
          - List 3 specific symptoms.
          - Provide distinct Organic and Chemical treatment options.
          - Suggest one preventive measure for the next cycle.
          Respond strictly in JSON format.`}]},config:{responseMimeType:"application/json",responseSchema:{type:bt.OBJECT,properties:{diagnosis_en:{type:bt.STRING},diagnosis_mr:{type:bt.STRING},confidence:{type:bt.NUMBER},severity:{type:bt.STRING,enum:["Low","Moderate","High","Critical"]},symptoms:{type:bt.ARRAY,items:{type:bt.STRING}},organic_treatment:{type:bt.STRING},chemical_treatment:{type:bt.STRING},prevention:{type:bt.STRING}},required:["diagnosis_en","diagnosis_mr","confidence","severity","symptoms","organic_treatment","chemical_treatment","prevention"]}}});return JSON.parse(i.text||"{}")},QB=async(t,e)=>{const r=await new Wb({apiKey:"YOUR_GEMINI_API_KEY_HERE"}).models.generateContent({model:"gemini-3-pro-preview",contents:`Simulate the climate impact for ${e} in ${t} over the next 5 years.`,config:{tools:[{googleSearch:{}}],thinkingConfig:{thinkingBudget:4e3}}});return{text:r.text,sources:r.candidates?.[0]?.groundingMetadata?.groundingChunks||[]}},zj=900*1e3;let sd={},od={};const Om=t=>t===0?"Clear":t===1||t===2||t===3?"Partly Cloudy":t===45||t===48?"Fog":t>=51&&t<=55?"Drizzle":t>=61&&t<=67?"Rain":t>=71&&t<=77?"Snow":t>=80&&t<=82?"Showers":t>=95&&t<=99?"Thunderstorm":"Unknown",Da={getForLocation:async(t,e)=>{const n=e?.lat||19.9975,r=e?.lng||73.7898,i=`${n.toFixed(4)}_${r.toFixed(4)}`,a=Date.now();if(sd[i]&&a-sd[i].timestamp<zj)return he.wrapSuccess(sd[i].data);try{let o=t;if(e)try{const T=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${n}&lon=${r}&zoom=14`,{headers:{"User-Agent":"AgriSmart-Nashik/1.0"}});if(T.ok){const C=await T.json();o=C.address.village||C.address.town||C.address.city||C.address.municipality||C.address.county||C.address.state_district||t}}catch{console.warn("Geo lookup failed, using default name provided")}const c=`https://api.open-meteo.com/v1/forecast?latitude=${n}&longitude=${r}&current=temperature_2m,relative_humidity_2m,wind_speed_10m,weather_code,rain&hourly=temperature_2m,relative_humidity_2m,rain,weather_code&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=auto`,f=await fetch(c);if(!f.ok)throw new Error("Weather API failed");const d=await f.json(),p=d.current,h=d.hourly,g=d.daily,y=[],N=h.time.findIndex(T=>T===p.time)||0;for(let T=0;T<24;T++){const C=N+T;C<h.time.length&&y.push({time:new Date(h.time[C]).getHours()+":00",temp:h.temperature_2m[C],rainfall:h.rain[C],humidity:h.relative_humidity_2m[C],condition:Om(h.weather_code[C])})}const S=g.time.map((T,C)=>({date:T,temp:Math.round((g.temperature_2m_max[C]+g.temperature_2m_min[C])/2),condition:Om(g.weather_code[C])})),w=[];p.temperature_2m>38&&w.push({id:"heat_alert",type:"heatwave",severity:"warning",message:"High temperatures detected. Ensure adequate irrigation.",startTime:new Date().toISOString(),endTime:new Date(Date.now()+864e5).toISOString()}),p.wind_speed_10m>20&&w.push({id:"wind_alert",type:"strong_wind",severity:"advisory",message:"High winds detected. Avoid spraying today.",startTime:new Date().toISOString(),endTime:new Date(Date.now()+432e5).toISOString()}),w.length===0&&w.push({id:"favorable",type:"favorable",severity:"advisory",message:"Good conditions for field operations today.",startTime:new Date().toISOString(),endTime:new Date(Date.now()+864e5).toISOString()});const j={locationId:`loc_${n}_${r}`,locationName:o,timestamp:new Date().toISOString(),temperature:p.temperature_2m,rainfall:p.rain,humidity:p.relative_humidity_2m,windSpeed:p.wind_speed_10m,condition:Om(p.weather_code),alerts:w,hourlyForecast:y,forecast7Day:S};return sd[i]={data:j,timestamp:a},he.wrapSuccess(j)}catch(o){return console.error("WeatherAPI Error:",o),{success:!1,error:"Weather service unavailable",timestamp:new Date().toISOString()}}},getAIAdvisory:async(t,e)=>{const n=`${t.locationId}_${e}`,r=Date.now();if(od[n]&&r-od[n].timestamp<zj)return he.wrapSuccess(od[n].data);try{const i=await XB(t,e);return od[n]={data:i,timestamp:r},he.wrapSuccess(i)}catch{return{success:!1,error:"AI Advisory service unavailable",timestamp:new Date().toISOString()}}}},jd={getRecommendations:async(t,e,n="Black")=>{const r=t.map(i=>{const a=e.temperature*.16+(100-e.humidity)*.06,o={Grape:{Seedling:.3,Vegetative:.55,Flowering:.9,"Fruit Set":1.2,Maturity:.7,Harvest:.4},Onion:{Seedling:.4,Vegetative:.8,Maturity:1.05,Harvest:.6},Tomato:{Seedling:.5,Vegetative:.85,Flowering:1.15,"Fruit Set":1.25,Harvest:.85}},c=i.cropType||"Grape",f=i.currentStage||"Vegetative",d=o[c]?.[f]||.8,p=a*d,h=n==="Black"?1.2:n==="Sandy"?.8:1,g=e.hourlyForecast.slice(0,24).reduce((T,C)=>T+C.rainfall,0),y=g*.7,N=p*h-y;let S="IRRIGATE",w=`${c} (${f}) needs ${p.toFixed(1)}mm.`,j=Math.max(0,Math.round(N*15*(i.farmSize/3)));return g>10?(S="SKIP",w=`Significant rain (${g.toFixed(1)}mm) expected. Avoid waterlogging in ${n} soil.`,j=0):e.temperature>37?(S="IRRIGATE",w=`High temperature alert! Increase water for ${c} fruit cooling.`,j*=1.35):N<1&&(S="DELAY",w=`Current moisture sufficient for ${c} in ${f} stage.`,j=0),{id:Math.random().toString(36).substr(2,9),cropId:i.cropId,cropName:`${i.cropType} (${i.variety})`,action:S,durationMinutes:Math.round(j),scheduledTime:"18:45",reason:w,moistureLevel:35+Math.random()*30,evapotranspiration:parseFloat(p.toFixed(2)),isApplied:!1}});return he.wrapSuccess(r)},getUsageHistory:async t=>{const e=Array.from({length:14}).map((n,r)=>({id:`u-${r}`,date:new Date(Date.now()-r*864e5).toISOString().split("T")[0],amountLiters:1200+Math.random()*1500,cropId:"c1"}));return he.wrapSuccess(e)},applyIrrigation:async t=>he.wrapSuccess(void 0)},Vj=()=>{const{user:t}=Vf(),[e,n]=R.useState([]),[r,i]=R.useState([]),[a,o]=R.useState([]),[c,f]=R.useState(null),[d,p]=R.useState(!0),[h,g]=R.useState(void 0),[y,N]=R.useState([]),[S,w]=R.useState("PENDING"),[j,T]=R.useState(navigator.onLine),[C,A]=R.useState(new Date().toLocaleTimeString()),[E,P]=R.useState([{id:"1",title:"Check drip emitters in East Block",category:"irrigation",isCompleted:!1,priority:"high"},{id:"2",title:"Monitor for Downy Mildew spots",category:"pest",isCompleted:!1,priority:"medium"},{id:"3",title:"Prepare Potassium Schoenite spray",category:"fertilizer",isCompleted:!0,priority:"high"}]),[O,M]=R.useState(""),[D,G]=R.useState(!1);R.useEffect(()=>{const H=()=>T(!0),z=()=>T(!1);window.addEventListener("online",H),window.addEventListener("offline",z);const W=window;return W.lucide&&W.lucide.createIcons(),navigator.geolocation?navigator.geolocation.getCurrentPosition(ee=>{const ne={lat:ee.coords.latitude,lng:ee.coords.longitude};g(ne),B(ne)},ee=>{console.warn("Location denied:",ee),B()},{timeout:1e4}):B(),()=>{window.removeEventListener("online",H),window.removeEventListener("offline",z)}},[]);const B=async H=>{try{const z=t?.userId||"u123",W=t?.location.village||"Nashik",[ee,ne,U,Y]=await Promise.all([Kn.getLatestPrices(),tr.getByUser(z),kL.check(),Da.getForLocation(W,H)]);if(ee.success&&n(ee.data||[]),ne.success&&i(ne.data||[]),Y.success){p(!1);const ue=Y.data||null;if(f(ue),ue&&ne.success){const ye=await jd.getRecommendations(ne.data,ue);ye.success&&N(ye.data||[])}}w(U.success?"UP":"DOWN"),A(new Date().toLocaleTimeString())}catch(z){console.error("Failed to load dashboard data",z),w("DOWN")}},F=()=>{const H=new Date().getHours();return H<12?"Good Morning":H<17?"Good Afternoon":"Good Evening"},K=H=>{P(z=>z.map(W=>W.id===H?{...W,isCompleted:!W.isCompleted}:W))},J=H=>{if(H.preventDefault(),!O.trim())return;const z={id:Math.random().toString(36).substr(2,9),title:O,category:"general",isCompleted:!1,priority:"medium"};P([z,...E]),M("")},Z=R.useMemo(()=>Math.floor(Math.random()*40),[]);return s.jsxs("div",{className:"space-y-6 pb-24 animate-fade-in max-w-7xl mx-auto",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight leading-none",children:[F(),", ",t?.name.split(" ")[0]||"Farmer"]}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Here's what's happening on your farm."})]}),s.jsxs("div",{className:"flex items-center space-x-3 bg-white p-1.5 px-3 rounded-lg border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${j?"bg-emerald-500":"bg-rose-500"}`}),s.jsx("span",{className:"text-[10px] font-semibold uppercase text-slate-500 tracking-wider",children:j?"Online":"Offline"})]}),s.jsx("div",{className:"h-3 w-px bg-slate-200"}),s.jsxs("span",{className:"text-[10px] font-semibold uppercase text-slate-400 tracking-wider",children:["Synced: ",C]})]})]}),c?.alerts&&c.alerts.length>0?s.jsx("div",{className:"flex space-x-4 overflow-x-auto no-scrollbar pb-2",children:c?.alerts.map(H=>s.jsxs("div",{className:"min-w-[300px] md:min-w-[400px] bg-rose-50 border border-rose-200 rounded-lg p-4 flex items-start space-x-3 shrink-0 animate-slide-up",children:[s.jsx("div",{className:"w-10 h-10 bg-rose-500 text-white rounded-lg flex items-center justify-center shrink-0 shadow-sm",children:s.jsx("i",{"data-lucide":"zap",className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("h4",{className:"text-sm font-black text-rose-900 uppercase tracking-tight truncate",children:H.type.replace("_"," ")}),s.jsx("span",{className:"px-2 py-0.5 bg-rose-500 text-white text-[8px] font-black uppercase rounded",children:"Critical"})]}),s.jsx("p",{className:"text-xs text-rose-800 font-medium leading-relaxed",children:H.message}),s.jsxs("div",{className:"mt-3 flex space-x-2",children:[s.jsx("button",{className:"px-3 py-1.5 bg-rose-600 text-white rounded-md text-[10px] font-bold uppercase tracking-wider",children:"Action Now"}),s.jsx("button",{className:"px-3 py-1.5 bg-white text-rose-500 rounded-md text-[10px] font-bold uppercase tracking-wider border border-rose-200",children:"Dismiss"})]})]})]},H.id))}):null,s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[s.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[s.jsxs("div",{onClick:()=>G(!0),className:"bg-white rounded-xl border border-slate-200 p-5 shadow-sm group hover:border-emerald-300 transition-all cursor-pointer relative overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 tracking-tight flex items-center",children:d?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"animate-pulse bg-slate-200 h-6 w-24 rounded"}),s.jsx("span",{className:"text-xs font-normal text-slate-400 ml-2 animate-pulse",children:"Locating..."})]}):s.jsxs(s.Fragment,{children:[c?.locationName||"Nashik",h&&s.jsx("i",{"data-lucide":"map-pin",className:"w-3 h-3 ml-2 text-emerald-500"})]})}),s.jsx("p",{className:"text-xs text-slate-500 font-semibold uppercase tracking-wider mt-0.5",children:c?.condition||"Loading..."})]}),s.jsx("div",{className:"w-10 h-10 bg-amber-50 text-amber-500 rounded-lg flex items-center justify-center group-hover:scale-105 transition-transform",children:s.jsx("i",{"data-lucide":d?"loader-2":"sun",className:`w-5 h-5 ${d?"animate-spin":""}`})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-5xl font-bold text-slate-800 tracking-tighter",children:[c?.temperature||"--",""]}),s.jsxs("div",{className:"relative w-20 h-20 flex items-center justify-center",children:[s.jsxs("svg",{className:"w-20 h-20 transform -rotate-90",children:[s.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"6",fill:"transparent",className:"text-slate-50"}),s.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"6",fill:"transparent",strokeDasharray:226.2,strokeDashoffset:226.2-226.2*Z/100,className:"text-blue-500 transition-all duration-1000"})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[s.jsxs("span",{className:"text-sm font-black text-blue-600",children:[Z,"%"]}),s.jsx("span",{className:"text-[7px] font-black text-slate-300 uppercase",children:"Rain"})]})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4 border-t border-slate-100 pt-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Humidity"}),s.jsxs("div",{className:"text-sm font-bold text-slate-800",children:[c?.humidity,"%"]})]}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Wind"}),s.jsxs("div",{className:"text-sm font-bold text-slate-800",children:[c?.windSpeed," km/h"]})]})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Harvesting",val:"12d",icon:"scissors",color:"text-emerald-600",bg:"bg-emerald-50"},{label:"Soil Health",val:"Optimum",icon:"leaf",color:"text-blue-600",bg:"bg-blue-50"},{label:"Best Price",val:"2,450",icon:"trending-up",color:"text-amber-600",bg:"bg-amber-50"},{label:"Community",val:"14 New",icon:"users",color:"text-purple-600",bg:"bg-purple-50"}].map((H,z)=>s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm hover:scale-[1.01] transition-transform cursor-pointer group",children:[s.jsx("div",{className:`w-8 h-8 ${H.bg} ${H.color} rounded-lg flex items-center justify-center mb-2 group-hover:rotate-6 transition-transform`,children:s.jsx("i",{"data-lucide":H.icon,className:"w-4 h-4"})}),s.jsx("div",{className:"text-lg font-bold text-slate-800",children:H.val}),s.jsx("div",{className:"text-[10px] font-semibold text-slate-500 uppercase tracking-wider",children:H.label})]},z))})]}),s.jsx("div",{className:"lg:col-span-5 space-y-8",children:s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm space-y-6 flex flex-col min-h-[400px]",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-800 tracking-tight",children:"Focus Tasks"}),s.jsxs("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-500 rounded-md text-[10px] font-bold uppercase tracking-wider",children:[E.filter(H=>!H.isCompleted).length," Pending"]})]}),s.jsxs("div",{className:"flex-1 space-y-3 overflow-y-auto no-scrollbar max-h-[350px]",children:[E.map(H=>s.jsxs("div",{className:`flex items-center space-x-4 p-3 rounded-lg transition-all cursor-pointer border ${H.isCompleted?"bg-slate-50 border-transparent opacity-60":"bg-white border-slate-100 hover:border-emerald-200 shadow-sm"}`,onClick:()=>K(H.id),children:[s.jsx("button",{className:`w-6 h-6 rounded-md border-2 flex items-center justify-center shrink-0 transition-all ${H.isCompleted?"bg-emerald-500 border-emerald-500 text-white":"border-slate-200 text-transparent"}`,children:s.jsx("i",{"data-lucide":"check",className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:`text-sm font-semibold tracking-tight ${H.isCompleted?"text-slate-400 line-through":"text-slate-700"}`,children:H.title}),s.jsxs("div",{className:"flex items-center space-x-2 mt-0.5",children:[s.jsx("span",{className:`text-[8px] font-bold uppercase tracking-wider px-1.5 py-0.5 rounded ${H.priority==="high"?"bg-red-50 text-red-600":"bg-slate-50 text-slate-400"}`,children:H.priority}),s.jsx("span",{className:"text-[9px] text-slate-400 font-medium uppercase tracking-tight",children:H.category})]})]})]},H.id)),E.length===0&&s.jsxs("div",{className:"py-20 text-center space-y-4",children:[s.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto text-slate-200",children:s.jsx("i",{"data-lucide":"check-circle-2",className:"w-8 h-8"})}),s.jsx("p",{className:"text-slate-400 font-medium",children:"All tasks completed for today!"})]})]}),s.jsxs("form",{onSubmit:J,className:"relative mt-auto",children:[s.jsx("input",{type:"text",value:O,onChange:H=>M(H.target.value),placeholder:"Quick add a custom task...",className:"w-full bg-slate-50 border border-slate-100 rounded-[15px] py-5 pl-8 pr-16 text-sm font-bold focus:outline-none focus:ring-2 focus:ring-emerald-500 transition-all"}),s.jsx("button",{type:"submit",className:"absolute right-3 top-3 w-10 h-10 bg-emerald-600 text-white rounded-[15px] flex items-center justify-center shadow-lg shadow-emerald-100 active:scale-90 transition-transform",children:s.jsx("i",{"data-lucide":"plus",className:"w-5 h-5"})})]})]})}),s.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col min-h-[400px]",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-800 tracking-tight",children:"Market Pulse"}),s.jsx("i",{"data-lucide":"bar-chart-2",className:"w-4 h-4 text-slate-400"})]}),s.jsx("div",{className:"space-y-3 flex-1",children:e.slice(0,5).map((H,z)=>s.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-lg border border-transparent hover:border-emerald-200 transition-all group",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-bold text-slate-800",children:H.cropType}),s.jsx("div",{className:"text-[9px] text-slate-500 font-medium uppercase tracking-tight",children:H.mandiName})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-bold text-slate-800",children:["",H.price.toFixed(0)]}),s.jsxs("div",{className:`text-[10px] font-bold flex items-center justify-end ${H.change.startsWith("+")?"text-emerald-500":"text-rose-500"}`,children:[s.jsx("i",{"data-lucide":H.change.startsWith("+")?"trending-up":"trending-down",className:"w-3 h-3 mr-1"}),H.change]})]})]},z))}),s.jsx("button",{className:"w-full mt-6 py-3 bg-slate-800 text-white rounded-lg font-bold text-xs uppercase tracking-wider hover:bg-emerald-600 transition-all shadow-md",children:"Full Market View"})]}),s.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl text-white space-y-6 relative overflow-hidden",children:[s.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-emerald-500/10 rounded-full blur-3xl"}),s.jsxs("h3",{className:"text-lg font-bold tracking-tight flex items-center",children:[s.jsx("i",{"data-lucide":"database",className:"w-4 h-4 mr-2 text-emerald-400"}),"Crop Inventory"]}),s.jsx("div",{className:"space-y-6",children:r.map(H=>s.jsxs("div",{className:"space-y-2 group",children:[s.jsxs("div",{className:"flex justify-between items-end",children:[s.jsx("span",{className:"text-xs font-black uppercase tracking-tight text-slate-400 group-hover:text-white transition-colors",children:H.cropType}),s.jsxs("span",{className:`text-[10px] font-black ${H.healthScore>80?"text-emerald-400":"text-amber-400"}`,children:[H.healthScore,"% Healthy"]})]}),s.jsx("div",{className:"w-full bg-white/5 h-2 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${H.healthScore>80?"bg-emerald-400":"bg-amber-400"}`,style:{width:`${H.healthScore}%`}})})]},H.cropId))})]})]})]}),D&&c&&s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-950/60 backdrop-blur-md",onClick:()=>G(!1)}),s.jsxs("div",{className:"relative bg-white w-full max-w-2xl rounded-[15px] p-12 shadow-2xl animate-scale-up overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-500/5 rounded-full blur-[80px] -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"flex justify-between items-center mb-10",children:[s.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"7-Day Climate Projection"}),s.jsx("button",{onClick:()=>G(!1),className:"p-3 bg-slate-50 text-slate-400 hover:text-red-500 rounded-[15px] transition-all",children:s.jsx("i",{"data-lucide":"x",className:"w-6 h-6"})})]}),s.jsx("div",{className:"space-y-4",children:c.forecast7Day.map((H,z)=>s.jsxs("div",{className:"flex items-center justify-between p-5 bg-slate-50 rounded-[15px] border border-slate-100 group hover:bg-emerald-50 hover:border-emerald-200 transition-all",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx("div",{className:"text-sm font-black text-slate-900 min-w-[100px]",children:new Date(H.date).toLocaleDateString("en-US",{weekday:"long",day:"numeric"})}),s.jsx("div",{className:"w-10 h-10 bg-white rounded-[15px] flex items-center justify-center shadow-sm text-amber-500",children:s.jsx("i",{"data-lucide":H.condition.includes("Sunny")?"sun":H.condition.includes("Rain")?"cloud-rain":"cloud",className:"w-5 h-5"})}),s.jsx("span",{className:"text-xs font-bold text-slate-500 group-hover:text-emerald-700 transition-colors",children:H.condition})]}),s.jsxs("div",{className:"text-lg font-black text-slate-900",children:[H.temp,"C"]})]},z))})]})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-slide-up { animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-scale-up { animation: scale-up 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slide-up { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes scale-up { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .no-scrollbar::-webkit-scrollbar { display: none; }
      `})]})};let Wj=[];const Kj={saveDetection:async t=>(Wj.push(t),he.wrapSuccess(t)),getRegionalOutbreaks:async t=>{const e=[{village:"Ozar",disease:"Downy Mildew",count:42,riskLevel:"High"},{village:"Pimpalgaon",disease:"Thrips",count:18,riskLevel:"Medium"},{village:"Sinnar",disease:"Late Blight",count:5,riskLevel:"Low"}];return he.wrapSuccess(e)},validateDetection:async(t,e)=>{const n=Wj.find(r=>r.id===t);return n&&(n.isVerified=e),he.wrapSuccess(void 0)}},eq=()=>{const[t,e]=R.useState(null),[n,r]=R.useState(!1),[i,a]=R.useState(null),[o,c]=R.useState([]),[f,d]=R.useState("Grape"),[p,h]=R.useState("Nashik Central"),[g,y]=R.useState("scanner"),N=R.useRef(null);R.useEffect(()=>{S()},[]),R.useEffect(()=>{const C=window;C.lucide&&C.lucide.createIcons()},[t,i,n,o,g]);const S=async()=>{const C=await Kj.getRegionalOutbreaks(p);C.success&&c(C.data||[])},w=C=>{const A=C.target.files?.[0];if(A){const E=new FileReader;E.onloadend=()=>{e(E.result),j(E.result)},E.readAsDataURL(A)}},j=async C=>{r(!0),a(null);try{const A=C.split(",")[1],E=await ZB(A,f,p),P={id:Math.random().toString(36).substr(2,9),cropType:f,location:p,timestamp:new Date().toISOString(),imageUrl:C,isVerified:!1,...E};await Kj.saveDetection(P),a(P)}catch(A){console.error(A),alert("AI Diagnostic failed. Ensure your image has good lighting.")}finally{r(!1)}},T={Low:"bg-emerald-100 text-emerald-700 border-emerald-200",Moderate:"bg-amber-100 text-amber-700 border-amber-200",High:"bg-orange-100 text-orange-700 border-orange-200",Critical:"bg-red-100 text-red-700 border-red-200"};return s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-20 md:pb-0 animate-fade-in",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"AI Pest Diagnostic"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Computer vision diagnostics for Nashik cultivators"})]}),s.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-2xl border border-slate-200",children:[s.jsx("button",{onClick:()=>y("scanner"),className:`px-6 py-2.5 rounded-xl text-xs font-bold transition-all ${g==="scanner"?"bg-white text-emerald-700 shadow-sm":"text-slate-500"}`,children:"Visual Scan"}),s.jsx("button",{onClick:()=>y("outbreak"),className:`px-6 py-2.5 rounded-xl text-xs font-bold transition-all ${g==="outbreak"?"bg-white text-emerald-700 shadow-sm":"text-slate-500"}`,children:"Outbreak Map"})]})]}),g==="scanner"?s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsxs("div",{className:"bg-white p-8 rounded-[40px] border border-slate-200 shadow-sm space-y-6",children:[s.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em]",children:"Scan Configuration"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Target Crop"}),s.jsxs("select",{value:f,onChange:C=>d(C.target.value),className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold appearance-none",children:[s.jsx("option",{children:"Grape"}),s.jsx("option",{children:"Onion"}),s.jsx("option",{children:"Tomato"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Detection Location"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:p,onChange:C=>h(C.target.value),className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold"}),s.jsx("i",{"data-lucide":"map-pin",className:"absolute right-4 top-4 w-5 h-5 text-emerald-600"})]})]})]})]}),s.jsxs("div",{onClick:()=>!n&&N.current?.click(),className:`aspect-square relative rounded-[40px] border-4 border-dashed overflow-hidden flex flex-col items-center justify-center cursor-pointer transition-all ${t?"border-emerald-500":"border-slate-200 bg-slate-50 hover:bg-emerald-50 hover:border-emerald-300"}`,children:[t?s.jsx("img",{src:t,className:"w-full h-full object-cover",alt:"Scan target"}):s.jsxs("div",{className:"text-center p-10",children:[s.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center shadow-lg mx-auto mb-6 text-emerald-600",children:s.jsx("i",{"data-lucide":"camera",className:"w-10 h-10"})}),s.jsx("span",{className:"text-lg font-black text-slate-900 block",children:"Snap or Upload"}),s.jsx("span",{className:"text-sm text-slate-400 font-medium mt-2 block",children:"Ensure clear focus on symptoms"})]}),n&&s.jsxs("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md flex flex-col items-center justify-center text-white",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin mb-4"}),s.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Gemini Analyzing..."})]}),s.jsx("input",{type:"file",ref:N,onChange:w,accept:"image/*",className:"hidden"})]}),t&&!n&&s.jsx("button",{onClick:()=>{e(null),a(null)},className:"w-full py-4 bg-slate-100 text-slate-500 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-red-50 hover:text-red-600 transition-all",children:"Clear Image"})]}),s.jsx("div",{className:"lg:col-span-2",children:i?s.jsxs("div",{className:"bg-white rounded-[48px] border border-slate-200 shadow-sm overflow-hidden animate-slide-up",children:[s.jsxs("div",{className:"p-10 border-b border-slate-50 flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:i.diagnosis_en}),s.jsxs("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${T[i.severity]}`,children:[i.severity," Risk"]})]}),s.jsx("h3",{className:"text-xl font-bold text-emerald-700 tracking-tight",children:i.diagnosis_mr})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-4xl font-black text-slate-900",children:[Math.round(i.confidence*100),"%"]}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"AI Confidence"})]})]}),s.jsxs("div",{className:"p-10 grid grid-cols-1 md:grid-cols-2 gap-10",children:[s.jsxs("section",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center",children:[s.jsx("i",{"data-lucide":"eye",className:"w-3 h-3 mr-2"}),"Key Symptoms Identified"]}),s.jsx("ul",{className:"space-y-3",children:i.symptoms.map((C,A)=>s.jsxs("li",{className:"flex items-start text-sm text-slate-600 font-medium",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 mt-2 mr-3 shrink-0"}),C]},A))})]}),s.jsxs("div",{className:"p-6 bg-emerald-50 rounded-3xl border border-emerald-100",children:[s.jsx("h4",{className:"text-[10px] font-black text-emerald-800 uppercase tracking-widest mb-2",children:"Organic Treatment"}),s.jsx("p",{className:"text-xs text-emerald-900 font-medium leading-relaxed",children:i.organic_treatment})]})]}),s.jsxs("section",{className:"space-y-6",children:[s.jsxs("div",{className:"p-6 bg-slate-900 rounded-3xl text-white",children:[s.jsx("h4",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest mb-2",children:"Standard Protocol (Chemical)"}),s.jsx("p",{className:"text-xs text-slate-300 font-medium leading-relaxed",children:i.chemical_treatment})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Prevention (Next Cycle)"}),s.jsx("p",{className:"text-xs text-slate-600 font-medium leading-relaxed",children:i.prevention})]}),s.jsxs("div",{className:"pt-6 border-t border-slate-100 flex space-x-3",children:[s.jsx("button",{className:"flex-1 py-4 bg-emerald-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-emerald-700 shadow-lg shadow-emerald-100 transition-all",children:"Download PDF Report"}),s.jsx("button",{className:"p-4 bg-slate-50 text-slate-400 hover:text-emerald-600 rounded-2xl transition-colors",children:s.jsx("i",{"data-lucide":"share-2",className:"w-5 h-5"})})]})]})]}),s.jsxs("div",{className:"px-10 py-6 bg-slate-50 border-t border-slate-100 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-[10px] font-bold text-slate-400 uppercase",children:[s.jsx("i",{"data-lucide":"shield-check",className:"w-4 h-4"}),s.jsx("span",{children:"Community Status: Pending Expert Validation"})]}),s.jsx("button",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest",children:"Flag for Review"})]})]}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center py-40 text-center bg-white rounded-[48px] border border-dashed border-slate-200",children:[s.jsx("div",{className:"w-24 h-24 bg-slate-50 text-slate-200 rounded-full flex items-center justify-center mb-8",children:s.jsx("i",{"data-lucide":"scan",className:"w-12 h-12"})}),s.jsx("h3",{className:"text-2xl font-black text-slate-900",children:"Awaiting Diagnostic..."}),s.jsx("p",{className:"text-slate-500 max-w-md mt-4 font-medium leading-relaxed",children:"Our vision system is tuned to detect regional variants of Mildew, Blight, and Thrips. Upload a leaf photo to begin."})]})})]}):s.jsx("div",{className:"space-y-8 animate-fade-in",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white p-10 rounded-[48px] border border-slate-200 shadow-sm relative overflow-hidden",children:[s.jsx("h3",{className:"text-xl font-black text-slate-950 mb-1",children:"Nashik Outbreak Heatmap"}),s.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-[0.2em] mb-10",children:"Active Detections (Last 72 Hours)"}),s.jsx("div",{className:"space-y-6",children:o.map((C,A)=>s.jsxs("div",{className:"p-6 bg-slate-50 rounded-[32px] border border-slate-100 flex items-center justify-between group hover:bg-white hover:border-emerald-300 transition-all cursor-pointer",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center font-black ${C.riskLevel==="High"?"bg-red-100 text-red-600":C.riskLevel==="Medium"?"bg-orange-100 text-orange-600":"bg-emerald-100 text-emerald-600"}`,children:C.count}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-black text-slate-900 tracking-tight",children:C.village}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:C.disease})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-[10px] font-black uppercase tracking-widest ${C.riskLevel==="High"?"text-red-600":"text-slate-400"}`,children:[C.riskLevel," Risk"]}),s.jsx("div",{className:"flex items-center space-x-1 mt-1 justify-end",children:[1,2,3].map(E=>s.jsx("div",{className:`w-1 h-1 rounded-full ${E<=(C.riskLevel==="High"?3:C.riskLevel==="Medium"?2:1)?"bg-red-400":"bg-slate-200"}`},E))})]})]},A))})]}),s.jsxs("div",{className:"bg-slate-950 p-10 rounded-[48px] text-white space-y-8 shadow-2xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-emerald-500/10 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-2xl flex items-center justify-center mb-8",children:s.jsx("i",{"data-lucide":"shield-alert",className:"w-8 h-8 text-emerald-400"})}),s.jsxs("h3",{className:"text-4xl font-black tracking-tighter leading-tight mb-4",children:["Outbreak Prevention ",s.jsx("br",{})," Mode Active"]}),s.jsx("p",{className:"text-slate-400 leading-relaxed font-medium mb-10",children:"We detected a cluster of Downy Mildew cases 12km upwind from your location. We recommend a preventive spray of Bordeaux mixture within 48 hours."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-6 bg-white/5 rounded-3xl border border-white/10 text-center",children:[s.jsx("div",{className:"text-[10px] font-black uppercase opacity-40 mb-2",children:"My Proximity"}),s.jsx("div",{className:"text-2xl font-black text-emerald-400",children:"12 KM"})]}),s.jsxs("div",{className:"p-6 bg-white/5 rounded-3xl border border-white/10 text-center",children:[s.jsx("div",{className:"text-[10px] font-black uppercase opacity-40 mb-2",children:"Wind Vector"}),s.jsx("div",{className:"text-2xl font-black text-blue-400",children:"NE  SW"})]})]}),s.jsx("button",{className:"w-full mt-10 py-5 bg-white text-slate-950 rounded-3xl font-black text-sm uppercase tracking-widest hover:bg-slate-100 active:scale-95 transition-all",children:"Alert Neighbors (5 Farmers)"})]})]})]})}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-slide-up { animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slide-up { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
      `})]})};function nO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=nO(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Re(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=nO(t))&&(r&&(r+=" "),r+=e);return r}var Rm,Yj;function jn(){if(Yj)return Rm;Yj=1;var t=Array.isArray;return Rm=t,Rm}var Mm,Jj;function rO(){if(Jj)return Mm;Jj=1;var t=typeof Zu=="object"&&Zu&&Zu.Object===Object&&Zu;return Mm=t,Mm}var Dm,Xj;function Lr(){if(Xj)return Dm;Xj=1;var t=rO(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Dm=n,Dm}var Lm,Zj;function Rc(){if(Zj)return Lm;Zj=1;var t=Lr(),e=t.Symbol;return Lm=e,Lm}var $m,Qj;function tq(){if(Qj)return $m;Qj=1;var t=Rc(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(o){var c=n.call(o,i),f=o[i];try{o[i]=void 0;var d=!0}catch{}var p=r.call(o);return d&&(c?o[i]=f:delete o[i]),p}return $m=a,$m}var Fm,ek;function nq(){if(ek)return Fm;ek=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Fm=n,Fm}var Um,tk;function fi(){if(tk)return Um;tk=1;var t=Rc(),e=tq(),n=nq(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(c){return c==null?c===void 0?i:r:a&&a in Object(c)?e(c):n(c)}return Um=o,Um}var Bm,nk;function pi(){if(nk)return Bm;nk=1;function t(e){return e!=null&&typeof e=="object"}return Bm=t,Bm}var qm,rk;function xo(){if(rk)return qm;rk=1;var t=fi(),e=pi(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return qm=r,qm}var Gm,ik;function Kb(){if(ik)return Gm;ik=1;var t=jn(),e=xo(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(t(a))return!1;var c=typeof a;return c=="number"||c=="symbol"||c=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return Gm=i,Gm}var Hm,ak;function Yi(){if(ak)return Hm;ak=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Hm=t,Hm}var zm,sk;function Yb(){if(sk)return zm;sk=1;var t=fi(),e=Yi(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(c){if(!e(c))return!1;var f=t(c);return f==r||f==i||f==n||f==a}return zm=o,zm}var Vm,ok;function rq(){if(ok)return Vm;ok=1;var t=Lr(),e=t["__core-js_shared__"];return Vm=e,Vm}var Wm,lk;function iq(){if(lk)return Wm;lk=1;var t=rq(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return Wm=n,Wm}var Km,ck;function iO(){if(ck)return Km;ck=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Km=n,Km}var Ym,uk;function aq(){if(uk)return Ym;uk=1;var t=Yb(),e=iq(),n=Yi(),r=iO(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,c=Object.prototype,f=o.toString,d=c.hasOwnProperty,p=RegExp("^"+f.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(g){if(!n(g)||e(g))return!1;var y=t(g)?p:a;return y.test(r(g))}return Ym=h,Ym}var Jm,dk;function sq(){if(dk)return Jm;dk=1;function t(e,n){return e?.[n]}return Jm=t,Jm}var Xm,fk;function La(){if(fk)return Xm;fk=1;var t=aq(),e=sq();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return Xm=n,Xm}var Zm,pk;function Qf(){if(pk)return Zm;pk=1;var t=La(),e=t(Object,"create");return Zm=e,Zm}var Qm,hk;function oq(){if(hk)return Qm;hk=1;var t=Qf();function e(){this.__data__=t?t(null):{},this.size=0}return Qm=e,Qm}var eg,mk;function lq(){if(mk)return eg;mk=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return eg=t,eg}var tg,gk;function cq(){if(gk)return tg;gk=1;var t=Qf(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(t){var c=o[a];return c===e?void 0:c}return r.call(o,a)?o[a]:void 0}return tg=i,tg}var ng,xk;function uq(){if(xk)return ng;xk=1;var t=Qf(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return ng=r,ng}var rg,vk;function dq(){if(vk)return rg;vk=1;var t=Qf(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return rg=n,rg}var ig,yk;function fq(){if(yk)return ig;yk=1;var t=oq(),e=lq(),n=cq(),r=uq(),i=dq();function a(o){var c=-1,f=o==null?0:o.length;for(this.clear();++c<f;){var d=o[c];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,ig=a,ig}var ag,bk;function pq(){if(bk)return ag;bk=1;function t(){this.__data__=[],this.size=0}return ag=t,ag}var sg,wk;function Jb(){if(wk)return sg;wk=1;function t(e,n){return e===n||e!==e&&n!==n}return sg=t,sg}var og,Nk;function ep(){if(Nk)return og;Nk=1;var t=Jb();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return og=e,og}var lg,Sk;function hq(){if(Sk)return lg;Sk=1;var t=ep(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var c=a.length-1;return o==c?a.pop():n.call(a,o,1),--this.size,!0}return lg=r,lg}var cg,_k;function mq(){if(_k)return cg;_k=1;var t=ep();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return cg=e,cg}var ug,jk;function gq(){if(jk)return ug;jk=1;var t=ep();function e(n){return t(this.__data__,n)>-1}return ug=e,ug}var dg,kk;function xq(){if(kk)return dg;kk=1;var t=ep();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return dg=e,dg}var fg,Ak;function tp(){if(Ak)return fg;Ak=1;var t=pq(),e=hq(),n=mq(),r=gq(),i=xq();function a(o){var c=-1,f=o==null?0:o.length;for(this.clear();++c<f;){var d=o[c];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,fg=a,fg}var pg,Tk;function Xb(){if(Tk)return pg;Tk=1;var t=La(),e=Lr(),n=t(e,"Map");return pg=n,pg}var hg,Ek;function vq(){if(Ek)return hg;Ek=1;var t=fq(),e=tp(),n=Xb();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return hg=r,hg}var mg,Ck;function yq(){if(Ck)return mg;Ck=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return mg=t,mg}var gg,Pk;function np(){if(Pk)return gg;Pk=1;var t=yq();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return gg=e,gg}var xg,Ik;function bq(){if(Ik)return xg;Ik=1;var t=np();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return xg=e,xg}var vg,Ok;function wq(){if(Ok)return vg;Ok=1;var t=np();function e(n){return t(this,n).get(n)}return vg=e,vg}var yg,Rk;function Nq(){if(Rk)return yg;Rk=1;var t=np();function e(n){return t(this,n).has(n)}return yg=e,yg}var bg,Mk;function Sq(){if(Mk)return bg;Mk=1;var t=np();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return bg=e,bg}var wg,Dk;function Zb(){if(Dk)return wg;Dk=1;var t=vq(),e=bq(),n=wq(),r=Nq(),i=Sq();function a(o){var c=-1,f=o==null?0:o.length;for(this.clear();++c<f;){var d=o[c];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,wg=a,wg}var Ng,Lk;function aO(){if(Lk)return Ng;Lk=1;var t=Zb(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,c=i?i.apply(this,o):o[0],f=a.cache;if(f.has(c))return f.get(c);var d=r.apply(this,o);return a.cache=f.set(c,d)||f,d};return a.cache=new(n.Cache||t),a}return n.Cache=t,Ng=n,Ng}var Sg,$k;function _q(){if($k)return Sg;$k=1;var t=aO(),e=500;function n(r){var i=t(r,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return Sg=n,Sg}var _g,Fk;function jq(){if(Fk)return _g;Fk=1;var t=_q(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,c,f,d){a.push(f?d.replace(n,"$1"):c||o)}),a});return _g=r,_g}var jg,Uk;function Qb(){if(Uk)return jg;Uk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return jg=t,jg}var kg,Bk;function kq(){if(Bk)return kg;Bk=1;var t=Rc(),e=Qb(),n=jn(),r=xo(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(c){if(typeof c=="string")return c;if(n(c))return e(c,o)+"";if(r(c))return a?a.call(c):"";var f=c+"";return f=="0"&&1/c==-1/0?"-0":f}return kg=o,kg}var Ag,qk;function sO(){if(qk)return Ag;qk=1;var t=kq();function e(n){return n==null?"":t(n)}return Ag=e,Ag}var Tg,Gk;function oO(){if(Gk)return Tg;Gk=1;var t=jn(),e=Kb(),n=jq(),r=sO();function i(a,o){return t(a)?a:e(a,o)?[a]:n(r(a))}return Tg=i,Tg}var Eg,Hk;function rp(){if(Hk)return Eg;Hk=1;var t=xo();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Eg=e,Eg}var Cg,zk;function ew(){if(zk)return Cg;zk=1;var t=oO(),e=rp();function n(r,i){i=t(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[e(i[a++])];return a&&a==o?r:void 0}return Cg=n,Cg}var Pg,Vk;function lO(){if(Vk)return Pg;Vk=1;var t=ew();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return Pg=e,Pg}var Aq=lO();const Rn=et(Aq);var Ig,Wk;function Tq(){if(Wk)return Ig;Wk=1;function t(e){return e==null}return Ig=t,Ig}var Eq=Tq();const Ee=et(Eq);var Og,Kk;function Cq(){if(Kk)return Og;Kk=1;var t=fi(),e=jn(),n=pi(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return Og=i,Og}var Pq=Cq();const Ca=et(Pq);var Iq=Yb();const Te=et(Iq);var Oq=Yi();const vo=et(Oq);var Rg={exports:{}},tt={};var Yk;function Rq(){if(Yk)return tt;Yk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),N;N=Symbol.for("react.module.reference");function S(w){if(typeof w=="object"&&w!==null){var j=w.$$typeof;switch(j){case t:switch(w=w.type,w){case n:case i:case r:case d:case p:return w;default:switch(w=w&&w.$$typeof,w){case c:case o:case f:case g:case h:case a:return w;default:return j}}case e:return j}}}return tt.ContextConsumer=o,tt.ContextProvider=a,tt.Element=t,tt.ForwardRef=f,tt.Fragment=n,tt.Lazy=g,tt.Memo=h,tt.Portal=e,tt.Profiler=i,tt.StrictMode=r,tt.Suspense=d,tt.SuspenseList=p,tt.isAsyncMode=function(){return!1},tt.isConcurrentMode=function(){return!1},tt.isContextConsumer=function(w){return S(w)===o},tt.isContextProvider=function(w){return S(w)===a},tt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},tt.isForwardRef=function(w){return S(w)===f},tt.isFragment=function(w){return S(w)===n},tt.isLazy=function(w){return S(w)===g},tt.isMemo=function(w){return S(w)===h},tt.isPortal=function(w){return S(w)===e},tt.isProfiler=function(w){return S(w)===i},tt.isStrictMode=function(w){return S(w)===r},tt.isSuspense=function(w){return S(w)===d},tt.isSuspenseList=function(w){return S(w)===p},tt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===d||w===p||w===y||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===h||w.$$typeof===a||w.$$typeof===o||w.$$typeof===f||w.$$typeof===N||w.getModuleId!==void 0)},tt.typeOf=S,tt}var Jk;function Mq(){return Jk||(Jk=1,Rg.exports=Rq()),Rg.exports}var Dq=Mq(),Mg,Xk;function cO(){if(Xk)return Mg;Xk=1;var t=fi(),e=pi(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return Mg=r,Mg}var Dg,Zk;function Lq(){if(Zk)return Dg;Zk=1;var t=cO();function e(n){return t(n)&&n!=+n}return Dg=e,Dg}var $q=Lq();const yo=et($q);var Fq=cO();const Uq=et(Fq);var dn=function(e){return e===0?0:e>0?1:-1},Na=function(e){return Ca(e)&&e.indexOf("%")===e.length-1},ce=function(e){return Uq(e)&&!yo(e)},Bq=function(e){return Ee(e)},Mt=function(e){return ce(e)||Ca(e)},qq=0,Ji=function(e){var n=++qq;return"".concat(e||"").concat(n)},fn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ce(e)&&!Ca(e))return r;var a;if(Na(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return yo(a)&&(a=r),i&&a>n&&(a=n),a},Li=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Gq=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},st=function(e,n){return ce(e)&&ce(n)?function(r){return e+r*(n-e)}:function(){return n}};function Fd(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Rn(r,e))===n})}var Hq=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,a=0,o=0,c=1/0,f=-1/0,d=0,p=0,h=0;h<n;h++)d=e[h].cx||0,p=e[h].cy||0,r+=d,i+=p,a+=d*p,o+=d*d,c=Math.min(c,d),f=Math.max(f,d);var g=n*o!==r*r?(n*a-r*i)/(n*o-r*r):0;return{xmin:c,xmax:f,a:g,b:(i-g*r)/n}},zq=function(e,n){return ce(e)&&ce(n)?e-n:Ca(e)&&Ca(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Es(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}var Vq=["viewBox","children"],Wq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Qk=["points","pathLength"],Lg={svg:Vq,polygon:Qk,polyline:Qk},tw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ud=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(R.isValidElement(e)&&(r=e.props),!vo(r))return null;var i={};return Object.keys(r).forEach(function(a){tw.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},Kq=function(e,n,r){return function(i){return e(n,r,i),null}},Wi=function(e,n,r){if(!vo(e)||cy(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];tw.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Kq(o,n,r))}),i},Yq=["children"],Jq=["children"];function eA(t,e){if(t==null)return{};var n=Xq(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}var tA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ei=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},nA=null,$g=null,nw=function t(e){if(e===nA&&Array.isArray($g))return $g;var n=[];return R.Children.forEach(e,function(r){Ee(r)||(Dq.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),$g=n,nA=e,n};function hn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ei(i)}):r=[ei(e)],nw(t).forEach(function(i){var a=Rn(i,"type.displayName")||Rn(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function In(t,e){var n=hn(t,e);return n&&n[0]}var rA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ce(r)||r<=0||!ce(i)||i<=0)},Zq=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Qq=function(e){return e&&e.type&&Ca(e.type)&&Zq.indexOf(e.type)>=0},uO=function(e){return e&&uy(e)==="object"&&"clipDot"in e},e9=function(e,n,r,i){var a,o=(a=Lg?.[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Te(e)&&(i&&o.includes(n)||Wq.includes(n))||r&&tw.includes(n)},ve=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(R.isValidElement(e)&&(i=e.props),!vo(i))return null;var a={};return Object.keys(i).forEach(function(o){var c;e9((c=i)===null||c===void 0?void 0:c[o],o,n,r)&&(a[o]=i[o])}),a},dy=function t(e,n){if(e===n)return!0;var r=R.Children.count(e);if(r!==R.Children.count(n))return!1;if(r===0)return!0;if(r===1)return iA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!iA(a,o))return!1}return!0},iA=function(e,n){if(Ee(e)&&Ee(n))return!0;if(!Ee(e)&&!Ee(n)){var r=e.props||{},i=r.children,a=eA(r,Yq),o=n.props||{},c=o.children,f=eA(o,Jq);return i&&c?Es(a,f)&&dy(i,c):!i&&!c?Es(a,f):!1}return!1},aA=function(e,n){var r=[],i={};return nw(e).forEach(function(a,o){if(Qq(a))r.push(a);else if(a){var c=ei(a.type),f=n[c]||{},d=f.handler,p=f.once;if(d&&(!p||!i[c])){var h=d(a,c,o);r.push(h),i[c]=!0}}}),r},t9=function(e){var n=e&&e.type;return n&&tA[n]?tA[n]:null},n9=function(e,n){return nw(n).indexOf(e)},r9=["children","width","height","viewBox","className","style","title","desc"];function fy(){return fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fy.apply(this,arguments)}function i9(t,e){if(t==null)return{};var n=a9(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function py(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,c=t.title,f=t.desc,d=i9(t,r9),p=i||{width:n,height:r,x:0,y:0},h=Re("recharts-surface",a);return L.createElement("svg",fy({},ve(d,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),L.createElement("title",null,c),L.createElement("desc",null,f),e)}var s9=["children","className"];function hy(){return hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hy.apply(this,arguments)}function o9(t,e){if(t==null)return{};var n=l9(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var $e=L.forwardRef(function(t,e){var n=t.children,r=t.className,i=o9(t,s9),a=Re("recharts-layer",r);return L.createElement("g",hy({className:a},ve(i,!0),{ref:e}),n)}),vr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},Fg,sA;function c9(){if(sA)return Fg;sA=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+n];return o}return Fg=t,Fg}var Ug,oA;function u9(){if(oA)return Ug;oA=1;var t=c9();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return Ug=e,Ug}var Bg,lA;function dO(){if(lA)return Bg;lA=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="\\u200d",c=RegExp("["+o+t+i+a+"]");function f(d){return c.test(d)}return Bg=f,Bg}var qg,cA;function d9(){if(cA)return qg;cA=1;function t(e){return e.split("")}return qg=t,qg}var Gg,uA;function f9(){if(uA)return Gg;uA=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="["+t+"]",c="["+i+"]",f="\\ud83c[\\udffb-\\udfff]",d="(?:"+c+"|"+f+")",p="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",N=d+"?",S="["+a+"]?",w="(?:"+y+"(?:"+[p,h,g].join("|")+")"+S+N+")*",j=S+N+w,T="(?:"+[p+c+"?",c,h,g,o].join("|")+")",C=RegExp(f+"(?="+f+")|"+T+j,"g");function A(E){return E.match(C)||[]}return Gg=A,Gg}var Hg,dA;function p9(){if(dA)return Hg;dA=1;var t=d9(),e=dO(),n=f9();function r(i){return e(i)?n(i):t(i)}return Hg=r,Hg}var zg,fA;function h9(){if(fA)return zg;fA=1;var t=u9(),e=dO(),n=p9(),r=sO();function i(a){return function(o){o=r(o);var c=e(o)?n(o):void 0,f=c?c[0]:o.charAt(0),d=c?t(c,1).join(""):o.slice(1);return f[a]()+d}}return zg=i,zg}var Vg,pA;function m9(){if(pA)return Vg;pA=1;var t=h9(),e=t("toUpperCase");return Vg=e,Vg}var g9=m9();const ip=et(g9);function dt(t){return function(){return t}}const fO=Math.cos,Bd=Math.sin,br=Math.sqrt,qd=Math.PI,ap=2*qd,my=Math.PI,gy=2*my,ya=1e-6,x9=gy-ya;function pO(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function v9(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return pO;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class y9{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?pO:v9(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,c=this._y1,f=r-e,d=i-n,p=o-e,h=c-n,g=p*p+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>ya)if(!(Math.abs(h*f-d*p)>ya)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-o,N=i-c,S=f*f+d*d,w=y*y+N*N,j=Math.sqrt(S),T=Math.sqrt(g),C=a*Math.tan((my-Math.acos((S+g-w)/(2*j*T)))/2),A=C/T,E=C/j;Math.abs(A-1)>ya&&this._append`L${e+A*p},${n+A*h}`,this._append`A${a},${a},0,0,${+(h*y>p*N)},${this._x1=e+E*f},${this._y1=n+E*d}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),f=r*Math.sin(i),d=e+c,p=n+f,h=1^o,g=o?i-a:a-i;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>ya||Math.abs(this._y1-p)>ya)&&this._append`L${d},${p}`,r&&(g<0&&(g=g%gy+gy),g>x9?this._append`A${r},${r},0,1,${h},${e-c},${n-f}A${r},${r},0,1,${h},${this._x1=d},${this._y1=p}`:g>ya&&this._append`A${r},${r},0,${+(g>=my)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function rw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new y9(e)}function iw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hO(t){this._context=t}hO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function sp(t){return new hO(t)}function mO(t){return t[0]}function gO(t){return t[1]}function xO(t,e){var n=dt(!0),r=null,i=sp,a=null,o=rw(c);t=typeof t=="function"?t:t===void 0?mO:dt(t),e=typeof e=="function"?e:e===void 0?gO:dt(e);function c(f){var d,p=(f=iw(f)).length,h,g=!1,y;for(r==null&&(a=i(y=o())),d=0;d<=p;++d)!(d<p&&n(h=f[d],d,f))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(h,d,f),+e(h,d,f));if(y)return a=null,y+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:dt(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:dt(+f),c):e},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:dt(!!f),c):n},c.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),c):i},c.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),c):r},c}function ld(t,e,n){var r=null,i=dt(!0),a=null,o=sp,c=null,f=rw(d);t=typeof t=="function"?t:t===void 0?mO:dt(+t),e=typeof e=="function"?e:dt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?gO:dt(+n);function d(h){var g,y,N,S=(h=iw(h)).length,w,j=!1,T,C=new Array(S),A=new Array(S);for(a==null&&(c=o(T=f())),g=0;g<=S;++g){if(!(g<S&&i(w=h[g],g,h))===j)if(j=!j)y=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),N=g-1;N>=y;--N)c.point(C[N],A[N]);c.lineEnd(),c.areaEnd()}j&&(C[g]=+t(w,g,h),A[g]=+e(w,g,h),c.point(r?+r(w,g,h):C[g],n?+n(w,g,h):A[g]))}if(T)return c=null,T+""||null}function p(){return xO().defined(i).curve(o).context(a)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:dt(+h),r=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:dt(+h),d):t},d.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:dt(+h),d):r},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:dt(+h),n=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:dt(+h),d):e},d.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:dt(+h),d):n},d.lineX0=d.lineY0=function(){return p().x(t).y(e)},d.lineY1=function(){return p().x(t).y(n)},d.lineX1=function(){return p().x(r).y(e)},d.defined=function(h){return arguments.length?(i=typeof h=="function"?h:dt(!!h),d):i},d.curve=function(h){return arguments.length?(o=h,a!=null&&(c=o(a)),d):o},d.context=function(h){return arguments.length?(h==null?a=c=null:c=o(a=h),d):a},d}class vO{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function b9(t){return new vO(t,!0)}function w9(t){return new vO(t,!1)}const aw={draw(t,e){const n=br(e/qd);t.moveTo(n,0),t.arc(0,0,n,0,ap)}},N9={draw(t,e){const n=br(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},yO=br(1/3),S9=yO*2,_9={draw(t,e){const n=br(e/S9),r=n*yO;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},j9={draw(t,e){const n=br(e),r=-n/2;t.rect(r,r,n,n)}},k9=.8908130915292852,bO=Bd(qd/10)/Bd(7*qd/10),A9=Bd(ap/10)*bO,T9=-fO(ap/10)*bO,E9={draw(t,e){const n=br(e*k9),r=A9*n,i=T9*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=ap*a/5,c=fO(o),f=Bd(o);t.lineTo(f*n,-c*n),t.lineTo(c*r-f*i,f*r+c*i)}t.closePath()}},Wg=br(3),C9={draw(t,e){const n=-br(e/(Wg*3));t.moveTo(0,n*2),t.lineTo(-Wg*n,-n),t.lineTo(Wg*n,-n),t.closePath()}},Gn=-.5,Hn=br(3)/2,xy=1/br(12),P9=(xy/2+1)*3,I9={draw(t,e){const n=br(e/P9),r=n/2,i=n*xy,a=r,o=n*xy+n,c=-a,f=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(c,f),t.lineTo(Gn*r-Hn*i,Hn*r+Gn*i),t.lineTo(Gn*a-Hn*o,Hn*a+Gn*o),t.lineTo(Gn*c-Hn*f,Hn*c+Gn*f),t.lineTo(Gn*r+Hn*i,Gn*i-Hn*r),t.lineTo(Gn*a+Hn*o,Gn*o-Hn*a),t.lineTo(Gn*c+Hn*f,Gn*f-Hn*c),t.closePath()}};function O9(t,e){let n=null,r=rw(i);t=typeof t=="function"?t:dt(t||aw),e=typeof e=="function"?e:dt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:dt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:dt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Gd(){}function Hd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function wO(t){this._context=t}wO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function R9(t){return new wO(t)}function NO(t){this._context=t}NO.prototype={areaStart:Gd,areaEnd:Gd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Hd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function M9(t){return new NO(t)}function SO(t){this._context=t}SO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Hd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function D9(t){return new SO(t)}function _O(t){this._context=t}_O.prototype={areaStart:Gd,areaEnd:Gd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function L9(t){return new _O(t)}function hA(t){return t<0?-1:1}function mA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),c=(a*i+o*r)/(r+i);return(hA(a)+hA(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(c))||0}function gA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Kg(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,c=(a-r)/3;t._context.bezierCurveTo(r+c,i+c*e,a-c,o-c*n,a,o)}function zd(t){this._context=t}zd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kg(this,this._t0,gA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Kg(this,gA(this,n=mA(this,t,e)),n);break;default:Kg(this,this._t0,n=mA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function jO(t){this._context=new kO(t)}(jO.prototype=Object.create(zd.prototype)).point=function(t,e){zd.prototype.point.call(this,e,t)};function kO(t){this._context=t}kO.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function $9(t){return new zd(t)}function F9(t){return new jO(t)}function AO(t){this._context=t}AO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=xA(t),i=xA(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function xA(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function U9(t){return new AO(t)}function op(t,e){this._context=t,this._t=e}op.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function B9(t){return new op(t,.5)}function q9(t){return new op(t,0)}function G9(t){return new op(t,1)}function Ls(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,c=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function vy(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function H9(t,e){return t[e]}function z9(t){const e=[];return e.key=t,e}function V9(){var t=dt([]),e=vy,n=Ls,r=H9;function i(a){var o=Array.from(t.apply(this,arguments),z9),c,f=o.length,d=-1,p;for(const h of a)for(c=0,++d;c<f;++c)(o[c][d]=[0,+r(h,o[c].key,d,a)]).data=h;for(c=0,p=iw(e(o));c<f;++c)o[p[c]].index=c;return n(o,p),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:dt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:dt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?vy:typeof a=="function"?a:dt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Ls,i):n},i}function W9(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Ls(t,e)}}function K9(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,c=0;o<i;++o)c+=t[o][n][1]||0;r[n][1]+=r[n][0]=-c/2}Ls(t,e)}}function Y9(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var c=0,f=0,d=0;c<o;++c){for(var p=t[e[c]],h=p[r][1]||0,g=p[r-1][1]||0,y=(h-g)/2,N=0;N<c;++N){var S=t[e[N]],w=S[r][1]||0,j=S[r-1][1]||0;y+=w-j}f+=h,d+=y*h}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,Ls(t,e)}}function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}var J9=["type","size","sizeType"];function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(this,arguments)}function vA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vA(Object(n),!0).forEach(function(r){X9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X9(t,e,n){return e=Z9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z9(t){var e=Q9(t,"string");return Xl(e)=="symbol"?e:e+""}function Q9(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eG(t,e){if(t==null)return{};var n=tG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var TO={symbolCircle:aw,symbolCross:N9,symbolDiamond:_9,symbolSquare:j9,symbolStar:E9,symbolTriangle:C9,symbolWye:I9},nG=Math.PI/180,rG=function(e){var n="symbol".concat(ip(e));return TO[n]||aw},iG=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*nG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},aG=function(e,n){TO["symbol".concat(ip(e))]=n},lp=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,c=o===void 0?"area":o,f=eG(e,J9),d=yA(yA({},f),{},{type:r,size:a,sizeType:c}),p=function(){var w=rG(r),j=O9().type(w).size(iG(a,c,r));return j()},h=d.className,g=d.cx,y=d.cy,N=ve(d,!0);return g===+g&&y===+y&&a===+a?L.createElement("path",yy({},N,{className:Re("recharts-symbols",h),transform:"translate(".concat(g,", ").concat(y,")"),d:p()})):null};lp.registerSymbol=aG;function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},by.apply(this,arguments)}function bA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(n),!0).forEach(function(r){Zl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CO(r.key),r)}}function cG(t,e,n){return e&&lG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uG(t,e,n){return e=Vd(e),dG(t,EO()?Reflect.construct(e,n||[],Vd(t).constructor):e.apply(t,n))}function dG(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fG(t)}function fG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EO=function(){return!!t})()}function Vd(t){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vd(t)}function pG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wy(t,e)}function wy(t,e){return wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wy(t,e)}function Zl(t,e,n){return e=CO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CO(t){var e=hG(t,"string");return $s(e)=="symbol"?e:e+""}function hG(t,e){if($s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zn=32,sw=(function(t){function e(){return oG(this,e),uG(this,e,arguments)}return pG(e,t),cG(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=zn/2,o=zn/6,c=zn/3,f=r.inactive?i:r.color;if(r.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:zn,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(a,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(a,`
            H`).concat(zn,"M").concat(2*c,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return L.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(zn/8,"h").concat(zn,"v").concat(zn*3/4,"h").concat(-zn,"z"),className:"recharts-legend-icon"});if(L.isValidElement(r.legendIcon)){var d=sG({},r);return delete d.legendIcon,L.cloneElement(r.legendIcon,d)}return L.createElement(lp,{fill:f,cx:a,cy:a,size:zn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,c=i.layout,f=i.formatter,d=i.inactiveColor,p={x:0,y:0,width:zn,height:zn},h={display:c==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(y,N){var S=y.formatter||f,w=Re(Zl(Zl({"recharts-legend-item":!0},"legend-item-".concat(N),!0),"inactive",y.inactive));if(y.type==="none")return null;var j=Te(y.value)?null:y.value;vr(!Te(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var T=y.inactive?d:y.color;return L.createElement("li",by({className:w,style:h,key:"legend-item-".concat(N)},Wi(r.props,y,N)),L.createElement(py,{width:o,height:o,viewBox:p,style:g},r.renderIcon(y)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},S?S(j,y,N):j))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(R.PureComponent);Zl(sw,"displayName","Legend");Zl(sw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Yg,wA;function mG(){if(wA)return Yg;wA=1;var t=tp();function e(){this.__data__=new t,this.size=0}return Yg=e,Yg}var Jg,NA;function gG(){if(NA)return Jg;NA=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Jg=t,Jg}var Xg,SA;function xG(){if(SA)return Xg;SA=1;function t(e){return this.__data__.get(e)}return Xg=t,Xg}var Zg,_A;function vG(){if(_A)return Zg;_A=1;function t(e){return this.__data__.has(e)}return Zg=t,Zg}var Qg,jA;function yG(){if(jA)return Qg;jA=1;var t=tp(),e=Xb(),n=Zb(),r=200;function i(a,o){var c=this.__data__;if(c instanceof t){var f=c.__data__;if(!e||f.length<r-1)return f.push([a,o]),this.size=++c.size,this;c=this.__data__=new n(f)}return c.set(a,o),this.size=c.size,this}return Qg=i,Qg}var ex,kA;function PO(){if(kA)return ex;kA=1;var t=tp(),e=mG(),n=gG(),r=xG(),i=vG(),a=yG();function o(c){var f=this.__data__=new t(c);this.size=f.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,ex=o,ex}var tx,AA;function bG(){if(AA)return tx;AA=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return tx=e,tx}var nx,TA;function wG(){if(TA)return nx;TA=1;function t(e){return this.__data__.has(e)}return nx=t,nx}var rx,EA;function IO(){if(EA)return rx;EA=1;var t=Zb(),e=bG(),n=wG();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,rx=r,rx}var ix,CA;function OO(){if(CA)return ix;CA=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return ix=t,ix}var ax,PA;function RO(){if(PA)return ax;PA=1;function t(e,n){return e.has(n)}return ax=t,ax}var sx,IA;function MO(){if(IA)return sx;IA=1;var t=IO(),e=OO(),n=RO(),r=1,i=2;function a(o,c,f,d,p,h){var g=f&r,y=o.length,N=c.length;if(y!=N&&!(g&&N>y))return!1;var S=h.get(o),w=h.get(c);if(S&&w)return S==c&&w==o;var j=-1,T=!0,C=f&i?new t:void 0;for(h.set(o,c),h.set(c,o);++j<y;){var A=o[j],E=c[j];if(d)var P=g?d(E,A,j,c,o,h):d(A,E,j,o,c,h);if(P!==void 0){if(P)continue;T=!1;break}if(C){if(!e(c,function(O,M){if(!n(C,M)&&(A===O||p(A,O,f,d,h)))return C.push(M)})){T=!1;break}}else if(!(A===E||p(A,E,f,d,h))){T=!1;break}}return h.delete(o),h.delete(c),T}return sx=a,sx}var ox,OA;function NG(){if(OA)return ox;OA=1;var t=Lr(),e=t.Uint8Array;return ox=e,ox}var lx,RA;function SG(){if(RA)return lx;RA=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return lx=t,lx}var cx,MA;function ow(){if(MA)return cx;MA=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return cx=t,cx}var ux,DA;function _G(){if(DA)return ux;DA=1;var t=Rc(),e=NG(),n=Jb(),r=MO(),i=SG(),a=ow(),o=1,c=2,f="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Map]",g="[object Number]",y="[object RegExp]",N="[object Set]",S="[object String]",w="[object Symbol]",j="[object ArrayBuffer]",T="[object DataView]",C=t?t.prototype:void 0,A=C?C.valueOf:void 0;function E(P,O,M,D,G,B,F){switch(M){case T:if(P.byteLength!=O.byteLength||P.byteOffset!=O.byteOffset)return!1;P=P.buffer,O=O.buffer;case j:return!(P.byteLength!=O.byteLength||!B(new e(P),new e(O)));case f:case d:case g:return n(+P,+O);case p:return P.name==O.name&&P.message==O.message;case y:case S:return P==O+"";case h:var K=i;case N:var J=D&o;if(K||(K=a),P.size!=O.size&&!J)return!1;var Z=F.get(P);if(Z)return Z==O;D|=c,F.set(P,O);var H=r(K(P),K(O),D,G,B,F);return F.delete(P),H;case w:if(A)return A.call(P)==A.call(O)}return!1}return ux=E,ux}var dx,LA;function DO(){if(LA)return dx;LA=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return dx=t,dx}var fx,$A;function jG(){if($A)return fx;$A=1;var t=DO(),e=jn();function n(r,i,a){var o=i(r);return e(r)?o:t(o,a(r))}return fx=n,fx}var px,FA;function kG(){if(FA)return px;FA=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,o=[];++r<i;){var c=e[r];n(c,r,e)&&(o[a++]=c)}return o}return px=t,px}var hx,UA;function AG(){if(UA)return hx;UA=1;function t(){return[]}return hx=t,hx}var mx,BA;function TG(){if(BA)return mx;BA=1;var t=kG(),e=AG(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(c){return r.call(o,c)}))}:e;return mx=a,mx}var gx,qA;function EG(){if(qA)return gx;qA=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return gx=t,gx}var xx,GA;function CG(){if(GA)return xx;GA=1;var t=fi(),e=pi(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return xx=r,xx}var vx,HA;function lw(){if(HA)return vx;HA=1;var t=CG(),e=pi(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return vx=a,vx}var Rl={exports:{}},yx,zA;function PG(){if(zA)return yx;zA=1;function t(){return!1}return yx=t,yx}Rl.exports;var VA;function LO(){return VA||(VA=1,(function(t,e){var n=Lr(),r=PG(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,c=o?n.Buffer:void 0,f=c?c.isBuffer:void 0,d=f||r;t.exports=d})(Rl,Rl.exports)),Rl.exports}var bx,WA;function cw(){if(WA)return bx;WA=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return bx=n,bx}var wx,KA;function uw(){if(KA)return wx;KA=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return wx=e,wx}var Nx,YA;function IG(){if(YA)return Nx;YA=1;var t=fi(),e=uw(),n=pi(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",c="[object Error]",f="[object Function]",d="[object Map]",p="[object Number]",h="[object Object]",g="[object RegExp]",y="[object Set]",N="[object String]",S="[object WeakMap]",w="[object ArrayBuffer]",j="[object DataView]",T="[object Float32Array]",C="[object Float64Array]",A="[object Int8Array]",E="[object Int16Array]",P="[object Int32Array]",O="[object Uint8Array]",M="[object Uint8ClampedArray]",D="[object Uint16Array]",G="[object Uint32Array]",B={};B[T]=B[C]=B[A]=B[E]=B[P]=B[O]=B[M]=B[D]=B[G]=!0,B[r]=B[i]=B[w]=B[a]=B[j]=B[o]=B[c]=B[f]=B[d]=B[p]=B[h]=B[g]=B[y]=B[N]=B[S]=!1;function F(K){return n(K)&&e(K.length)&&!!B[t(K)]}return Nx=F,Nx}var Sx,JA;function $O(){if(JA)return Sx;JA=1;function t(e){return function(n){return e(n)}}return Sx=t,Sx}var Ml={exports:{}};Ml.exports;var XA;function OG(){return XA||(XA=1,(function(t,e){var n=rO(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,c=(function(){try{var f=i&&i.require&&i.require("util").types;return f||o&&o.binding&&o.binding("util")}catch{}})();t.exports=c})(Ml,Ml.exports)),Ml.exports}var _x,ZA;function FO(){if(ZA)return _x;ZA=1;var t=IG(),e=$O(),n=OG(),r=n&&n.isTypedArray,i=r?e(r):t;return _x=i,_x}var jx,QA;function RG(){if(QA)return jx;QA=1;var t=EG(),e=lw(),n=jn(),r=LO(),i=cw(),a=FO(),o=Object.prototype,c=o.hasOwnProperty;function f(d,p){var h=n(d),g=!h&&e(d),y=!h&&!g&&r(d),N=!h&&!g&&!y&&a(d),S=h||g||y||N,w=S?t(d.length,String):[],j=w.length;for(var T in d)(p||c.call(d,T))&&!(S&&(T=="length"||y&&(T=="offset"||T=="parent")||N&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||i(T,j)))&&w.push(T);return w}return jx=f,jx}var kx,eT;function MG(){if(eT)return kx;eT=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return kx=e,kx}var Ax,tT;function UO(){if(tT)return Ax;tT=1;function t(e,n){return function(r){return e(n(r))}}return Ax=t,Ax}var Tx,nT;function DG(){if(nT)return Tx;nT=1;var t=UO(),e=t(Object.keys,Object);return Tx=e,Tx}var Ex,rT;function LG(){if(rT)return Ex;rT=1;var t=MG(),e=DG(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var c in Object(a))r.call(a,c)&&c!="constructor"&&o.push(c);return o}return Ex=i,Ex}var Cx,iT;function Mc(){if(iT)return Cx;iT=1;var t=Yb(),e=uw();function n(r){return r!=null&&e(r.length)&&!t(r)}return Cx=n,Cx}var Px,aT;function cp(){if(aT)return Px;aT=1;var t=RG(),e=LG(),n=Mc();function r(i){return n(i)?t(i):e(i)}return Px=r,Px}var Ix,sT;function $G(){if(sT)return Ix;sT=1;var t=jG(),e=TG(),n=cp();function r(i){return t(i,n,e)}return Ix=r,Ix}var Ox,oT;function FG(){if(oT)return Ox;oT=1;var t=$G(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,c,f,d,p){var h=c&e,g=t(a),y=g.length,N=t(o),S=N.length;if(y!=S&&!h)return!1;for(var w=y;w--;){var j=g[w];if(!(h?j in o:r.call(o,j)))return!1}var T=p.get(a),C=p.get(o);if(T&&C)return T==o&&C==a;var A=!0;p.set(a,o),p.set(o,a);for(var E=h;++w<y;){j=g[w];var P=a[j],O=o[j];if(f)var M=h?f(O,P,j,o,a,p):f(P,O,j,a,o,p);if(!(M===void 0?P===O||d(P,O,c,f,p):M)){A=!1;break}E||(E=j=="constructor")}if(A&&!E){var D=a.constructor,G=o.constructor;D!=G&&"constructor"in a&&"constructor"in o&&!(typeof D=="function"&&D instanceof D&&typeof G=="function"&&G instanceof G)&&(A=!1)}return p.delete(a),p.delete(o),A}return Ox=i,Ox}var Rx,lT;function UG(){if(lT)return Rx;lT=1;var t=La(),e=Lr(),n=t(e,"DataView");return Rx=n,Rx}var Mx,cT;function BG(){if(cT)return Mx;cT=1;var t=La(),e=Lr(),n=t(e,"Promise");return Mx=n,Mx}var Dx,uT;function BO(){if(uT)return Dx;uT=1;var t=La(),e=Lr(),n=t(e,"Set");return Dx=n,Dx}var Lx,dT;function qG(){if(dT)return Lx;dT=1;var t=La(),e=Lr(),n=t(e,"WeakMap");return Lx=n,Lx}var $x,fT;function GG(){if(fT)return $x;fT=1;var t=UG(),e=Xb(),n=BG(),r=BO(),i=qG(),a=fi(),o=iO(),c="[object Map]",f="[object Object]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",g="[object DataView]",y=o(t),N=o(e),S=o(n),w=o(r),j=o(i),T=a;return(t&&T(new t(new ArrayBuffer(1)))!=g||e&&T(new e)!=c||n&&T(n.resolve())!=d||r&&T(new r)!=p||i&&T(new i)!=h)&&(T=function(C){var A=a(C),E=A==f?C.constructor:void 0,P=E?o(E):"";if(P)switch(P){case y:return g;case N:return c;case S:return d;case w:return p;case j:return h}return A}),$x=T,$x}var Fx,pT;function HG(){if(pT)return Fx;pT=1;var t=PO(),e=MO(),n=_G(),r=FG(),i=GG(),a=jn(),o=LO(),c=FO(),f=1,d="[object Arguments]",p="[object Array]",h="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function N(S,w,j,T,C,A){var E=a(S),P=a(w),O=E?p:i(S),M=P?p:i(w);O=O==d?h:O,M=M==d?h:M;var D=O==h,G=M==h,B=O==M;if(B&&o(S)){if(!o(w))return!1;E=!0,D=!1}if(B&&!D)return A||(A=new t),E||c(S)?e(S,w,j,T,C,A):n(S,w,O,j,T,C,A);if(!(j&f)){var F=D&&y.call(S,"__wrapped__"),K=G&&y.call(w,"__wrapped__");if(F||K){var J=F?S.value():S,Z=K?w.value():w;return A||(A=new t),C(J,Z,j,T,A)}}return B?(A||(A=new t),r(S,w,j,T,C,A)):!1}return Fx=N,Fx}var Ux,hT;function dw(){if(hT)return Ux;hT=1;var t=HG(),e=pi();function n(r,i,a,o,c){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,o,n,c)}return Ux=n,Ux}var Bx,mT;function zG(){if(mT)return Bx;mT=1;var t=PO(),e=dw(),n=1,r=2;function i(a,o,c,f){var d=c.length,p=d,h=!f;if(a==null)return!p;for(a=Object(a);d--;){var g=c[d];if(h&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++d<p;){g=c[d];var y=g[0],N=a[y],S=g[1];if(h&&g[2]){if(N===void 0&&!(y in a))return!1}else{var w=new t;if(f)var j=f(N,S,y,a,o,w);if(!(j===void 0?e(S,N,n|r,f,w):j))return!1}}return!0}return Bx=i,Bx}var qx,gT;function qO(){if(gT)return qx;gT=1;var t=Yi();function e(n){return n===n&&!t(n)}return qx=e,qx}var Gx,xT;function VG(){if(xT)return Gx;xT=1;var t=qO(),e=cp();function n(r){for(var i=e(r),a=i.length;a--;){var o=i[a],c=r[o];i[a]=[o,c,t(c)]}return i}return Gx=n,Gx}var Hx,vT;function GO(){if(vT)return Hx;vT=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Hx=t,Hx}var zx,yT;function WG(){if(yT)return zx;yT=1;var t=zG(),e=VG(),n=GO();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return zx=r,zx}var Vx,bT;function KG(){if(bT)return Vx;bT=1;function t(e,n){return e!=null&&n in Object(e)}return Vx=t,Vx}var Wx,wT;function YG(){if(wT)return Wx;wT=1;var t=oO(),e=lw(),n=jn(),r=cw(),i=uw(),a=rp();function o(c,f,d){f=t(f,c);for(var p=-1,h=f.length,g=!1;++p<h;){var y=a(f[p]);if(!(g=c!=null&&d(c,y)))break;c=c[y]}return g||++p!=h?g:(h=c==null?0:c.length,!!h&&i(h)&&r(y,h)&&(n(c)||e(c)))}return Wx=o,Wx}var Kx,NT;function JG(){if(NT)return Kx;NT=1;var t=KG(),e=YG();function n(r,i){return r!=null&&e(r,i,t)}return Kx=n,Kx}var Yx,ST;function XG(){if(ST)return Yx;ST=1;var t=dw(),e=lO(),n=JG(),r=Kb(),i=qO(),a=GO(),o=rp(),c=1,f=2;function d(p,h){return r(p)&&i(h)?a(o(p),h):function(g){var y=e(g,p);return y===void 0&&y===h?n(g,p):t(h,y,c|f)}}return Yx=d,Yx}var Jx,_T;function bo(){if(_T)return Jx;_T=1;function t(e){return e}return Jx=t,Jx}var Xx,jT;function ZG(){if(jT)return Xx;jT=1;function t(e){return function(n){return n?.[e]}}return Xx=t,Xx}var Zx,kT;function QG(){if(kT)return Zx;kT=1;var t=ew();function e(n){return function(r){return t(r,n)}}return Zx=e,Zx}var Qx,AT;function eH(){if(AT)return Qx;AT=1;var t=ZG(),e=QG(),n=Kb(),r=rp();function i(a){return n(a)?t(r(a)):e(a)}return Qx=i,Qx}var e0,TT;function $r(){if(TT)return e0;TT=1;var t=WG(),e=XG(),n=bo(),r=jn(),i=eH();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return e0=a,e0}var t0,ET;function HO(){if(ET)return t0;ET=1;function t(e,n,r,i){for(var a=e.length,o=r+(i?1:-1);i?o--:++o<a;)if(n(e[o],o,e))return o;return-1}return t0=t,t0}var n0,CT;function tH(){if(CT)return n0;CT=1;function t(e){return e!==e}return n0=t,n0}var r0,PT;function nH(){if(PT)return r0;PT=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return r0=t,r0}var i0,IT;function rH(){if(IT)return i0;IT=1;var t=HO(),e=tH(),n=nH();function r(i,a,o){return a===a?n(i,a,o):t(i,e,o)}return i0=r,i0}var a0,OT;function iH(){if(OT)return a0;OT=1;var t=rH();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return a0=e,a0}var s0,RT;function aH(){if(RT)return s0;RT=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return s0=t,s0}var o0,MT;function sH(){if(MT)return o0;MT=1;function t(){}return o0=t,o0}var l0,DT;function oH(){if(DT)return l0;DT=1;var t=BO(),e=sH(),n=ow(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return l0=i,l0}var c0,LT;function lH(){if(LT)return c0;LT=1;var t=IO(),e=iH(),n=aH(),r=RO(),i=oH(),a=ow(),o=200;function c(f,d,p){var h=-1,g=e,y=f.length,N=!0,S=[],w=S;if(p)N=!1,g=n;else if(y>=o){var j=d?null:i(f);if(j)return a(j);N=!1,g=r,w=new t}else w=d?[]:S;e:for(;++h<y;){var T=f[h],C=d?d(T):T;if(T=p||T!==0?T:0,N&&C===C){for(var A=w.length;A--;)if(w[A]===C)continue e;d&&w.push(C),S.push(T)}else g(w,C,p)||(w!==S&&w.push(C),S.push(T))}return S}return c0=c,c0}var u0,$T;function cH(){if($T)return u0;$T=1;var t=$r(),e=lH();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return u0=n,u0}var uH=cH();const FT=et(uH);function zO(t,e,n){return e===!0?FT(t,n):Te(e)?FT(t,e):t}function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}var dH=["ref"];function UT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UT(Object(n),!0).forEach(function(r){up(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WO(r.key),r)}}function pH(t,e,n){return e&&BT(t.prototype,e),n&&BT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hH(t,e,n){return e=Wd(e),mH(t,VO()?Reflect.construct(e,n||[],Wd(t).constructor):e.apply(t,n))}function mH(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gH(t)}function gH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VO=function(){return!!t})()}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wd(t)}function xH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ny(t,e)}function Ny(t,e){return Ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ny(t,e)}function up(t,e,n){return e=WO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WO(t){var e=vH(t,"string");return Fs(e)=="symbol"?e:e+""}function vH(t,e){if(Fs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yH(t,e){if(t==null)return{};var n=bH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wH(t){return t.value}function NH(t,e){if(L.isValidElement(t))return L.cloneElement(t,e);if(typeof t=="function")return L.createElement(t,e);e.ref;var n=yH(e,dH);return L.createElement(sw,n)}var qT=1,Ir=(function(t){function e(){var n;fH(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=hH(this,e,[].concat(i)),up(n,"lastBoundingBox",{width:-1,height:-1}),n}return xH(e,t),pH(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>qT||Math.abs(i.height-this.lastBoundingBox.height)>qT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Kr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,c=i.verticalAlign,f=i.margin,d=i.chartWidth,p=i.chartHeight,h,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var y=this.getBBoxSnapshot();h={left:((d||0)-y.width)/2}}else h=o==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(c==="middle"){var N=this.getBBoxSnapshot();g={top:((p||0)-N.height)/2}}else g=c==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return Kr(Kr({},h),g)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,c=i.height,f=i.wrapperStyle,d=i.payloadUniqBy,p=i.payload,h=Kr(Kr({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(f)),f);return L.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(y){r.wrapperNode=y}},NH(a,Kr(Kr({},this.props),{},{payload:zO(p,d,wH)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Kr(Kr({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&ce(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])})(R.PureComponent);up(Ir,"displayName","Legend");up(Ir,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var d0,GT;function SH(){if(GT)return d0;GT=1;var t=Rc(),e=lw(),n=jn(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return d0=i,d0}var f0,HT;function KO(){if(HT)return f0;HT=1;var t=DO(),e=SH();function n(r,i,a,o,c){var f=-1,d=r.length;for(a||(a=e),c||(c=[]);++f<d;){var p=r[f];i>0&&a(p)?i>1?n(p,i-1,a,o,c):t(c,p):o||(c[c.length]=p)}return c}return f0=n,f0}var p0,zT;function _H(){if(zT)return p0;zT=1;function t(e){return function(n,r,i){for(var a=-1,o=Object(n),c=i(n),f=c.length;f--;){var d=c[e?f:++a];if(r(o[d],d,o)===!1)break}return n}}return p0=t,p0}var h0,VT;function jH(){if(VT)return h0;VT=1;var t=_H(),e=t();return h0=e,h0}var m0,WT;function YO(){if(WT)return m0;WT=1;var t=jH(),e=cp();function n(r,i){return r&&t(r,i,e)}return m0=n,m0}var g0,KT;function kH(){if(KT)return g0;KT=1;var t=Mc();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var o=i.length,c=r?o:-1,f=Object(i);(r?c--:++c<o)&&a(f[c],c,f)!==!1;);return i}}return g0=e,g0}var x0,YT;function fw(){if(YT)return x0;YT=1;var t=YO(),e=kH(),n=e(t);return x0=n,x0}var v0,JT;function JO(){if(JT)return v0;JT=1;var t=fw(),e=Mc();function n(r,i){var a=-1,o=e(r)?Array(r.length):[];return t(r,function(c,f,d){o[++a]=i(c,f,d)}),o}return v0=n,v0}var y0,XT;function AH(){if(XT)return y0;XT=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return y0=t,y0}var b0,ZT;function TH(){if(ZT)return b0;ZT=1;var t=xo();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,o=n===n,c=t(n),f=r!==void 0,d=r===null,p=r===r,h=t(r);if(!d&&!h&&!c&&n>r||c&&f&&p&&!d&&!h||a&&f&&p||!i&&p||!o)return 1;if(!a&&!c&&!h&&n<r||h&&i&&o&&!a&&!c||d&&i&&o||!f&&o||!p)return-1}return 0}return b0=e,b0}var w0,QT;function EH(){if(QT)return w0;QT=1;var t=TH();function e(n,r,i){for(var a=-1,o=n.criteria,c=r.criteria,f=o.length,d=i.length;++a<f;){var p=t(o[a],c[a]);if(p){if(a>=d)return p;var h=i[a];return p*(h=="desc"?-1:1)}}return n.index-r.index}return w0=e,w0}var N0,eE;function CH(){if(eE)return N0;eE=1;var t=Qb(),e=ew(),n=$r(),r=JO(),i=AH(),a=$O(),o=EH(),c=bo(),f=jn();function d(p,h,g){h.length?h=t(h,function(S){return f(S)?function(w){return e(w,S.length===1?S[0]:S)}:S}):h=[c];var y=-1;h=t(h,a(n));var N=r(p,function(S,w,j){var T=t(h,function(C){return C(S)});return{criteria:T,index:++y,value:S}});return i(N,function(S,w){return o(S,w,g)})}return N0=d,N0}var S0,tE;function PH(){if(tE)return S0;tE=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return S0=t,S0}var _0,nE;function IH(){if(nE)return _0;nE=1;var t=PH(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,c=-1,f=e(o.length-i,0),d=Array(f);++c<f;)d[c]=o[i+c];c=-1;for(var p=Array(i+1);++c<i;)p[c]=o[c];return p[i]=a(d),t(r,this,p)}}return _0=n,_0}var j0,rE;function OH(){if(rE)return j0;rE=1;function t(e){return function(){return e}}return j0=t,j0}var k0,iE;function XO(){if(iE)return k0;iE=1;var t=La(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return k0=e,k0}var A0,aE;function RH(){if(aE)return A0;aE=1;var t=OH(),e=XO(),n=bo(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return A0=r,A0}var T0,sE;function MH(){if(sE)return T0;sE=1;var t=800,e=16,n=Date.now;function r(i){var a=0,o=0;return function(){var c=n(),f=e-(c-o);if(o=c,f>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return T0=r,T0}var E0,oE;function DH(){if(oE)return E0;oE=1;var t=RH(),e=MH(),n=e(t);return E0=n,E0}var C0,lE;function LH(){if(lE)return C0;lE=1;var t=bo(),e=IH(),n=DH();function r(i,a){return n(e(i,a,t),i+"")}return C0=r,C0}var P0,cE;function dp(){if(cE)return P0;cE=1;var t=Jb(),e=Mc(),n=cw(),r=Yi();function i(a,o,c){if(!r(c))return!1;var f=typeof o;return(f=="number"?e(c)&&n(o,c.length):f=="string"&&o in c)?t(c[o],a):!1}return P0=i,P0}var I0,uE;function $H(){if(uE)return I0;uE=1;var t=KO(),e=CH(),n=LH(),r=dp(),i=n(function(a,o){if(a==null)return[];var c=o.length;return c>1&&r(a,o[0],o[1])?o=[]:c>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return I0=i,I0}var FH=$H();const pw=et(FH);function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function Sy(){return Sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sy.apply(this,arguments)}function UH(t,e){return HH(t)||GH(t,e)||qH(t,e)||BH()}function BH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qH(t,e){if(t){if(typeof t=="string")return dE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dE(t,e)}}function dE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],f=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return c}}function HH(t){if(Array.isArray(t))return t}function fE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fE(Object(n),!0).forEach(function(r){zH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zH(t,e,n){return e=VH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VH(t){var e=WH(t,"string");return Ql(e)=="symbol"?e:e+""}function WH(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KH(t){return Array.isArray(t)&&Mt(t[0])&&Mt(t[1])?t.join(" ~ "):t}var YH=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,c=o===void 0?{}:o,f=e.labelStyle,d=f===void 0?{}:f,p=e.payload,h=e.formatter,g=e.itemSorter,y=e.wrapperClassName,N=e.labelClassName,S=e.label,w=e.labelFormatter,j=e.accessibilityLayer,T=j===void 0?!1:j,C=function(){if(p&&p.length){var F={padding:0,margin:0},K=(g?pw(p,g):p).map(function(J,Z){if(J.type==="none")return null;var H=O0({display:"block",paddingTop:4,paddingBottom:4,color:J.color||"#000"},c),z=J.formatter||h||KH,W=J.value,ee=J.name,ne=W,U=ee;if(z&&ne!=null&&U!=null){var Y=z(W,ee,J,Z,p);if(Array.isArray(Y)){var ue=UH(Y,2);ne=ue[0],U=ue[1]}else ne=Y}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Z),style:H},Mt(U)?L.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Mt(U)?L.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,L.createElement("span",{className:"recharts-tooltip-item-value"},ne),L.createElement("span",{className:"recharts-tooltip-item-unit"},J.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:F},K)}return null},A=O0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=O0({margin:0},d),P=!Ee(S),O=P?S:"",M=Re("recharts-default-tooltip",y),D=Re("recharts-tooltip-label",N);P&&w&&p!==void 0&&p!==null&&(O=w(S,p));var G=T?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",Sy({className:M,style:A},G),L.createElement("p",{className:D,style:E},L.isValidElement(O)?O:"".concat(O)),C())};function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function cd(t,e,n){return e=JH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JH(t){var e=XH(t,"string");return ec(e)=="symbol"?e:e+""}function XH(t,e){if(ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yl="recharts-tooltip-wrapper",ZH={visibility:"hidden"};function QH(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Re(yl,cd(cd(cd(cd({},"".concat(yl,"-right"),ce(n)&&e&&ce(e.x)&&n>=e.x),"".concat(yl,"-left"),ce(n)&&e&&ce(e.x)&&n<e.x),"".concat(yl,"-bottom"),ce(r)&&e&&ce(e.y)&&r>=e.y),"".concat(yl,"-top"),ce(r)&&e&&ce(e.y)&&r<e.y))}function pE(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,c=t.tooltipDimension,f=t.viewBox,d=t.viewBoxDimension;if(a&&ce(a[r]))return a[r];var p=n[r]-c-i,h=n[r]+i;if(e[r])return o[r]?p:h;if(o[r]){var g=p,y=f[r];return g<y?Math.max(h,f[r]):Math.max(p,f[r])}var N=h+c,S=f[r]+d;return N>S?Math.max(p,f[r]):Math.max(h,f[r])}function ez(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function tz(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,c=t.useTranslate3d,f=t.viewBox,d,p,h;return o.height>0&&o.width>0&&n?(p=pE({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:f,viewBoxDimension:f.width}),h=pE({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:f,viewBoxDimension:f.height}),d=ez({translateX:p,translateY:h,useTranslate3d:c})):d=ZH,{cssProperties:d,cssClasses:QH({translateX:p,translateY:h,coordinate:n})}}function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function hE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(n),!0).forEach(function(r){jy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QO(r.key),r)}}function iz(t,e,n){return e&&rz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function az(t,e,n){return e=Kd(e),sz(t,ZO()?Reflect.construct(e,n||[],Kd(t).constructor):e.apply(t,n))}function sz(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oz(t)}function oz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZO=function(){return!!t})()}function Kd(t){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kd(t)}function lz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_y(t,e)}function _y(t,e){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_y(t,e)}function jy(t,e,n){return e=QO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QO(t){var e=cz(t,"string");return Us(e)=="symbol"?e:e+""}function cz(t,e){if(Us(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gE=1,uz=(function(t){function e(){var n;nz(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=az(this,e,[].concat(i)),jy(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),jy(n,"handleKeyDown",function(o){if(o.key==="Escape"){var c,f,d,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(f=n.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&c!==void 0?c:0,y:(d=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&d!==void 0?d:0}})}}),n}return lz(e,t),iz(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>gE||Math.abs(r.height-this.state.lastBoundingBox.height)>gE)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,f=i.animationEasing,d=i.children,p=i.coordinate,h=i.hasPayload,g=i.isAnimationActive,y=i.offset,N=i.position,S=i.reverseDirection,w=i.useTranslate3d,j=i.viewBox,T=i.wrapperStyle,C=tz({allowEscapeViewBox:o,coordinate:p,offsetTopLeft:y,position:N,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:j}),A=C.cssClasses,E=C.cssProperties,P=mE(mE({transition:g&&a?"transform ".concat(c,"ms ").concat(f):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},T);return L.createElement("div",{tabIndex:-1,className:A,style:P,ref:function(M){r.wrapperNode=M}},d)}}])})(R.PureComponent),dz=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fr={isSsr:dz()};function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function xE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xE(Object(n),!0).forEach(function(r){hw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tR(r.key),r)}}function hz(t,e,n){return e&&pz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mz(t,e,n){return e=Yd(e),gz(t,eR()?Reflect.construct(e,n||[],Yd(t).constructor):e.apply(t,n))}function gz(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xz(t)}function xz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eR=function(){return!!t})()}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yd(t)}function vz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ky(t,e)}function ky(t,e){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ky(t,e)}function hw(t,e,n){return e=tR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tR(t){var e=yz(t,"string");return Bs(e)=="symbol"?e:e+""}function yz(t,e){if(Bs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bz(t){return t.dataKey}function wz(t,e){return L.isValidElement(t)?L.cloneElement(t,e):typeof t=="function"?L.createElement(t,e):L.createElement(YH,e)}var mt=(function(t){function e(){return fz(this,e),mz(this,e,arguments)}return vz(e,t),hz(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,f=i.animationEasing,d=i.content,p=i.coordinate,h=i.filterNull,g=i.isAnimationActive,y=i.offset,N=i.payload,S=i.payloadUniqBy,w=i.position,j=i.reverseDirection,T=i.useTranslate3d,C=i.viewBox,A=i.wrapperStyle,E=N??[];h&&E.length&&(E=zO(N.filter(function(O){return O.value!=null&&(O.hide!==!0||r.props.includeHidden)}),S,bz));var P=E.length>0;return L.createElement(uz,{allowEscapeViewBox:o,animationDuration:c,animationEasing:f,isAnimationActive:g,active:a,coordinate:p,hasPayload:P,offset:y,position:w,reverseDirection:j,useTranslate3d:T,viewBox:C,wrapperStyle:A},wz(d,vE(vE({},this.props),{},{payload:E})))}}])})(R.PureComponent);hw(mt,"displayName","Tooltip");hw(mt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fr.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var R0,yE;function Nz(){if(yE)return R0;yE=1;var t=Lr(),e=function(){return t.Date.now()};return R0=e,R0}var M0,bE;function Sz(){if(bE)return M0;bE=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return M0=e,M0}var D0,wE;function _z(){if(wE)return D0;wE=1;var t=Sz(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return D0=n,D0}var L0,NE;function nR(){if(NE)return L0;NE=1;var t=_z(),e=Yi(),n=xo(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt;function f(d){if(typeof d=="number")return d;if(n(d))return r;if(e(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=e(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=t(d);var h=a.test(d);return h||o.test(d)?c(d.slice(2),h?2:8):i.test(d)?r:+d}return L0=f,L0}var $0,SE;function jz(){if(SE)return $0;SE=1;var t=Yi(),e=Nz(),n=nR(),r="Expected a function",i=Math.max,a=Math.min;function o(c,f,d){var p,h,g,y,N,S,w=0,j=!1,T=!1,C=!0;if(typeof c!="function")throw new TypeError(r);f=n(f)||0,t(d)&&(j=!!d.leading,T="maxWait"in d,g=T?i(n(d.maxWait)||0,f):g,C="trailing"in d?!!d.trailing:C);function A(K){var J=p,Z=h;return p=h=void 0,w=K,y=c.apply(Z,J),y}function E(K){return w=K,N=setTimeout(M,f),j?A(K):y}function P(K){var J=K-S,Z=K-w,H=f-J;return T?a(H,g-Z):H}function O(K){var J=K-S,Z=K-w;return S===void 0||J>=f||J<0||T&&Z>=g}function M(){var K=e();if(O(K))return D(K);N=setTimeout(M,P(K))}function D(K){return N=void 0,C&&p?A(K):(p=h=void 0,y)}function G(){N!==void 0&&clearTimeout(N),w=0,p=S=h=N=void 0}function B(){return N===void 0?y:D(e())}function F(){var K=e(),J=O(K);if(p=arguments,h=this,S=K,J){if(N===void 0)return E(S);if(T)return clearTimeout(N),N=setTimeout(M,f),A(S)}return N===void 0&&(N=setTimeout(M,f)),y}return F.cancel=G,F.flush=B,F}return $0=o,$0}var F0,_E;function kz(){if(_E)return F0;_E=1;var t=jz(),e=Yi(),n="Expected a function";function r(i,a,o){var c=!0,f=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(c="leading"in o?!!o.leading:c,f="trailing"in o?!!o.trailing:f),t(i,a,{leading:c,maxWait:a,trailing:f})}return F0=r,F0}var Az=kz();const rR=et(Az);function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function jE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(n),!0).forEach(function(r){Tz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tz(t,e,n){return e=Ez(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ez(t){var e=Cz(t,"string");return tc(e)=="symbol"?e:e+""}function Cz(t,e){if(tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pz(t,e){return Mz(t)||Rz(t,e)||Oz(t,e)||Iz()}function Iz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oz(t,e){if(t){if(typeof t=="string")return kE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kE(t,e)}}function kE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],f=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return c}}function Mz(t){if(Array.isArray(t))return t}var Dt=R.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,c=t.height,f=c===void 0?"100%":c,d=t.minWidth,p=d===void 0?0:d,h=t.minHeight,g=t.maxHeight,y=t.children,N=t.debounce,S=N===void 0?0:N,w=t.id,j=t.className,T=t.onResize,C=t.style,A=C===void 0?{}:C,E=R.useRef(null),P=R.useRef();P.current=T,R.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var O=R.useState({containerWidth:i.width,containerHeight:i.height}),M=Pz(O,2),D=M[0],G=M[1],B=R.useCallback(function(K,J){G(function(Z){var H=Math.round(K),z=Math.round(J);return Z.containerWidth===H&&Z.containerHeight===z?Z:{containerWidth:H,containerHeight:z}})},[]);R.useEffect(function(){var K=function(ee){var ne,U=ee[0].contentRect,Y=U.width,ue=U.height;B(Y,ue),(ne=P.current)===null||ne===void 0||ne.call(P,Y,ue)};S>0&&(K=rR(K,S,{trailing:!0,leading:!1}));var J=new ResizeObserver(K),Z=E.current.getBoundingClientRect(),H=Z.width,z=Z.height;return B(H,z),J.observe(E.current),function(){J.disconnect()}},[B,S]);var F=R.useMemo(function(){var K=D.containerWidth,J=D.containerHeight;if(K<0||J<0)return null;vr(Na(o)||Na(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,f),vr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Z=Na(o)?K:o,H=Na(f)?J:f;n&&n>0&&(Z?H=Z/n:H&&(Z=H*n),g&&H>g&&(H=g)),vr(Z>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Z,H,o,f,p,h,n);var z=!Array.isArray(y)&&ei(y.type).endsWith("Chart");return L.Children.map(y,function(W){return L.isValidElement(W)?R.cloneElement(W,ud({width:Z,height:H},z?{style:ud({height:"100%",width:"100%",maxHeight:H,maxWidth:Z},W.props.style)}:{})):W})},[n,y,f,g,h,p,D,o]);return L.createElement("div",{id:w?"".concat(w):void 0,className:Re("recharts-responsive-container",j),style:ud(ud({},A),{},{width:o,height:f,minWidth:p,minHeight:h,maxHeight:g}),ref:E},F)}),Mr=function(e){return null};Mr.displayName="Cell";function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function AE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AE(Object(n),!0).forEach(function(r){Dz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dz(t,e,n){return e=Lz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lz(t){var e=$z(t,"string");return nc(e)=="symbol"?e:e+""}function $z(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ps={widthCache:{},cacheCount:0},Fz=2e3,Uz={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TE="recharts_measurement_span";function Bz(t){var e=Ay({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var $l=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Fr.isSsr)return{width:0,height:0};var r=Bz(n),i=JSON.stringify({text:e,copyStyle:r});if(ps.widthCache[i])return ps.widthCache[i];try{var a=document.getElementById(TE);a||(a=document.createElement("span"),a.setAttribute("id",TE),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Ay(Ay({},Uz),r);Object.assign(a.style,o),a.textContent="".concat(e);var c=a.getBoundingClientRect(),f={width:c.width,height:c.height};return ps.widthCache[i]=f,++ps.cacheCount>Fz&&(ps.cacheCount=0,ps.widthCache={}),f}catch{return{width:0,height:0}}},qz=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function Jd(t,e){return Vz(t)||zz(t,e)||Hz(t,e)||Gz()}function Gz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hz(t,e){if(t){if(typeof t=="string")return EE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EE(t,e)}}function EE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],f=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return c}}function Vz(t){if(Array.isArray(t))return t}function Wz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yz(r.key),r)}}function Kz(t,e,n){return e&&CE(t.prototype,e),n&&CE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yz(t){var e=Jz(t,"string");return rc(e)=="symbol"?e:e+""}function Jz(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xz=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Zz=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,iR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Qz=Object.keys(iR),Ns="NaN";function eV(t,e){return t*iR[e]}var dd=(function(){function t(e,n){Wz(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Xz.test(n)&&(this.num=NaN,this.unit=""),Qz.includes(n)&&(this.num=eV(e,n),this.unit="px")}return Kz(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Zz.exec(n))!==null&&r!==void 0?r:[],a=Jd(i,3),o=a[1],c=a[2];return new t(parseFloat(o),c??"")}}])})();function aR(t){if(t.includes(Ns))return Ns;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=PE.exec(e))!==null&&n!==void 0?n:[],i=Jd(r,4),a=i[1],o=i[2],c=i[3],f=dd.parse(a??""),d=dd.parse(c??""),p=o==="*"?f.multiply(d):f.divide(d);if(p.isNaN())return Ns;e=e.replace(PE,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,g=(h=IE.exec(e))!==null&&h!==void 0?h:[],y=Jd(g,4),N=y[1],S=y[2],w=y[3],j=dd.parse(N??""),T=dd.parse(w??""),C=S==="+"?j.add(T):j.subtract(T);if(C.isNaN())return Ns;e=e.replace(IE,C.toString())}return e}var OE=/\(([^()]*)\)/;function tV(t){for(var e=t;e.includes("(");){var n=OE.exec(e),r=Jd(n,2),i=r[1];e=e.replace(OE,aR(i))}return e}function nV(t){var e=t.replace(/\s+/g,"");return e=tV(e),e=aR(e),e}function rV(t){try{return nV(t)}catch{return Ns}}function U0(t){var e=rV(t.slice(5,-1));return e===Ns?"":e}var iV=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],aV=["dx","dy","angle","className","breakAll"];function Ty(){return Ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ty.apply(this,arguments)}function RE(t,e){if(t==null)return{};var n=sV(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sV(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ME(t,e){return uV(t)||cV(t,e)||lV(t,e)||oV()}function oV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lV(t,e){if(t){if(typeof t=="string")return DE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DE(t,e)}}function DE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],f=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return c}}function uV(t){if(Array.isArray(t))return t}var sR=/[ \f\n\r\t\v\u2028\u2029]+/,oR=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Ee(n)||(r?a=n.toString().split(""):a=n.toString().split(sR));var o=a.map(function(f){return{word:f,width:$l(f,i).width}}),c=r?0:$l("",i).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},dV=function(e,n,r,i,a){var o=e.maxLines,c=e.children,f=e.style,d=e.breakAll,p=ce(o),h=c,g=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce(function(H,z){var W=z.word,ee=z.width,ne=H[H.length-1];if(ne&&(i==null||a||ne.width+ee+r<Number(i)))ne.words.push(W),ne.width+=ee+r;else{var U={words:[W],width:ee};H.push(U)}return H},[])},y=g(n),N=function(Z){return Z.reduce(function(H,z){return H.width>z.width?H:z})};if(!p)return y;for(var S="",w=function(Z){var H=h.slice(0,Z),z=oR({breakAll:d,style:f,children:H+S}).wordsWithComputedWidth,W=g(z),ee=W.length>o||N(W).width>Number(i);return[ee,W]},j=0,T=h.length-1,C=0,A;j<=T&&C<=h.length-1;){var E=Math.floor((j+T)/2),P=E-1,O=w(P),M=ME(O,2),D=M[0],G=M[1],B=w(E),F=ME(B,1),K=F[0];if(!D&&!K&&(j=E+1),D&&K&&(T=E-1),!D&&K){A=G;break}C++}return A||y},LE=function(e){var n=Ee(e)?[]:e.toString().split(sR);return[{words:n}]},fV=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,c=e.maxLines;if((n||r)&&!Fr.isSsr){var f,d,p=oR({breakAll:o,children:i,style:a});if(p){var h=p.wordsWithComputedWidth,g=p.spaceWidth;f=h,d=g}else return LE(i);return dV({breakAll:o,children:i,maxLines:c,style:a},f,d,n,r)}return LE(i)},$E="#808080",Pa=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,c=o===void 0?"1em":o,f=e.capHeight,d=f===void 0?"0.71em":f,p=e.scaleToFit,h=p===void 0?!1:p,g=e.textAnchor,y=g===void 0?"start":g,N=e.verticalAnchor,S=N===void 0?"end":N,w=e.fill,j=w===void 0?$E:w,T=RE(e,iV),C=R.useMemo(function(){return fV({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:h,style:T.style,width:T.width})},[T.breakAll,T.children,T.maxLines,h,T.style,T.width]),A=T.dx,E=T.dy,P=T.angle,O=T.className,M=T.breakAll,D=RE(T,aV);if(!Mt(r)||!Mt(a))return null;var G=r+(ce(A)?A:0),B=a+(ce(E)?E:0),F;switch(S){case"start":F=U0("calc(".concat(d,")"));break;case"middle":F=U0("calc(".concat((C.length-1)/2," * -").concat(c," + (").concat(d," / 2))"));break;default:F=U0("calc(".concat(C.length-1," * -").concat(c,")"));break}var K=[];if(h){var J=C[0].width,Z=T.width;K.push("scale(".concat((ce(Z)?Z/J:1)/J,")"))}return P&&K.push("rotate(".concat(P,", ").concat(G,", ").concat(B,")")),K.length&&(D.transform=K.join(" ")),L.createElement("text",Ty({},ve(D,!0),{x:G,y:B,className:Re("recharts-text",O),textAnchor:y,fill:j.includes("url")?$E:j}),C.map(function(H,z){var W=H.words.join(M?"":" ");return L.createElement("tspan",{x:G,dy:z===0?F:c,key:"".concat(W,"-").concat(z)},W)}))};function Gi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pV(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mw(t){let e,n,r;t.length!==2?(e=Gi,n=(c,f)=>Gi(t(c),f),r=(c,f)=>t(c)-f):(e=t===Gi||t===pV?t:hV,n=t,r=t);function i(c,f,d=0,p=c.length){if(d<p){if(e(f,f)!==0)return p;do{const h=d+p>>>1;n(c[h],f)<0?d=h+1:p=h}while(d<p)}return d}function a(c,f,d=0,p=c.length){if(d<p){if(e(f,f)!==0)return p;do{const h=d+p>>>1;n(c[h],f)<=0?d=h+1:p=h}while(d<p)}return d}function o(c,f,d=0,p=c.length){const h=i(c,f,d,p-1);return h>d&&r(c[h-1],f)>-r(c[h],f)?h-1:h}return{left:i,center:o,right:a}}function hV(){return 0}function lR(t){return t===null?NaN:+t}function*mV(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const gV=mw(Gi),Dc=gV.right;mw(lR).center;class FE extends Map{constructor(e,n=yV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(UE(this,e))}has(e){return super.has(UE(this,e))}set(e,n){return super.set(xV(this,e),n)}delete(e){return super.delete(vV(this,e))}}function UE({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function xV({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function vV({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function yV(t){return t!==null&&typeof t=="object"?t.valueOf():t}function bV(t=Gi){if(t===Gi)return cR;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function cR(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const wV=Math.sqrt(50),NV=Math.sqrt(10),SV=Math.sqrt(2);function Xd(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=wV?10:a>=NV?5:a>=SV?2:1;let c,f,d;return i<0?(d=Math.pow(10,-i)/o,c=Math.round(t*d),f=Math.round(e*d),c/d<t&&++c,f/d>e&&--f,d=-d):(d=Math.pow(10,i)*o,c=Math.round(t/d),f=Math.round(e/d),c*d<t&&++c,f*d>e&&--f),f<c&&.5<=n&&n<2?Xd(t,e,n*2):[c,f,d]}function Ey(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Xd(e,t,n):Xd(t,e,n);if(!(a>=i))return[];const c=a-i+1,f=new Array(c);if(r)if(o<0)for(let d=0;d<c;++d)f[d]=(a-d)/-o;else for(let d=0;d<c;++d)f[d]=(a-d)*o;else if(o<0)for(let d=0;d<c;++d)f[d]=(i+d)/-o;else for(let d=0;d<c;++d)f[d]=(i+d)*o;return f}function Cy(t,e,n){return e=+e,t=+t,n=+n,Xd(t,e,n)[2]}function Py(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Cy(e,t,n):Cy(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function BE(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function qE(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function uR(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?cR:bV(i);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,p=Math.log(f),h=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*h*(f-h)/f)*(d-f/2<0?-1:1),y=Math.max(n,Math.floor(e-d*h/f+g)),N=Math.min(r,Math.floor(e+(f-d)*h/f+g));uR(t,e,y,N,i)}const a=t[e];let o=n,c=r;for(bl(t,n,e),i(t[r],a)>0&&bl(t,n,r);o<c;){for(bl(t,o,c),++o,--c;i(t[o],a)<0;)++o;for(;i(t[c],a)>0;)--c}i(t[n],a)===0?bl(t,n,c):(++c,bl(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function bl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function _V(t,e,n){if(t=Float64Array.from(mV(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return qE(t);if(e>=1)return BE(t);var r,i=(r-1)*e,a=Math.floor(i),o=BE(uR(t,a).subarray(0,a+1)),c=qE(t.subarray(a+1));return o+(c-o)*(i-a)}}function jV(t,e,n=lR){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),c=+n(t[a+1],a+1,t);return o+(c-o)*(i-a)}}function kV(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function nr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function hi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Iy=Symbol("implicit");function gw(){var t=new FE,e=[],n=[],r=Iy;function i(a){let o=t.get(a);if(o===void 0){if(r!==Iy)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new FE;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return gw(e,n).unknown(r)},nr.apply(i,arguments),i}function ic(){var t=gw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,c=!1,f=0,d=0,p=.5;delete t.unknown;function h(){var g=e().length,y=i<r,N=y?i:r,S=y?r:i;a=(S-N)/Math.max(1,g-f+d*2),c&&(a=Math.floor(a)),N+=(S-N-a*(g-f))*p,o=a*(1-f),c&&(N=Math.round(N),o=Math.round(o));var w=kV(g).map(function(j){return N+a*j});return n(y?w.reverse():w)}return t.domain=function(g){return arguments.length?(e(g),h()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,c=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(g){return arguments.length?(c=!!g,h()):c},t.padding=function(g){return arguments.length?(f=Math.min(1,d=+g),h()):f},t.paddingInner=function(g){return arguments.length?(f=Math.min(1,g),h()):f},t.paddingOuter=function(g){return arguments.length?(d=+g,h()):d},t.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),h()):p},t.copy=function(){return ic(e(),[r,i]).round(c).paddingInner(f).paddingOuter(d).align(p)},nr.apply(h(),arguments)}function dR(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return dR(e())},t}function Fl(){return dR(ic.apply(null,arguments).paddingInner(1))}function xw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function fR(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Lc(){}var ac=.7,Zd=1/ac,Cs="\\s*([+-]?\\d+)\\s*",sc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Or="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AV=/^#([0-9a-f]{3,8})$/,TV=new RegExp(`^rgb\\(${Cs},${Cs},${Cs}\\)$`),EV=new RegExp(`^rgb\\(${Or},${Or},${Or}\\)$`),CV=new RegExp(`^rgba\\(${Cs},${Cs},${Cs},${sc}\\)$`),PV=new RegExp(`^rgba\\(${Or},${Or},${Or},${sc}\\)$`),IV=new RegExp(`^hsl\\(${sc},${Or},${Or}\\)$`),OV=new RegExp(`^hsla\\(${sc},${Or},${Or},${sc}\\)$`),GE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xw(Lc,oc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:HE,formatHex:HE,formatHex8:RV,formatHsl:MV,formatRgb:zE,toString:zE});function HE(){return this.rgb().formatHex()}function RV(){return this.rgb().formatHex8()}function MV(){return pR(this).formatHsl()}function zE(){return this.rgb().formatRgb()}function oc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=AV.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?VE(e):n===3?new _n(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?fd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?fd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=TV.exec(t))?new _n(e[1],e[2],e[3],1):(e=EV.exec(t))?new _n(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=CV.exec(t))?fd(e[1],e[2],e[3],e[4]):(e=PV.exec(t))?fd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=IV.exec(t))?YE(e[1],e[2]/100,e[3]/100,1):(e=OV.exec(t))?YE(e[1],e[2]/100,e[3]/100,e[4]):GE.hasOwnProperty(t)?VE(GE[t]):t==="transparent"?new _n(NaN,NaN,NaN,0):null}function VE(t){return new _n(t>>16&255,t>>8&255,t&255,1)}function fd(t,e,n,r){return r<=0&&(t=e=n=NaN),new _n(t,e,n,r)}function DV(t){return t instanceof Lc||(t=oc(t)),t?(t=t.rgb(),new _n(t.r,t.g,t.b,t.opacity)):new _n}function Oy(t,e,n,r){return arguments.length===1?DV(t):new _n(t,e,n,r??1)}function _n(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}xw(_n,Oy,fR(Lc,{brighter(t){return t=t==null?Zd:Math.pow(Zd,t),new _n(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ac:Math.pow(ac,t),new _n(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _n(Aa(this.r),Aa(this.g),Aa(this.b),Qd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WE,formatHex:WE,formatHex8:LV,formatRgb:KE,toString:KE}));function WE(){return`#${Sa(this.r)}${Sa(this.g)}${Sa(this.b)}`}function LV(){return`#${Sa(this.r)}${Sa(this.g)}${Sa(this.b)}${Sa((isNaN(this.opacity)?1:this.opacity)*255)}`}function KE(){const t=Qd(this.opacity);return`${t===1?"rgb(":"rgba("}${Aa(this.r)}, ${Aa(this.g)}, ${Aa(this.b)}${t===1?")":`, ${t})`}`}function Qd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Aa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Sa(t){return t=Aa(t),(t<16?"0":"")+t.toString(16)}function YE(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new mr(t,e,n,r)}function pR(t){if(t instanceof mr)return new mr(t.h,t.s,t.l,t.opacity);if(t instanceof Lc||(t=oc(t)),!t)return new mr;if(t instanceof mr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,c=a-i,f=(a+i)/2;return c?(e===a?o=(n-r)/c+(n<r)*6:n===a?o=(r-e)/c+2:o=(e-n)/c+4,c/=f<.5?a+i:2-a-i,o*=60):c=f>0&&f<1?0:o,new mr(o,c,f,t.opacity)}function $V(t,e,n,r){return arguments.length===1?pR(t):new mr(t,e,n,r??1)}function mr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}xw(mr,$V,fR(Lc,{brighter(t){return t=t==null?Zd:Math.pow(Zd,t),new mr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ac:Math.pow(ac,t),new mr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new _n(B0(t>=240?t-240:t+120,i,r),B0(t,i,r),B0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new mr(JE(this.h),pd(this.s),pd(this.l),Qd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qd(this.opacity);return`${t===1?"hsl(":"hsla("}${JE(this.h)}, ${pd(this.s)*100}%, ${pd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function JE(t){return t=(t||0)%360,t<0?t+360:t}function pd(t){return Math.max(0,Math.min(1,t||0))}function B0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const vw=t=>()=>t;function FV(t,e){return function(n){return t+n*e}}function UV(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function BV(t){return(t=+t)==1?hR:function(e,n){return n-e?UV(e,n,t):vw(isNaN(e)?n:e)}}function hR(t,e){var n=e-t;return n?FV(t,n):vw(isNaN(t)?e:t)}const XE=(function t(e){var n=BV(e);function r(i,a){var o=n((i=Oy(i)).r,(a=Oy(a)).r),c=n(i.g,a.g),f=n(i.b,a.b),d=hR(i.opacity,a.opacity);return function(p){return i.r=o(p),i.g=c(p),i.b=f(p),i.opacity=d(p),i+""}}return r.gamma=t,r})(1);function qV(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function GV(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function HV(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=wo(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(c){for(o=0;o<r;++o)a[o]=i[o](c);return a}}function zV(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ef(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function VV(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=wo(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Ry=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,q0=new RegExp(Ry.source,"g");function WV(t){return function(){return t}}function KV(t){return function(e){return t(e)+""}}function YV(t,e){var n=Ry.lastIndex=q0.lastIndex=0,r,i,a,o=-1,c=[],f=[];for(t=t+"",e=e+"";(r=Ry.exec(t))&&(i=q0.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),c[o]?c[o]+=a:c[++o]=a),(r=r[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,f.push({i:o,x:ef(r,i)})),n=q0.lastIndex;return n<e.length&&(a=e.slice(n),c[o]?c[o]+=a:c[++o]=a),c.length<2?f[0]?KV(f[0].x):WV(e):(e=f.length,function(d){for(var p=0,h;p<e;++p)c[(h=f[p]).i]=h.x(d);return c.join("")})}function wo(t,e){var n=typeof e,r;return e==null||n==="boolean"?vw(e):(n==="number"?ef:n==="string"?(r=oc(e))?(e=r,XE):YV:e instanceof oc?XE:e instanceof Date?zV:GV(e)?qV:Array.isArray(e)?HV:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?VV:ef)(t,e)}function yw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function JV(t,e){e===void 0&&(e=t,t=wo);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var c=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[c](o-c)}}function XV(t){return function(){return t}}function tf(t){return+t}var ZE=[0,1];function pn(t){return t}function My(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:XV(isNaN(e)?NaN:.5)}function ZV(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function QV(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=My(i,r),a=n(o,a)):(r=My(r,i),a=n(a,o)),function(c){return a(r(c))}}function eW(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=My(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(c){var f=Dc(t,c,1,r)-1;return a[f](i[f](c))}}function $c(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fp(){var t=ZE,e=ZE,n=wo,r,i,a,o=pn,c,f,d;function p(){var g=Math.min(t.length,e.length);return o!==pn&&(o=ZV(t[0],t[g-1])),c=g>2?eW:QV,f=d=null,h}function h(g){return g==null||isNaN(g=+g)?a:(f||(f=c(t.map(r),e,n)))(r(o(g)))}return h.invert=function(g){return o(i((d||(d=c(e,t.map(r),ef)))(g)))},h.domain=function(g){return arguments.length?(t=Array.from(g,tf),p()):t.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),p()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),n=yw,p()},h.clamp=function(g){return arguments.length?(o=g?!0:pn,p()):o!==pn},h.interpolate=function(g){return arguments.length?(n=g,p()):n},h.unknown=function(g){return arguments.length?(a=g,h):a},function(g,y){return r=g,i=y,p()}}function bw(){return fp()(pn,pn)}function tW(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function nf(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function qs(t){return t=nf(Math.abs(t)),t?t[1]:NaN}function nW(t,e){return function(n,r){for(var i=n.length,a=[],o=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),a.push(n.substring(i-=c,i+c)),!((f+=c+1)>r));)c=t[o=(o+1)%t.length];return a.reverse().join(e)}}function rW(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var iW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lc(t){if(!(e=iW.exec(t)))throw new Error("invalid format: "+t);var e;return new ww({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}lc.prototype=ww.prototype;function ww(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ww.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aW(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var rf;function sW(t,e){var n=nf(t,e);if(!n)return rf=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(rf=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+nf(t,Math.max(0,e+a-1))[0]}function QE(t,e){var n=nf(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const eC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:tW,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>QE(t*100,e),r:QE,s:sW,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function tC(t){return t}var nC=Array.prototype.map,rC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function oW(t){var e=t.grouping===void 0||t.thousands===void 0?tC:nW(nC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?tC:rW(nC.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(h,g){h=lc(h);var y=h.fill,N=h.align,S=h.sign,w=h.symbol,j=h.zero,T=h.width,C=h.comma,A=h.precision,E=h.trim,P=h.type;P==="n"?(C=!0,P="g"):eC[P]||(A===void 0&&(A=12),E=!0,P="g"),(j||y==="0"&&N==="=")&&(j=!0,y="0",N="=");var O=(g&&g.prefix!==void 0?g.prefix:"")+(w==="$"?n:w==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),M=(w==="$"?r:/[%p]/.test(P)?o:"")+(g&&g.suffix!==void 0?g.suffix:""),D=eC[P],G=/[defgprs%]/.test(P);A=A===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function B(F){var K=O,J=M,Z,H,z;if(P==="c")J=D(F)+J,F="";else{F=+F;var W=F<0||1/F<0;if(F=isNaN(F)?f:D(Math.abs(F),A),E&&(F=aW(F)),W&&+F==0&&S!=="+"&&(W=!1),K=(W?S==="("?S:c:S==="-"||S==="("?"":S)+K,J=(P==="s"&&!isNaN(F)&&rf!==void 0?rC[8+rf/3]:"")+J+(W&&S==="("?")":""),G){for(Z=-1,H=F.length;++Z<H;)if(z=F.charCodeAt(Z),48>z||z>57){J=(z===46?i+F.slice(Z+1):F.slice(Z))+J,F=F.slice(0,Z);break}}}C&&!j&&(F=e(F,1/0));var ee=K.length+F.length+J.length,ne=ee<T?new Array(T-ee+1).join(y):"";switch(C&&j&&(F=e(ne+F,ne.length?T-J.length:1/0),ne=""),N){case"<":F=K+F+J+ne;break;case"=":F=K+ne+F+J;break;case"^":F=ne.slice(0,ee=ne.length>>1)+K+F+J+ne.slice(ee);break;default:F=ne+K+F+J;break}return a(F)}return B.toString=function(){return h+""},B}function p(h,g){var y=Math.max(-8,Math.min(8,Math.floor(qs(g)/3)))*3,N=Math.pow(10,-y),S=d((h=lc(h),h.type="f",h),{suffix:rC[8+y/3]});return function(w){return S(N*w)}}return{format:d,formatPrefix:p}}var hd,Nw,mR;lW({thousands:",",grouping:[3],currency:["$",""]});function lW(t){return hd=oW(t),Nw=hd.format,mR=hd.formatPrefix,hd}function cW(t){return Math.max(0,-qs(Math.abs(t)))}function uW(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qs(e)/3)))*3-qs(Math.abs(t)))}function dW(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qs(e)-qs(t))+1}function gR(t,e,n,r){var i=Py(t,e,n),a;switch(r=lc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=uW(i,o))&&(r.precision=a),mR(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=dW(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=cW(i))&&(r.precision=a-(r.type==="%")*2);break}}return Nw(r)}function Xi(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ey(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return gR(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],c=r[a],f,d,p=10;for(c<o&&(d=o,o=c,c=d,d=i,i=a,a=d);p-- >0;){if(d=Cy(o,c,n),d===f)return r[i]=o,r[a]=c,e(r);if(d>0)o=Math.floor(o/d)*d,c=Math.ceil(c/d)*d;else if(d<0)o=Math.ceil(o*d)/d,c=Math.floor(c*d)/d;else break;f=d}return t},t}function af(){var t=bw();return t.copy=function(){return $c(t,af())},nr.apply(t,arguments),Xi(t)}function xR(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,tf),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return xR(t).unknown(e)},t=arguments.length?Array.from(t,tf):[0,1],Xi(n)}function vR(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function iC(t){return Math.log(t)}function aC(t){return Math.exp(t)}function fW(t){return-Math.log(-t)}function pW(t){return-Math.exp(-t)}function hW(t){return isFinite(t)?+("1e"+t):t<0?0:t}function mW(t){return t===10?hW:t===Math.E?Math.exp:e=>Math.pow(t,e)}function gW(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function sC(t){return(e,n)=>-t(-e,n)}function Sw(t){const e=t(iC,aC),n=e.domain;let r=10,i,a;function o(){return i=gW(r),a=mW(r),n()[0]<0?(i=sC(i),a=sC(a),t(fW,pW)):t(iC,aC),e}return e.base=function(c){return arguments.length?(r=+c,o()):r},e.domain=function(c){return arguments.length?(n(c),o()):n()},e.ticks=c=>{const f=n();let d=f[0],p=f[f.length-1];const h=p<d;h&&([d,p]=[p,d]);let g=i(d),y=i(p),N,S;const w=c==null?10:+c;let j=[];if(!(r%1)&&y-g<w){if(g=Math.floor(g),y=Math.ceil(y),d>0){for(;g<=y;++g)for(N=1;N<r;++N)if(S=g<0?N/a(-g):N*a(g),!(S<d)){if(S>p)break;j.push(S)}}else for(;g<=y;++g)for(N=r-1;N>=1;--N)if(S=g>0?N/a(-g):N*a(g),!(S<d)){if(S>p)break;j.push(S)}j.length*2<w&&(j=Ey(d,p,w))}else j=Ey(g,y,Math.min(y-g,w)).map(a);return h?j.reverse():j},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=lc(f)).precision==null&&(f.trim=!0),f=Nw(f)),c===1/0)return f;const d=Math.max(1,r*c/e.ticks().length);return p=>{let h=p/a(Math.round(i(p)));return h*r<r-.5&&(h*=r),h<=d?f(p):""}},e.nice=()=>n(vR(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function yR(){const t=Sw(fp()).domain([1,10]);return t.copy=()=>$c(t,yR()).base(t.base()),nr.apply(t,arguments),t}function oC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function lC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function _w(t){var e=1,n=t(oC(e),lC(e));return n.constant=function(r){return arguments.length?t(oC(e=+r),lC(e)):e},Xi(n)}function bR(){var t=_w(fp());return t.copy=function(){return $c(t,bR()).constant(t.constant())},nr.apply(t,arguments)}function cC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function xW(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function vW(t){return t<0?-t*t:t*t}function jw(t){var e=t(pn,pn),n=1;function r(){return n===1?t(pn,pn):n===.5?t(xW,vW):t(cC(n),cC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Xi(e)}function kw(){var t=jw(fp());return t.copy=function(){return $c(t,kw()).exponent(t.exponent())},nr.apply(t,arguments),t}function yW(){return kw.apply(null,arguments).exponent(.5)}function uC(t){return Math.sign(t)*t*t}function bW(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function wR(){var t=bw(),e=[0,1],n=!1,r;function i(a){var o=bW(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(uC(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,tf)).map(uC)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return wR(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},nr.apply(i,arguments),Xi(i)}function NR(){var t=[],e=[],n=[],r;function i(){var o=0,c=Math.max(1,e.length);for(n=new Array(c-1);++o<c;)n[o-1]=jV(t,o/c);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Dc(n,o)]}return a.invertExtent=function(o){var c=e.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let c of o)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Gi),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return NR().domain(t).range(e).unknown(r)},nr.apply(a,arguments)}function SR(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(f){return f!=null&&f<=f?i[Dc(r,f,0,n)]:a}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return o}return o.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,c()):[t,e]},o.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,c()):i.slice()},o.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},o.unknown=function(f){return arguments.length&&(a=f),o},o.thresholds=function(){return r.slice()},o.copy=function(){return SR().domain([t,e]).range(i).unknown(a)},nr.apply(Xi(o),arguments)}function _R(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Dc(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return _R().domain(t).range(e).unknown(n)},nr.apply(i,arguments)}const G0=new Date,H0=new Date;function Ft(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),c=i.ceil(a);return a-o<c-a?o:c},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,c)=>{const f=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<o)||!(c>0))return f;let d;do f.push(d=new Date(+a)),e(a,c),t(a);while(d<a&&a<o);return f},i.filter=a=>Ft(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;e(o,-1),!a(o););else for(;--c>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(G0.setTime(+a),H0.setTime(+o),t(G0),t(H0),Math.floor(n(G0,H0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const sf=Ft(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);sf.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ft(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):sf);sf.range;const Xr=1e3,Yn=Xr*60,Zr=Yn*60,ii=Zr*24,Aw=ii*7,dC=ii*30,z0=ii*365,_a=Ft(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Xr)},(t,e)=>(e-t)/Xr,t=>t.getUTCSeconds());_a.range;const Tw=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xr)},(t,e)=>{t.setTime(+t+e*Yn)},(t,e)=>(e-t)/Yn,t=>t.getMinutes());Tw.range;const Ew=Ft(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Yn)},(t,e)=>(e-t)/Yn,t=>t.getUTCMinutes());Ew.range;const Cw=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xr-t.getMinutes()*Yn)},(t,e)=>{t.setTime(+t+e*Zr)},(t,e)=>(e-t)/Zr,t=>t.getHours());Cw.range;const Pw=Ft(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Zr)},(t,e)=>(e-t)/Zr,t=>t.getUTCHours());Pw.range;const Fc=Ft(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Yn)/ii,t=>t.getDate()-1);Fc.range;const pp=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ii,t=>t.getUTCDate()-1);pp.range;const jR=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ii,t=>Math.floor(t/ii));jR.range;function $a(t){return Ft(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Yn)/Aw)}const hp=$a(0),of=$a(1),wW=$a(2),NW=$a(3),Gs=$a(4),SW=$a(5),_W=$a(6);hp.range;of.range;wW.range;NW.range;Gs.range;SW.range;_W.range;function Fa(t){return Ft(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Aw)}const mp=Fa(0),lf=Fa(1),jW=Fa(2),kW=Fa(3),Hs=Fa(4),AW=Fa(5),TW=Fa(6);mp.range;lf.range;jW.range;kW.range;Hs.range;AW.range;TW.range;const Iw=Ft(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Iw.range;const Ow=Ft(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ow.range;const ai=Ft(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ai.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ai.range;const si=Ft(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());si.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});si.range;function kR(t,e,n,r,i,a){const o=[[_a,1,Xr],[_a,5,5*Xr],[_a,15,15*Xr],[_a,30,30*Xr],[a,1,Yn],[a,5,5*Yn],[a,15,15*Yn],[a,30,30*Yn],[i,1,Zr],[i,3,3*Zr],[i,6,6*Zr],[i,12,12*Zr],[r,1,ii],[r,2,2*ii],[n,1,Aw],[e,1,dC],[e,3,3*dC],[t,1,z0]];function c(d,p,h){const g=p<d;g&&([d,p]=[p,d]);const y=h&&typeof h.range=="function"?h:f(d,p,h),N=y?y.range(d,+p+1):[];return g?N.reverse():N}function f(d,p,h){const g=Math.abs(p-d)/h,y=mw(([,,w])=>w).right(o,g);if(y===o.length)return t.every(Py(d/z0,p/z0,h));if(y===0)return sf.every(Math.max(Py(d,p,h),1));const[N,S]=o[g/o[y-1][2]<o[y][2]/g?y-1:y];return N.every(S)}return[c,f]}const[EW,CW]=kR(si,Ow,mp,jR,Pw,Ew),[PW,IW]=kR(ai,Iw,hp,Fc,Cw,Tw);function V0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function W0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function wl(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function OW(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,c=t.months,f=t.shortMonths,d=Nl(i),p=Sl(i),h=Nl(a),g=Sl(a),y=Nl(o),N=Sl(o),S=Nl(c),w=Sl(c),j=Nl(f),T=Sl(f),C={a:z,A:W,b:ee,B:ne,c:null,d:xC,e:xC,f:nK,g:fK,G:hK,H:QW,I:eK,j:tK,L:AR,m:rK,M:iK,p:U,q:Y,Q:bC,s:wC,S:aK,u:sK,U:oK,V:lK,w:cK,W:uK,x:null,X:null,y:dK,Y:pK,Z:mK,"%":yC},A={a:ue,A:ye,b:Ce,B:De,c:null,d:vC,e:vC,f:yK,g:EK,G:PK,H:gK,I:xK,j:vK,L:ER,m:bK,M:wK,p:Ve,q:Fe,Q:bC,s:wC,S:NK,u:SK,U:_K,V:jK,w:kK,W:AK,x:null,X:null,y:TK,Y:CK,Z:IK,"%":yC},E={a:G,A:B,b:F,B:K,c:J,d:mC,e:mC,f:YW,g:hC,G:pC,H:gC,I:gC,j:zW,L:KW,m:HW,M:VW,p:D,q:GW,Q:XW,s:ZW,S:WW,u:$W,U:FW,V:UW,w:LW,W:BW,x:Z,X:H,y:hC,Y:pC,Z:qW,"%":JW};C.x=P(n,C),C.X=P(r,C),C.c=P(e,C),A.x=P(n,A),A.X=P(r,A),A.c=P(e,A);function P(le,Ae){return function(Ue){var se=[],at=-1,ze=0,wt=le.length,Nt,Ut,rr;for(Ue instanceof Date||(Ue=new Date(+Ue));++at<wt;)le.charCodeAt(at)===37&&(se.push(le.slice(ze,at)),(Ut=fC[Nt=le.charAt(++at)])!=null?Nt=le.charAt(++at):Ut=Nt==="e"?" ":"0",(rr=Ae[Nt])&&(Nt=rr(Ue,Ut)),se.push(Nt),ze=at+1);return se.push(le.slice(ze,at)),se.join("")}}function O(le,Ae){return function(Ue){var se=wl(1900,void 0,1),at=M(se,le,Ue+="",0),ze,wt;if(at!=Ue.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(Ae&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(ze=W0(wl(se.y,0,1)),wt=ze.getUTCDay(),ze=wt>4||wt===0?lf.ceil(ze):lf(ze),ze=pp.offset(ze,(se.V-1)*7),se.y=ze.getUTCFullYear(),se.m=ze.getUTCMonth(),se.d=ze.getUTCDate()+(se.w+6)%7):(ze=V0(wl(se.y,0,1)),wt=ze.getDay(),ze=wt>4||wt===0?of.ceil(ze):of(ze),ze=Fc.offset(ze,(se.V-1)*7),se.y=ze.getFullYear(),se.m=ze.getMonth(),se.d=ze.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),wt="Z"in se?W0(wl(se.y,0,1)).getUTCDay():V0(wl(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(wt+5)%7:se.w+se.U*7-(wt+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,W0(se)):V0(se)}}function M(le,Ae,Ue,se){for(var at=0,ze=Ae.length,wt=Ue.length,Nt,Ut;at<ze;){if(se>=wt)return-1;if(Nt=Ae.charCodeAt(at++),Nt===37){if(Nt=Ae.charAt(at++),Ut=E[Nt in fC?Ae.charAt(at++):Nt],!Ut||(se=Ut(le,Ue,se))<0)return-1}else if(Nt!=Ue.charCodeAt(se++))return-1}return se}function D(le,Ae,Ue){var se=d.exec(Ae.slice(Ue));return se?(le.p=p.get(se[0].toLowerCase()),Ue+se[0].length):-1}function G(le,Ae,Ue){var se=y.exec(Ae.slice(Ue));return se?(le.w=N.get(se[0].toLowerCase()),Ue+se[0].length):-1}function B(le,Ae,Ue){var se=h.exec(Ae.slice(Ue));return se?(le.w=g.get(se[0].toLowerCase()),Ue+se[0].length):-1}function F(le,Ae,Ue){var se=j.exec(Ae.slice(Ue));return se?(le.m=T.get(se[0].toLowerCase()),Ue+se[0].length):-1}function K(le,Ae,Ue){var se=S.exec(Ae.slice(Ue));return se?(le.m=w.get(se[0].toLowerCase()),Ue+se[0].length):-1}function J(le,Ae,Ue){return M(le,e,Ae,Ue)}function Z(le,Ae,Ue){return M(le,n,Ae,Ue)}function H(le,Ae,Ue){return M(le,r,Ae,Ue)}function z(le){return o[le.getDay()]}function W(le){return a[le.getDay()]}function ee(le){return f[le.getMonth()]}function ne(le){return c[le.getMonth()]}function U(le){return i[+(le.getHours()>=12)]}function Y(le){return 1+~~(le.getMonth()/3)}function ue(le){return o[le.getUTCDay()]}function ye(le){return a[le.getUTCDay()]}function Ce(le){return f[le.getUTCMonth()]}function De(le){return c[le.getUTCMonth()]}function Ve(le){return i[+(le.getUTCHours()>=12)]}function Fe(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var Ae=P(le+="",C);return Ae.toString=function(){return le},Ae},parse:function(le){var Ae=O(le+="",!1);return Ae.toString=function(){return le},Ae},utcFormat:function(le){var Ae=P(le+="",A);return Ae.toString=function(){return le},Ae},utcParse:function(le){var Ae=O(le+="",!0);return Ae.toString=function(){return le},Ae}}}var fC={"-":"",_:" ",0:"0"},Wt=/^\s*\d+/,RW=/^%/,MW=/[\\^$*+?|[\]().{}]/g;function Ze(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function DW(t){return t.replace(MW,"\\$&")}function Nl(t){return new RegExp("^(?:"+t.map(DW).join("|")+")","i")}function Sl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function LW(t,e,n){var r=Wt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function $W(t,e,n){var r=Wt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function FW(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function UW(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function BW(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function pC(t,e,n){var r=Wt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function hC(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qW(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function GW(t,e,n){var r=Wt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function HW(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function mC(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function zW(t,e,n){var r=Wt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function gC(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function VW(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function WW(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function KW(t,e,n){var r=Wt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function YW(t,e,n){var r=Wt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function JW(t,e,n){var r=RW.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function XW(t,e,n){var r=Wt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ZW(t,e,n){var r=Wt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function xC(t,e){return Ze(t.getDate(),e,2)}function QW(t,e){return Ze(t.getHours(),e,2)}function eK(t,e){return Ze(t.getHours()%12||12,e,2)}function tK(t,e){return Ze(1+Fc.count(ai(t),t),e,3)}function AR(t,e){return Ze(t.getMilliseconds(),e,3)}function nK(t,e){return AR(t,e)+"000"}function rK(t,e){return Ze(t.getMonth()+1,e,2)}function iK(t,e){return Ze(t.getMinutes(),e,2)}function aK(t,e){return Ze(t.getSeconds(),e,2)}function sK(t){var e=t.getDay();return e===0?7:e}function oK(t,e){return Ze(hp.count(ai(t)-1,t),e,2)}function TR(t){var e=t.getDay();return e>=4||e===0?Gs(t):Gs.ceil(t)}function lK(t,e){return t=TR(t),Ze(Gs.count(ai(t),t)+(ai(t).getDay()===4),e,2)}function cK(t){return t.getDay()}function uK(t,e){return Ze(of.count(ai(t)-1,t),e,2)}function dK(t,e){return Ze(t.getFullYear()%100,e,2)}function fK(t,e){return t=TR(t),Ze(t.getFullYear()%100,e,2)}function pK(t,e){return Ze(t.getFullYear()%1e4,e,4)}function hK(t,e){var n=t.getDay();return t=n>=4||n===0?Gs(t):Gs.ceil(t),Ze(t.getFullYear()%1e4,e,4)}function mK(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ze(e/60|0,"0",2)+Ze(e%60,"0",2)}function vC(t,e){return Ze(t.getUTCDate(),e,2)}function gK(t,e){return Ze(t.getUTCHours(),e,2)}function xK(t,e){return Ze(t.getUTCHours()%12||12,e,2)}function vK(t,e){return Ze(1+pp.count(si(t),t),e,3)}function ER(t,e){return Ze(t.getUTCMilliseconds(),e,3)}function yK(t,e){return ER(t,e)+"000"}function bK(t,e){return Ze(t.getUTCMonth()+1,e,2)}function wK(t,e){return Ze(t.getUTCMinutes(),e,2)}function NK(t,e){return Ze(t.getUTCSeconds(),e,2)}function SK(t){var e=t.getUTCDay();return e===0?7:e}function _K(t,e){return Ze(mp.count(si(t)-1,t),e,2)}function CR(t){var e=t.getUTCDay();return e>=4||e===0?Hs(t):Hs.ceil(t)}function jK(t,e){return t=CR(t),Ze(Hs.count(si(t),t)+(si(t).getUTCDay()===4),e,2)}function kK(t){return t.getUTCDay()}function AK(t,e){return Ze(lf.count(si(t)-1,t),e,2)}function TK(t,e){return Ze(t.getUTCFullYear()%100,e,2)}function EK(t,e){return t=CR(t),Ze(t.getUTCFullYear()%100,e,2)}function CK(t,e){return Ze(t.getUTCFullYear()%1e4,e,4)}function PK(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Hs(t):Hs.ceil(t),Ze(t.getUTCFullYear()%1e4,e,4)}function IK(){return"+0000"}function yC(){return"%"}function bC(t){return+t}function wC(t){return Math.floor(+t/1e3)}var hs,PR,IR;OK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function OK(t){return hs=OW(t),PR=hs.format,hs.parse,IR=hs.utcFormat,hs.utcParse,hs}function RK(t){return new Date(t)}function MK(t){return t instanceof Date?+t:+new Date(+t)}function Rw(t,e,n,r,i,a,o,c,f,d){var p=bw(),h=p.invert,g=p.domain,y=d(".%L"),N=d(":%S"),S=d("%I:%M"),w=d("%I %p"),j=d("%a %d"),T=d("%b %d"),C=d("%B"),A=d("%Y");function E(P){return(f(P)<P?y:c(P)<P?N:o(P)<P?S:a(P)<P?w:r(P)<P?i(P)<P?j:T:n(P)<P?C:A)(P)}return p.invert=function(P){return new Date(h(P))},p.domain=function(P){return arguments.length?g(Array.from(P,MK)):g().map(RK)},p.ticks=function(P){var O=g();return t(O[0],O[O.length-1],P??10)},p.tickFormat=function(P,O){return O==null?E:d(O)},p.nice=function(P){var O=g();return(!P||typeof P.range!="function")&&(P=e(O[0],O[O.length-1],P??10)),P?g(vR(O,P)):p},p.copy=function(){return $c(p,Rw(t,e,n,r,i,a,o,c,f,d))},p}function DK(){return nr.apply(Rw(PW,IW,ai,Iw,hp,Fc,Cw,Tw,_a,PR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LK(){return nr.apply(Rw(EW,CW,si,Ow,mp,pp,Pw,Ew,_a,IR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gp(){var t=0,e=1,n,r,i,a,o=pn,c=!1,f;function d(h){return h==null||isNaN(h=+h)?f:o(i===0?.5:(h=(a(h)-n)*i,c?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(h){return arguments.length?(c=!!h,d):c},d.interpolator=function(h){return arguments.length?(o=h,d):o};function p(h){return function(g){var y,N;return arguments.length?([y,N]=g,o=h(y,N),d):[o(0),o(1)]}}return d.range=p(wo),d.rangeRound=p(yw),d.unknown=function(h){return arguments.length?(f=h,d):f},function(h){return a=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),d}}function Zi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function OR(){var t=Xi(gp()(pn));return t.copy=function(){return Zi(t,OR())},hi.apply(t,arguments)}function RR(){var t=Sw(gp()).domain([1,10]);return t.copy=function(){return Zi(t,RR()).base(t.base())},hi.apply(t,arguments)}function MR(){var t=_w(gp());return t.copy=function(){return Zi(t,MR()).constant(t.constant())},hi.apply(t,arguments)}function Mw(){var t=jw(gp());return t.copy=function(){return Zi(t,Mw()).exponent(t.exponent())},hi.apply(t,arguments)}function $K(){return Mw.apply(null,arguments).exponent(.5)}function DR(){var t=[],e=pn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Dc(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Gi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>_V(t,a/r))},n.copy=function(){return DR(e).domain(t)},hi.apply(n,arguments)}function xp(){var t=0,e=.5,n=1,r=1,i,a,o,c,f,d=pn,p,h=!1,g;function y(S){return isNaN(S=+S)?g:(S=.5+((S=+p(S))-a)*(r*S<r*a?c:f),d(h?Math.max(0,Math.min(1,S)):S))}y.domain=function(S){return arguments.length?([t,e,n]=S,i=p(t=+t),a=p(e=+e),o=p(n=+n),c=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,y):[t,e,n]},y.clamp=function(S){return arguments.length?(h=!!S,y):h},y.interpolator=function(S){return arguments.length?(d=S,y):d};function N(S){return function(w){var j,T,C;return arguments.length?([j,T,C]=w,d=JV(S,[j,T,C]),y):[d(0),d(.5),d(1)]}}return y.range=N(wo),y.rangeRound=N(yw),y.unknown=function(S){return arguments.length?(g=S,y):g},function(S){return p=S,i=S(t),a=S(e),o=S(n),c=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,y}}function LR(){var t=Xi(xp()(pn));return t.copy=function(){return Zi(t,LR())},hi.apply(t,arguments)}function $R(){var t=Sw(xp()).domain([.1,1,10]);return t.copy=function(){return Zi(t,$R()).base(t.base())},hi.apply(t,arguments)}function FR(){var t=_w(xp());return t.copy=function(){return Zi(t,FR()).constant(t.constant())},hi.apply(t,arguments)}function Dw(){var t=jw(xp());return t.copy=function(){return Zi(t,Dw()).exponent(t.exponent())},hi.apply(t,arguments)}function FK(){return Dw.apply(null,arguments).exponent(.5)}const NC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ic,scaleDiverging:LR,scaleDivergingLog:$R,scaleDivergingPow:Dw,scaleDivergingSqrt:FK,scaleDivergingSymlog:FR,scaleIdentity:xR,scaleImplicit:Iy,scaleLinear:af,scaleLog:yR,scaleOrdinal:gw,scalePoint:Fl,scalePow:kw,scaleQuantile:NR,scaleQuantize:SR,scaleRadial:wR,scaleSequential:OR,scaleSequentialLog:RR,scaleSequentialPow:Mw,scaleSequentialQuantile:DR,scaleSequentialSqrt:$K,scaleSequentialSymlog:MR,scaleSqrt:yW,scaleSymlog:bR,scaleThreshold:_R,scaleTime:DK,scaleUtc:LK,tickFormat:gR},Symbol.toStringTag,{value:"Module"}));var K0,SC;function vp(){if(SC)return K0;SC=1;var t=xo();function e(n,r,i){for(var a=-1,o=n.length;++a<o;){var c=n[a],f=r(c);if(f!=null&&(d===void 0?f===f&&!t(f):i(f,d)))var d=f,p=c}return p}return K0=e,K0}var Y0,_C;function UR(){if(_C)return Y0;_C=1;function t(e,n){return e>n}return Y0=t,Y0}var J0,jC;function UK(){if(jC)return J0;jC=1;var t=vp(),e=UR(),n=bo();function r(i){return i&&i.length?t(i,n,e):void 0}return J0=r,J0}var BK=UK();const Fi=et(BK);var X0,kC;function BR(){if(kC)return X0;kC=1;function t(e,n){return e<n}return X0=t,X0}var Z0,AC;function qK(){if(AC)return Z0;AC=1;var t=vp(),e=BR(),n=bo();function r(i){return i&&i.length?t(i,n,e):void 0}return Z0=r,Z0}var GK=qK();const yp=et(GK);var Q0,TC;function HK(){if(TC)return Q0;TC=1;var t=Qb(),e=$r(),n=JO(),r=jn();function i(a,o){var c=r(a)?t:n;return c(a,e(o,3))}return Q0=i,Q0}var ev,EC;function zK(){if(EC)return ev;EC=1;var t=KO(),e=HK();function n(r,i){return t(e(r,i),1)}return ev=n,ev}var VK=zK();const WK=et(VK);var tv,CC;function KK(){if(CC)return tv;CC=1;var t=dw();function e(n,r){return t(n,r)}return tv=e,tv}var YK=KK();const oi=et(YK);var No=1e9,JK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$w,xt=!0,Qn="[DecimalError] ",Ta=Qn+"Invalid argument: ",Lw=Qn+"Exponent out of range: ",So=Math.floor,ba=Math.pow,XK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,On,Ht=1e7,ht=7,qR=9007199254740991,cf=So(qR/ht),we={};we.absoluteValue=we.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};we.comparedTo=we.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};we.decimalPlaces=we.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ht;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};we.dividedBy=we.div=function(t){return ti(this,new this.constructor(t))};we.dividedToIntegerBy=we.idiv=function(t){var e=this,n=e.constructor;return lt(ti(e,new n(t),0,1),n.precision)};we.equals=we.eq=function(t){return!this.cmp(t)};we.exponent=function(){return Ct(this)};we.greaterThan=we.gt=function(t){return this.cmp(t)>0};we.greaterThanOrEqualTo=we.gte=function(t){return this.cmp(t)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(t){return this.cmp(t)<0};we.lessThanOrEqualTo=we.lte=function(t){return this.cmp(t)<1};we.logarithm=we.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(On))throw Error(Qn+"NaN");if(n.s<1)throw Error(Qn+(n.s?"NaN":"-Infinity"));return n.eq(On)?new r(0):(xt=!1,e=ti(cc(n,a),cc(t,a),a),xt=!0,lt(e,i))};we.minus=we.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zR(e,t):GR(e,(t.s=-t.s,t))};we.modulo=we.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Qn+"NaN");return n.s?(xt=!1,e=ti(n,t,0,1).times(t),xt=!0,n.minus(e)):lt(new r(n),i)};we.naturalExponential=we.exp=function(){return HR(this)};we.naturalLogarithm=we.ln=function(){return cc(this)};we.negated=we.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};we.plus=we.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?GR(e,t):zR(e,(t.s=-t.s,t))};we.precision=we.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ta+t);if(e=Ct(i)+1,r=i.d.length-1,n=r*ht+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};we.squareRoot=we.sqrt=function(){var t,e,n,r,i,a,o,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(Qn+"NaN")}for(t=Ct(c),xt=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Er(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=So((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=o=n+3;;)if(a=r,r=a.plus(ti(c,a,o+2)).times(.5),Er(a.d).slice(0,o)===(e=Er(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(lt(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(e!="9999")break;o+=4}return xt=!0,lt(r,n)};we.times=we.mul=function(t){var e,n,r,i,a,o,c,f,d,p=this,h=p.constructor,g=p.d,y=(t=new h(t)).d;if(!p.s||!t.s)return new h(0);for(t.s*=p.s,n=p.e+t.e,f=g.length,d=y.length,f<d&&(a=g,g=y,y=a,o=f,f=d,d=o),a=[],o=f+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=f+r;i>r;)c=a[i]+y[r]*g[i-r-1]+e,a[i--]=c%Ht|0,e=c/Ht|0;a[i]=(a[i]+e)%Ht|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,xt?lt(t,h.precision):t};we.toDecimalPlaces=we.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Dr(t,0,No),e===void 0?e=r.rounding:Dr(e,0,8),lt(n,t+Ct(n)+1,e))};we.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ia(r,!0):(Dr(t,0,No),e===void 0?e=i.rounding:Dr(e,0,8),r=lt(new i(r),t+1,e),n=Ia(r,!0,t+1)),n};we.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Ia(i):(Dr(t,0,No),e===void 0?e=a.rounding:Dr(e,0,8),r=lt(new a(i),t+Ct(i)+1,e),n=Ia(r.abs(),!1,t+Ct(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};we.toInteger=we.toint=function(){var t=this,e=t.constructor;return lt(new e(t),Ct(t)+1,e.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(t){var e,n,r,i,a,o,c=this,f=c.constructor,d=12,p=+(t=new f(t));if(!t.s)return new f(On);if(c=new f(c),!c.s){if(t.s<1)throw Error(Qn+"Infinity");return c}if(c.eq(On))return c;if(r=f.precision,t.eq(On))return lt(c,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=c.s,o){if((n=p<0?-p:p)<=qR){for(i=new f(On),e=Math.ceil(r/ht+4),xt=!1;n%2&&(i=i.times(c),IC(i.d,e)),n=So(n/2),n!==0;)c=c.times(c),IC(c.d,e);return xt=!0,t.s<0?new f(On).div(i):lt(i,r)}}else if(a<0)throw Error(Qn+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,xt=!1,i=t.times(cc(c,r+d)),xt=!0,i=HR(i),i.s=a,i};we.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Ct(i),r=Ia(i,n<=a.toExpNeg||n>=a.toExpPos)):(Dr(t,1,No),e===void 0?e=a.rounding:Dr(e,0,8),i=lt(new a(i),t,e),n=Ct(i),r=Ia(i,t<=n||n<=a.toExpNeg,t)),r};we.toSignificantDigits=we.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Dr(t,1,No),e===void 0?e=r.rounding:Dr(e,0,8)),lt(new r(n),t,e)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ct(t),n=t.constructor;return Ia(t,e<=n.toExpNeg||e>=n.toExpPos)};function GR(t,e){var n,r,i,a,o,c,f,d,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),xt?lt(e,h):e;if(f=t.d,d=e.d,o=t.e,i=e.e,f=f.slice(),a=o-i,a){for(a<0?(r=f,a=-a,c=d.length):(r=d,i=o,c=f.length),o=Math.ceil(h/ht),c=o>c?o+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=f.length,a=d.length,c-a<0&&(a=c,r=d,d=f,f=r),n=0;a;)n=(f[--a]=f[a]+d[a]+n)/Ht|0,f[a]%=Ht;for(n&&(f.unshift(n),++i),c=f.length;f[--c]==0;)f.pop();return e.d=f,e.e=i,xt?lt(e,h):e}function Dr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ta+t)}function Er(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=ht-r.length,n&&(a+=Di(n)),a+=r;o=t[e],r=o+"",n=ht-r.length,n&&(a+=Di(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ti=(function(){function t(r,i){var a,o=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+o,r[c]=a%Ht|0,o=a/Ht|0;return o&&r.unshift(o),r}function e(r,i,a,o){var c,f;if(a!=o)f=a>o?1:-1;else for(c=f=0;c<a;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Ht+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var c,f,d,p,h,g,y,N,S,w,j,T,C,A,E,P,O,M,D=r.constructor,G=r.s==i.s?1:-1,B=r.d,F=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(Qn+"Division by zero");for(f=r.e-i.e,O=F.length,E=B.length,y=new D(G),N=y.d=[],d=0;F[d]==(B[d]||0);)++d;if(F[d]>(B[d]||0)&&--f,a==null?T=a=D.precision:o?T=a+(Ct(r)-Ct(i))+1:T=a,T<0)return new D(0);if(T=T/ht+2|0,d=0,O==1)for(p=0,F=F[0],T++;(d<E||p)&&T--;d++)C=p*Ht+(B[d]||0),N[d]=C/F|0,p=C%F|0;else{for(p=Ht/(F[0]+1)|0,p>1&&(F=t(F,p),B=t(B,p),O=F.length,E=B.length),A=O,S=B.slice(0,O),w=S.length;w<O;)S[w++]=0;M=F.slice(),M.unshift(0),P=F[0],F[1]>=Ht/2&&++P;do p=0,c=e(F,S,O,w),c<0?(j=S[0],O!=w&&(j=j*Ht+(S[1]||0)),p=j/P|0,p>1?(p>=Ht&&(p=Ht-1),h=t(F,p),g=h.length,w=S.length,c=e(h,S,g,w),c==1&&(p--,n(h,O<g?M:F,g))):(p==0&&(c=p=1),h=F.slice()),g=h.length,g<w&&h.unshift(0),n(S,h,w),c==-1&&(w=S.length,c=e(F,S,O,w),c<1&&(p++,n(S,O<w?M:F,w))),w=S.length):c===0&&(p++,S=[0]),N[d++]=p,c&&S[0]?S[w++]=B[A]||0:(S=[B[A]],w=1);while((A++<E||S[0]!==void 0)&&T--)}return N[0]||N.shift(),y.e=f,lt(y,o?a+Ct(y)+1:a)}})();function HR(t,e){var n,r,i,a,o,c,f=0,d=0,p=t.constructor,h=p.precision;if(Ct(t)>16)throw Error(Lw+Ct(t));if(!t.s)return new p(On);for(xt=!1,c=h,o=new p(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(r=Math.log(ba(2,d))/Math.LN10*2+5|0,c+=r,n=i=a=new p(On),p.precision=c;;){if(i=lt(i.times(t),c),n=n.times(++f),o=a.plus(ti(i,n,c)),Er(o.d).slice(0,c)===Er(a.d).slice(0,c)){for(;d--;)a=lt(a.times(a),c);return p.precision=h,e==null?(xt=!0,lt(a,h)):a}a=o}}function Ct(t){for(var e=t.e*ht,n=t.d[0];n>=10;n/=10)e++;return e}function nv(t,e,n){if(e>t.LN10.sd())throw xt=!0,n&&(t.precision=n),Error(Qn+"LN10 precision limit exceeded");return lt(new t(t.LN10),e)}function Di(t){for(var e="";t--;)e+="0";return e}function cc(t,e){var n,r,i,a,o,c,f,d,p,h=1,g=10,y=t,N=y.d,S=y.constructor,w=S.precision;if(y.s<1)throw Error(Qn+(y.s?"NaN":"-Infinity"));if(y.eq(On))return new S(0);if(e==null?(xt=!1,d=w):d=e,y.eq(10))return e==null&&(xt=!0),nv(S,d);if(d+=g,S.precision=d,n=Er(N),r=n.charAt(0),a=Ct(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Er(y.d),r=n.charAt(0),h++;a=Ct(y),r>1?(y=new S("0."+n),a++):y=new S(r+"."+n.slice(1))}else return f=nv(S,d+2,w).times(a+""),y=cc(new S(r+"."+n.slice(1)),d-g).plus(f),S.precision=w,e==null?(xt=!0,lt(y,w)):y;for(c=o=y=ti(y.minus(On),y.plus(On),d),p=lt(y.times(y),d),i=3;;){if(o=lt(o.times(p),d),f=c.plus(ti(o,new S(i),d)),Er(f.d).slice(0,d)===Er(c.d).slice(0,d))return c=c.times(2),a!==0&&(c=c.plus(nv(S,d+2,w).times(a+""))),c=ti(c,new S(h),d),S.precision=w,e==null?(xt=!0,lt(c,w)):c;c=f,i+=2}}function PC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=So(n/ht),t.d=[],r=(n+1)%ht,n<0&&(r+=ht),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ht;r<i;)t.d.push(+e.slice(r,r+=ht));e=e.slice(r),r=ht-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),xt&&(t.e>cf||t.e<-cf))throw Error(Lw+n)}else t.s=0,t.e=0,t.d=[0];return t}function lt(t,e,n){var r,i,a,o,c,f,d,p,h=t.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=ht,i=e,d=h[p=0];else{if(p=Math.ceil((r+1)/ht),a=h.length,p>=a)return t;for(d=a=h[p],o=1;a>=10;a/=10)o++;r%=ht,i=r-ht+o}if(n!==void 0&&(a=ba(10,o-i-1),c=d/a%10|0,f=e<0||h[p+1]!==void 0||d%a,f=n<4?(c||f)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(r>0?i>0?d/ba(10,o-i):0:h[p-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return f?(a=Ct(t),h.length=1,e=e-a-1,h[0]=ba(10,(ht-e%ht)%ht),t.e=So(-e/ht)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=p,a=1,p--):(h.length=p+1,a=ba(10,ht-r),h[p]=i>0?(d/ba(10,o-i)%ba(10,i)|0)*a:0),f)for(;;)if(p==0){(h[0]+=a)==Ht&&(h[0]=1,++t.e);break}else{if(h[p]+=a,h[p]!=Ht)break;h[p--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(xt&&(t.e>cf||t.e<-cf))throw Error(Lw+Ct(t));return t}function zR(t,e){var n,r,i,a,o,c,f,d,p,h,g=t.constructor,y=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),xt?lt(e,y):e;if(f=t.d,h=e.d,r=e.e,d=t.e,f=f.slice(),o=d-r,o){for(p=o<0,p?(n=f,o=-o,c=h.length):(n=h,r=d,c=f.length),i=Math.max(Math.ceil(y/ht),c)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=f.length,c=h.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(f[i]!=h[i]){p=f[i]<h[i];break}o=0}for(p&&(n=f,f=h,h=n,e.s=-e.s),c=f.length,i=h.length-c;i>0;--i)f[c++]=0;for(i=h.length;i>o;){if(f[--i]<h[i]){for(a=i;a&&f[--a]===0;)f[a]=Ht-1;--f[a],f[i]+=Ht}f[i]-=h[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,xt?lt(e,y):e):new g(0)}function Ia(t,e,n){var r,i=Ct(t),a=Er(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Di(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Di(-i-1)+a,n&&(r=n-o)>0&&(a+=Di(r))):i>=o?(a+=Di(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Di(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Di(r))),t.s<0?"-"+a:a}function IC(t,e){if(t.length>e)return t.length=e,!0}function VR(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ta+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return PC(o,a.toString())}else if(typeof a!="string")throw Error(Ta+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,XK.test(a))PC(o,a);else throw Error(Ta+a)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=VR,i.config=i.set=ZK,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ZK(t){if(!t||typeof t!="object")throw Error(Qn+"Object expected");var e,n,r,i=["precision",1,No,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(So(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ta+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ta+n+": "+r);return this}var $w=VR(JK);On=new $w(1);const it=$w;function QK(t){return rY(t)||nY(t)||tY(t)||eY()}function eY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tY(t,e){if(t){if(typeof t=="string")return Dy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dy(t,e)}}function nY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function rY(t){if(Array.isArray(t))return Dy(t)}function Dy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var iY=function(e){return e},WR={},KR=function(e){return e===WR},OC=function(e){return function n(){return arguments.length===0||arguments.length===1&&KR(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},aY=function t(e,n){return e===1?n:OC(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(c){return c!==WR}).length;return o>=e?n.apply(void 0,i):t(e-o,OC(function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];var p=i.map(function(h){return KR(h)?f.shift():h});return n.apply(void 0,QK(p).concat(f))}))})},bp=function(e){return aY(e.length,e)},Ly=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},sY=bp(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),oY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return iY;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(c,f){return f(c)},a.apply(void 0,arguments))}},$y=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},YR=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(c,f){return c===n[f]})||(n=a,r=e.apply(void 0,a)),r}};function lY(t){var e;return t===0?e=1:e=Math.floor(new it(t).abs().log(10).toNumber())+1,e}function cY(t,e,n){for(var r=new it(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var uY=bp(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),dY=bp(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),fY=bp(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const wp={rangeStep:cY,getDigitCount:lY,interpolateNumber:uY,uninterpolateNumber:dY,uninterpolateTruncation:fY};function Fy(t){return mY(t)||hY(t)||JR(t)||pY()}function pY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mY(t){if(Array.isArray(t))return Uy(t)}function uc(t,e){return vY(t)||xY(t,e)||JR(t,e)||gY()}function gY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JR(t,e){if(t){if(typeof t=="string")return Uy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uy(t,e)}}function Uy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xY(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),c;!(r=(c=o.next()).done)&&(n.push(c.value),!(e&&n.length===e));r=!0);}catch(f){i=!0,a=f}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function vY(t){if(Array.isArray(t))return t}function XR(t){var e=uc(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function ZR(t,e,n){if(t.lte(0))return new it(0);var r=wp.getDigitCount(t.toNumber()),i=new it(10).pow(r),a=t.div(i),o=r!==1?.05:.1,c=new it(Math.ceil(a.div(o).toNumber())).add(n).mul(o),f=c.mul(i);return e?f:new it(Math.ceil(f))}function yY(t,e,n){var r=1,i=new it(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new it(10).pow(wp.getDigitCount(t)-1),i=new it(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new it(Math.floor(t)))}else t===0?i=new it(Math.floor((e-1)/2)):n||(i=new it(Math.floor(t)));var o=Math.floor((e-1)/2),c=oY(sY(function(f){return i.add(new it(f-o).mul(r)).toNumber()}),Ly);return c(0,e)}function QR(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new it(0),tickMin:new it(0),tickMax:new it(0)};var a=ZR(new it(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new it(0):(o=new it(t).add(e).div(2),o=o.sub(new it(o).mod(a)));var c=Math.ceil(o.sub(t).div(a).toNumber()),f=Math.ceil(new it(e).sub(o).div(a).toNumber()),d=c+f+1;return d>n?QR(t,e,n,r,i+1):(d<n&&(f=e>0?f+(n-d):f,c=e>0?c:c+(n-d)),{step:a,tickMin:o.sub(new it(c).mul(a)),tickMax:o.add(new it(f).mul(a))})}function bY(t){var e=uc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),c=XR([n,r]),f=uc(c,2),d=f[0],p=f[1];if(d===-1/0||p===1/0){var h=p===1/0?[d].concat(Fy(Ly(0,i-1).map(function(){return 1/0}))):[].concat(Fy(Ly(0,i-1).map(function(){return-1/0})),[p]);return n>r?$y(h):h}if(d===p)return yY(d,i,a);var g=QR(d,p,o,a),y=g.step,N=g.tickMin,S=g.tickMax,w=wp.rangeStep(N,S.add(new it(.1).mul(y)),y);return n>r?$y(w):w}function wY(t,e){var n=uc(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=XR([r,i]),c=uc(o,2),f=c[0],d=c[1];if(f===-1/0||d===1/0)return[r,i];if(f===d)return[f];var p=Math.max(e,2),h=ZR(new it(d).sub(f).div(p-1),a,0),g=[].concat(Fy(wp.rangeStep(new it(f),new it(d).sub(new it(.99).mul(h)),h)),[d]);return r>i?$y(g):g}var NY=YR(bY),SY=YR(wY),_Y="Invariant failed";function Oa(t,e){throw new Error(_Y)}var jY=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function uf(){return uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uf.apply(this,arguments)}function kY(t,e){return CY(t)||EY(t,e)||TY(t,e)||AY()}function AY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TY(t,e){if(t){if(typeof t=="string")return RC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RC(t,e)}}function RC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],f=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return c}}function CY(t){if(Array.isArray(t))return t}function PY(t,e){if(t==null)return{};var n=IY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nM(r.key),r)}}function MY(t,e,n){return e&&RY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DY(t,e,n){return e=df(e),LY(t,eM()?Reflect.construct(e,n||[],df(t).constructor):e.apply(t,n))}function LY(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Y(t)}function $Y(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eM=function(){return!!t})()}function df(t){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},df(t)}function FY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&By(t,e)}function By(t,e){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},By(t,e)}function tM(t,e,n){return e=nM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nM(t){var e=UY(t,"string");return zs(e)=="symbol"?e:e+""}function UY(t,e){if(zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _o=(function(t){function e(){return OY(this,e),DY(this,e,arguments)}return FY(e,t),MY(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,c=r.dataKey,f=r.data,d=r.dataPointFormatter,p=r.xAxis,h=r.yAxis,g=PY(r,jY),y=ve(g,!1);this.props.direction==="x"&&p.type!=="number"&&Oa();var N=f.map(function(S){var w=d(S,c),j=w.x,T=w.y,C=w.value,A=w.errorVal;if(!A)return null;var E=[],P,O;if(Array.isArray(A)){var M=kY(A,2);P=M[0],O=M[1]}else P=O=A;if(a==="vertical"){var D=p.scale,G=T+i,B=G+o,F=G-o,K=D(C-P),J=D(C+O);E.push({x1:J,y1:B,x2:J,y2:F}),E.push({x1:K,y1:G,x2:J,y2:G}),E.push({x1:K,y1:B,x2:K,y2:F})}else if(a==="horizontal"){var Z=h.scale,H=j+i,z=H-o,W=H+o,ee=Z(C-P),ne=Z(C+O);E.push({x1:z,y1:ne,x2:W,y2:ne}),E.push({x1:H,y1:ee,x2:H,y2:ne}),E.push({x1:z,y1:ee,x2:W,y2:ee})}return L.createElement($e,uf({className:"recharts-errorBar",key:"bar-".concat(E.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},y),E.map(function(U){return L.createElement("line",uf({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return L.createElement($e,{className:"recharts-errorBars"},N)}}])})(L.Component);tM(_o,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});tM(_o,"displayName","ErrorBar");function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function MC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ha(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(n),!0).forEach(function(r){BY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BY(t,e,n){return e=qY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qY(t){var e=GY(t,"string");return dc(e)=="symbol"?e:e+""}function GY(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rM=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=In(n,Ir);if(!o)return null;var c=Ir.defaultProps,f=c!==void 0?ha(ha({},c),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:a==="children"?d=(r||[]).reduce(function(p,h){var g=h.item,y=h.props,N=y.sectors||y.data||[];return p.concat(N.map(function(S){return{type:o.props.iconType||g.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):d=(r||[]).map(function(p){var h=p.item,g=h.type.defaultProps,y=g!==void 0?ha(ha({},g),h.props):{},N=y.dataKey,S=y.name,w=y.legendType,j=y.hide;return{inactive:j,dataKey:N,type:f.iconType||w||"square",color:Fw(h),value:S||N,payload:y}}),ha(ha(ha({},f),Ir.getWithHeight(o,i)),{},{payload:d,item:o})};function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function DC(t){return WY(t)||VY(t)||zY(t)||HY()}function HY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zY(t,e){if(t){if(typeof t=="string")return qy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qy(t,e)}}function VY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WY(t){if(Array.isArray(t))return qy(t)}function qy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(n),!0).forEach(function(r){Ps(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ps(t,e,n){return e=KY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KY(t){var e=YY(t,"string");return fc(e)=="symbol"?e:e+""}function YY(t,e){if(fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ot(t,e,n){return Ee(t)||Ee(e)?n:Mt(e)?Rn(t,e,n):Te(e)?e(t):n}function Ul(t,e,n,r){var i=WK(t,function(c){return ot(c,e)});if(n==="number"){var a=i.filter(function(c){return ce(c)||parseFloat(c)});return a.length?[yp(a),Fi(a)]:[1/0,-1/0]}var o=r?i.filter(function(c){return!Ee(c)}):i;return o.map(function(c){return Mt(c)||c instanceof Date?c:""})}var JY=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,c=(n=r?.length)!==null&&n!==void 0?n:0;if(c<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var f=a.range,d=0;d<c;d++){var p=d>0?i[d-1].coordinate:i[c-1].coordinate,h=i[d].coordinate,g=d>=c-1?i[0].coordinate:i[d+1].coordinate,y=void 0;if(dn(h-p)!==dn(g-h)){var N=[];if(dn(g-h)===dn(f[1]-f[0])){y=g;var S=h+f[1]-f[0];N[0]=Math.min(S,(S+p)/2),N[1]=Math.max(S,(S+p)/2)}else{y=p;var w=g+f[1]-f[0];N[0]=Math.min(h,(w+h)/2),N[1]=Math.max(h,(w+h)/2)}var j=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(e>j[0]&&e<=j[1]||e>=N[0]&&e<=N[1]){o=i[d].index;break}}else{var T=Math.min(p,g),C=Math.max(p,g);if(e>(T+h)/2&&e<=(C+h)/2){o=i[d].index;break}}}else for(var A=0;A<c;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<c-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===c-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){o=r[A].index;break}return o},Fw=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?_t(_t({},e.type.defaultProps),e.props):e.props,o=a.stroke,c=a.fill,f;switch(i){case"Line":f=o;break;case"Area":case"Radar":f=o&&o!=="none"?o:c;break;default:f=c;break}return f},XY=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},c=Object.keys(a),f=0,d=c.length;f<d;f++)for(var p=a[c[f]].stackGroups,h=Object.keys(p),g=0,y=h.length;g<y;g++){var N=p[h[g]],S=N.items,w=N.cateAxisId,j=S.filter(function(O){return ei(O.type).indexOf("Bar")>=0});if(j&&j.length){var T=j[0].type.defaultProps,C=T!==void 0?_t(_t({},T),j[0].props):j[0].props,A=C.barSize,E=C[w];o[E]||(o[E]=[]);var P=Ee(A)?n:A;o[E].push({item:j[0],stackList:j.slice(1),barSize:Ee(P)?void 0:fn(P,r,0)})}}return o},ZY=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,c=e.maxBarSize,f=o.length;if(f<1)return null;var d=fn(n,i,0,!0),p,h=[];if(o[0].barSize===+o[0].barSize){var g=!1,y=i/f,N=o.reduce(function(A,E){return A+E.barSize||0},0);N+=(f-1)*d,N>=i&&(N-=(f-1)*d,d=0),N>=i&&y>0&&(g=!0,y*=.9,N=f*y);var S=(i-N)/2>>0,w={offset:S-d,size:0};p=o.reduce(function(A,E){var P={item:E.item,position:{offset:w.offset+w.size+d,size:g?y:E.barSize}},O=[].concat(DC(A),[P]);return w=O[O.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(M){O.push({item:M,position:w})}),O},h)}else{var j=fn(r,i,0,!0);i-2*j-(f-1)*d<=0&&(d=0);var T=(i-2*j-(f-1)*d)/f;T>1&&(T>>=0);var C=c===+c?Math.min(T,c):T;p=o.reduce(function(A,E,P){var O=[].concat(DC(A),[{item:E.item,position:{offset:j+(T+d)*P+(T-C)/2,size:C}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(M){O.push({item:M,position:O[O.length-1].position})}),O},h)}return p},QY=function(e,n,r,i){var a=r.children,o=r.width,c=r.margin,f=o-(c.left||0)-(c.right||0),d=rM({children:a,legendWidth:f});if(d){var p=i||{},h=p.width,g=p.height,y=d.align,N=d.verticalAlign,S=d.layout;if((S==="vertical"||S==="horizontal"&&N==="middle")&&y!=="center"&&ce(e[y]))return _t(_t({},e),{},Ps({},y,e[y]+(h||0)));if((S==="horizontal"||S==="vertical"&&y==="center")&&N!=="middle"&&ce(e[N]))return _t(_t({},e),{},Ps({},N,e[N]+(g||0)))}return e},e7=function(e,n,r){return Ee(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},iM=function(e,n,r,i,a){var o=n.props.children,c=hn(o,_o).filter(function(d){return e7(i,a,d.props.direction)});if(c&&c.length){var f=c.map(function(d){return d.props.dataKey});return e.reduce(function(d,p){var h=ot(p,r);if(Ee(h))return d;var g=Array.isArray(h)?[yp(h),Fi(h)]:[h,h],y=f.reduce(function(N,S){var w=ot(p,S,0),j=g[0]-Math.abs(Array.isArray(w)?w[0]:w),T=g[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(j,N[0]),Math.max(T,N[1])]},[1/0,-1/0]);return[Math.min(y[0],d[0]),Math.max(y[1],d[1])]},[1/0,-1/0])}return null},t7=function(e,n,r,i,a){var o=n.map(function(c){return iM(e,c,r,a,i)}).filter(function(c){return!Ee(c)});return o&&o.length?o.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]):null},aM=function(e,n,r,i,a){var o=n.map(function(f){var d=f.props.dataKey;return r==="number"&&d&&iM(e,f,d,i)||Ul(e,d,r,a)});if(r==="number")return o.reduce(function(f,d){return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0]);var c={};return o.reduce(function(f,d){for(var p=0,h=d.length;p<h;p++)c[d[p]]||(c[d[p]]=!0,f.push(d[p]));return f},[])},sM=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},oM=function(e,n,r,i){if(i)return e.map(function(f){return f.coordinate});var a,o,c=e.map(function(f){return f.coordinate===n&&(a=!0),f.coordinate===r&&(o=!0),f.coordinate});return a||c.push(n),o||c.push(r),c},Qr=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,c=e.range,f=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/f:0;if(d=e.axisType==="angleAxis"&&c?.length>=2?dn(c[0]-c[1])*2*d:d,n&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(h){var g=a?a.indexOf(h):h;return{coordinate:i(g)+d,value:h,offset:d}});return p.filter(function(h){return!yo(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,g){return{coordinate:i(h)+d,value:h,index:g,offset:d}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+d,value:h,offset:d}}):i.domain().map(function(h,g){return{coordinate:i(h)+d,value:a?a[h]:h,index:g,offset:d}})},rv=new WeakMap,md=function(e,n){if(typeof n!="function")return e;rv.has(e)||rv.set(e,new WeakMap);var r=rv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},lM=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,c=e.axisType;if(i==="auto")return o==="radial"&&c==="radiusAxis"?{scale:ic(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:af(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Fl(),realScaleType:"point"}:a==="category"?{scale:ic(),realScaleType:"band"}:{scale:af(),realScaleType:"linear"};if(Ca(i)){var f="scale".concat(ip(i));return{scale:(NC[f]||Fl)(),realScaleType:NC[f]?f:"point"}}return Te(i)?{scale:i}:{scale:Fl(),realScaleType:"point"}},$C=1e-4,cM=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-$C,o=Math.max(i[0],i[1])+$C,c=e(n[0]),f=e(n[r-1]);(c<a||c>o||f<a||f>o)&&e.domain([n[0],n[r-1]])}},n7=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},r7=function(e,n){if(!n||n.length!==2||!ce(n[0])||!ce(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!ce(e[0])||e[0]<r)&&(a[0]=r),(!ce(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},i7=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,c=0;c<n;++c){var f=yo(e[c][r][1])?e[c][r][0]:e[c][r][1];f>=0?(e[c][r][0]=a,e[c][r][1]=a+f,a=e[c][r][1]):(e[c][r][0]=o,e[c][r][1]=o+f,o=e[c][r][1])}},a7=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var c=yo(e[o][r][1])?e[o][r][0]:e[o][r][1];c>=0?(e[o][r][0]=a,e[o][r][1]=a+c,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},s7={sign:i7,expand:W9,none:Ls,silhouette:K9,wiggle:Y9,positive:a7},o7=function(e,n,r){var i=n.map(function(c){return c.props.dataKey}),a=s7[r],o=V9().keys(i).value(function(c,f){return+ot(c,f,0)}).order(vy).offset(a);return o(e)},l7=function(e,n,r,i,a,o){if(!e)return null;var c=o?n.reverse():n,f={},d=c.reduce(function(h,g){var y,N=(y=g.type)!==null&&y!==void 0&&y.defaultProps?_t(_t({},g.type.defaultProps),g.props):g.props,S=N.stackId,w=N.hide;if(w)return h;var j=N[r],T=h[j]||{hasStack:!1,stackGroups:{}};if(Mt(S)){var C=T.stackGroups[S]||{numericAxisId:r,cateAxisId:i,items:[]};C.items.push(g),T.hasStack=!0,T.stackGroups[S]=C}else T.stackGroups[Ji("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[g]};return _t(_t({},h),{},Ps({},j,T))},f),p={};return Object.keys(d).reduce(function(h,g){var y=d[g];if(y.hasStack){var N={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(S,w){var j=y.stackGroups[w];return _t(_t({},S),{},Ps({},w,{numericAxisId:r,cateAxisId:i,items:j.items,stackedData:o7(e,j.items,a)}))},N)}return _t(_t({},h),{},Ps({},g,y))},p)},uM=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,c=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var p=NY(d,a,c);return e.domain([yp(p),Fi(p)]),{niceTicks:p}}if(a&&i==="number"){var h=e.domain(),g=SY(h,a,c);return{niceTicks:g}}return null};function Vs(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ee(i[e.dataKey])){var c=Fd(n,"value",i[e.dataKey]);if(c)return c.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var f=ot(i,Ee(o)?e.dataKey:o);return Ee(f)?null:e.scale(f)}var FC=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,c=e.index;if(n.type==="category")return r[c]?r[c].coordinate+i:null;var f=ot(o,n.dataKey,n.domain[c]);return Ee(f)?null:n.scale(f)-a/2+i},c7=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},u7=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?_t(_t({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Mt(a)){var o=n[a];if(o){var c=o.items.indexOf(e);return c>=0?o.stackedData[c]:null}}return null},d7=function(e){return e.reduce(function(n,r){return[yp(r.concat([n[0]]).filter(ce)),Fi(r.concat([n[1]]).filter(ce))]},[1/0,-1/0])},dM=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],c=o.stackedData,f=c.reduce(function(d,p){var h=d7(p.slice(n,r+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(f[0],i[0]),Math.max(f[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},UC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gy=function(e,n,r){if(Te(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ce(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(UC.test(e[0])){var a=+UC.exec(e[0])[1];i[0]=n[0]-a}else Te(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ce(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(BC.test(e[1])){var o=+BC.exec(e[1])[1];i[1]=n[1]+o}else Te(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},ff=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=pw(n,function(h){return h.coordinate}),o=1/0,c=1,f=a.length;c<f;c++){var d=a[c],p=a[c-1];o=Math.min((d.coordinate||0)-(p.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},qC=function(e,n,r){return!e||!e.length||oi(e,Rn(r,"type.defaultProps.domain"))?n:e},fM=function(e,n){var r=e.type.defaultProps?_t(_t({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,c=r.formatter,f=r.tooltipType,d=r.chartType,p=r.hide;return _t(_t({},ve(e,!1)),{},{dataKey:i,unit:o,formatter:c,name:a||i,color:Fw(e),value:ot(n,i),type:f,payload:n,chartType:d,hide:p})};function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function GC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(n),!0).forEach(function(r){pM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pM(t,e,n){return e=f7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f7(t){var e=p7(t,"string");return pc(e)=="symbol"?e:e+""}function p7(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h7(t,e){return v7(t)||x7(t,e)||g7(t,e)||m7()}function m7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g7(t,e){if(t){if(typeof t=="string")return HC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HC(t,e)}}function HC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],f=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return c}}function v7(t){if(Array.isArray(t))return t}var pf=Math.PI/180,y7=function(e){return e*180/Math.PI},Qe=function(e,n,r,i){return{x:e+Math.cos(-pf*i)*r,y:n+Math.sin(-pf*i)*r}},hM=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},mM=function(e,n,r,i,a){var o=e.width,c=e.height,f=e.startAngle,d=e.endAngle,p=fn(e.cx,o,o/2),h=fn(e.cy,c,c/2),g=hM(o,c,r),y=fn(e.innerRadius,g,0),N=fn(e.outerRadius,g,g*.8),S=Object.keys(n);return S.reduce(function(w,j){var T=n[j],C=T.domain,A=T.reversed,E;if(Ee(T.range))i==="angleAxis"?E=[f,d]:i==="radiusAxis"&&(E=[y,N]),A&&(E=[E[1],E[0]]);else{E=T.range;var P=E,O=h7(P,2);f=O[0],d=O[1]}var M=lM(T,a),D=M.realScaleType,G=M.scale;G.domain(C).range(E),cM(G);var B=uM(G,Yr(Yr({},T),{},{realScaleType:D})),F=Yr(Yr(Yr({},T),B),{},{range:E,radius:N,realScaleType:D,scale:G,cx:p,cy:h,innerRadius:y,outerRadius:N,startAngle:f,endAngle:d});return Yr(Yr({},w),{},pM({},j,F))},{})},b7=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},w7=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,c=b7({x:r,y:i},{x:a,y:o});if(c<=0)return{radius:c};var f=(r-a)/c,d=Math.acos(f);return i>o&&(d=2*Math.PI-d),{radius:c,angle:y7(d),angleInRadian:d}},N7=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},S7=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),c=Math.min(a,o);return e+c*360},zC=function(e,n){var r=e.x,i=e.y,a=w7({x:r,y:i},n),o=a.radius,c=a.angle,f=n.innerRadius,d=n.outerRadius;if(o<f||o>d)return!1;if(o===0)return!0;var p=N7(n),h=p.startAngle,g=p.endAngle,y=c,N;if(h<=g){for(;y>g;)y-=360;for(;y<h;)y+=360;N=y>=h&&y<=g}else{for(;y>h;)y-=360;for(;y<g;)y+=360;N=y>=g&&y<=h}return N?Yr(Yr({},n),{},{radius:o,angle:S7(y,n)}):null},gM=function(e){return!R.isValidElement(e)&&!Te(e)&&typeof e!="boolean"?e.className:""};function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}var _7=["offset"];function j7(t){return E7(t)||T7(t)||A7(t)||k7()}function k7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A7(t,e){if(t){if(typeof t=="string")return Hy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hy(t,e)}}function T7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function E7(t){if(Array.isArray(t))return Hy(t)}function Hy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C7(t,e){if(t==null)return{};var n=P7(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function VC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(n),!0).forEach(function(r){I7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I7(t,e,n){return e=O7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O7(t){var e=R7(t,"string");return hc(e)=="symbol"?e:e+""}function R7(t,e){if(hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}var M7=function(e){var n=e.value,r=e.formatter,i=Ee(e.children)?n:e.children;return Te(r)?r(i):i},D7=function(e,n){var r=dn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},L7=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,c=e.className,f=a,d=f.cx,p=f.cy,h=f.innerRadius,g=f.outerRadius,y=f.startAngle,N=f.endAngle,S=f.clockWise,w=(h+g)/2,j=D7(y,N),T=j>=0?1:-1,C,A;i==="insideStart"?(C=y+T*o,A=S):i==="insideEnd"?(C=N-T*o,A=!S):i==="end"&&(C=N+T*o,A=S),A=j<=0?A:!A;var E=Qe(d,p,w,C),P=Qe(d,p,w,C+(A?1:-1)*359),O="M".concat(E.x,",").concat(E.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(A?0:1,`,
    `).concat(P.x,",").concat(P.y),M=Ee(e.id)?Ji("recharts-radial-line-"):e.id;return L.createElement("text",mc({},r,{dominantBaseline:"central",className:Re("recharts-radial-bar-label",c)}),L.createElement("defs",null,L.createElement("path",{id:M,d:O})),L.createElement("textPath",{xlinkHref:"#".concat(M)},n))},$7=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,c=a.cy,f=a.innerRadius,d=a.outerRadius,p=a.startAngle,h=a.endAngle,g=(p+h)/2;if(i==="outside"){var y=Qe(o,c,d+r,g),N=y.x,S=y.y;return{x:N,y:S,textAnchor:N>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var w=(f+d)/2,j=Qe(o,c,w,g),T=j.x,C=j.y;return{x:T,y:C,textAnchor:"middle",verticalAnchor:"middle"}},F7=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,c=o.x,f=o.y,d=o.width,p=o.height,h=p>=0?1:-1,g=h*i,y=h>0?"end":"start",N=h>0?"start":"end",S=d>=0?1:-1,w=S*i,j=S>0?"end":"start",T=S>0?"start":"end";if(a==="top"){var C={x:c+d/2,y:f-h*i,textAnchor:"middle",verticalAnchor:y};return Rt(Rt({},C),r?{height:Math.max(f-r.y,0),width:d}:{})}if(a==="bottom"){var A={x:c+d/2,y:f+p+g,textAnchor:"middle",verticalAnchor:N};return Rt(Rt({},A),r?{height:Math.max(r.y+r.height-(f+p),0),width:d}:{})}if(a==="left"){var E={x:c-w,y:f+p/2,textAnchor:j,verticalAnchor:"middle"};return Rt(Rt({},E),r?{width:Math.max(E.x-r.x,0),height:p}:{})}if(a==="right"){var P={x:c+d+w,y:f+p/2,textAnchor:T,verticalAnchor:"middle"};return Rt(Rt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:p}:{})}var O=r?{width:d,height:p}:{};return a==="insideLeft"?Rt({x:c+w,y:f+p/2,textAnchor:T,verticalAnchor:"middle"},O):a==="insideRight"?Rt({x:c+d-w,y:f+p/2,textAnchor:j,verticalAnchor:"middle"},O):a==="insideTop"?Rt({x:c+d/2,y:f+g,textAnchor:"middle",verticalAnchor:N},O):a==="insideBottom"?Rt({x:c+d/2,y:f+p-g,textAnchor:"middle",verticalAnchor:y},O):a==="insideTopLeft"?Rt({x:c+w,y:f+g,textAnchor:T,verticalAnchor:N},O):a==="insideTopRight"?Rt({x:c+d-w,y:f+g,textAnchor:j,verticalAnchor:N},O):a==="insideBottomLeft"?Rt({x:c+w,y:f+p-g,textAnchor:T,verticalAnchor:y},O):a==="insideBottomRight"?Rt({x:c+d-w,y:f+p-g,textAnchor:j,verticalAnchor:y},O):vo(a)&&(ce(a.x)||Na(a.x))&&(ce(a.y)||Na(a.y))?Rt({x:c+fn(a.x,d),y:f+fn(a.y,p),textAnchor:"end",verticalAnchor:"end"},O):Rt({x:c+d/2,y:f+p/2,textAnchor:"middle",verticalAnchor:"middle"},O)},U7=function(e){return"cx"in e&&ce(e.cx)};function zt(t){var e=t.offset,n=e===void 0?5:e,r=C7(t,_7),i=Rt({offset:n},r),a=i.viewBox,o=i.position,c=i.value,f=i.children,d=i.content,p=i.className,h=p===void 0?"":p,g=i.textBreakAll;if(!a||Ee(c)&&Ee(f)&&!R.isValidElement(d)&&!Te(d))return null;if(R.isValidElement(d))return R.cloneElement(d,i);var y;if(Te(d)){if(y=R.createElement(d,i),R.isValidElement(y))return y}else y=M7(i);var N=U7(a),S=ve(i,!0);if(N&&(o==="insideStart"||o==="insideEnd"||o==="end"))return L7(i,y,S);var w=N?$7(i):F7(i);return L.createElement(Pa,mc({className:Re("recharts-label",h)},S,w,{breakAll:g}),y)}zt.displayName="Label";var xM=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,c=e.r,f=e.radius,d=e.innerRadius,p=e.outerRadius,h=e.x,g=e.y,y=e.top,N=e.left,S=e.width,w=e.height,j=e.clockWise,T=e.labelViewBox;if(T)return T;if(ce(S)&&ce(w)){if(ce(h)&&ce(g))return{x:h,y:g,width:S,height:w};if(ce(y)&&ce(N))return{x:y,y:N,width:S,height:w}}return ce(h)&&ce(g)?{x:h,y:g,width:0,height:0}:ce(n)&&ce(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:p||f||c||0,clockWise:j}:e.viewBox?e.viewBox:{}},B7=function(e,n){return e?e===!0?L.createElement(zt,{key:"label-implicit",viewBox:n}):Mt(e)?L.createElement(zt,{key:"label-implicit",viewBox:n,value:e}):R.isValidElement(e)?e.type===zt?R.cloneElement(e,{key:"label-implicit",viewBox:n}):L.createElement(zt,{key:"label-implicit",content:e,viewBox:n}):Te(e)?L.createElement(zt,{key:"label-implicit",content:e,viewBox:n}):vo(e)?L.createElement(zt,mc({viewBox:n},e,{key:"label-implicit"})):null:null},q7=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=xM(e),o=hn(i,zt).map(function(f,d){return R.cloneElement(f,{viewBox:n||a,key:"label-".concat(d)})});if(!r)return o;var c=B7(e.label,n||a);return[c].concat(j7(o))};zt.parseViewBox=xM;zt.renderCallByParent=q7;var iv,WC;function G7(){if(WC)return iv;WC=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return iv=t,iv}var H7=G7();const vM=et(H7);function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}var z7=["valueAccessor"],V7=["data","dataKey","clockWise","id","textBreakAll"];function W7(t){return X7(t)||J7(t)||Y7(t)||K7()}function K7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y7(t,e){if(t){if(typeof t=="string")return zy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zy(t,e)}}function J7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X7(t){if(Array.isArray(t))return zy(t)}function zy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hf.apply(this,arguments)}function KC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(n),!0).forEach(function(r){Z7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z7(t,e,n){return e=Q7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q7(t){var e=eJ(t,"string");return gc(e)=="symbol"?e:e+""}function eJ(t,e){if(gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JC(t,e){if(t==null)return{};var n=tJ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nJ=function(e){return Array.isArray(e.value)?vM(e.value):e.value};function Xn(t){var e=t.valueAccessor,n=e===void 0?nJ:e,r=JC(t,z7),i=r.data,a=r.dataKey,o=r.clockWise,c=r.id,f=r.textBreakAll,d=JC(r,V7);return!i||!i.length?null:L.createElement($e,{className:"recharts-label-list"},i.map(function(p,h){var g=Ee(a)?n(p,h):ot(p&&p.payload,a),y=Ee(c)?{}:{id:"".concat(c,"-").concat(h)};return L.createElement(zt,hf({},ve(p,!0),d,y,{parentViewBox:p.parentViewBox,value:g,textBreakAll:f,viewBox:zt.parseViewBox(Ee(o)?p:YC(YC({},p),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Xn.displayName="LabelList";function rJ(t,e){return t?t===!0?L.createElement(Xn,{key:"labelList-implicit",data:e}):L.isValidElement(t)||Te(t)?L.createElement(Xn,{key:"labelList-implicit",data:e,content:t}):vo(t)?L.createElement(Xn,hf({data:e},t,{key:"labelList-implicit"})):null:null}function iJ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=hn(r,Xn).map(function(o,c){return R.cloneElement(o,{data:e,key:"labelList-".concat(c)})});if(!n)return i;var a=rJ(t.label,e);return[a].concat(W7(i))}Xn.renderCallByParent=iJ;function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function Vy(){return Vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vy.apply(this,arguments)}function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach(function(r){aJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aJ(t,e,n){return e=sJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sJ(t){var e=oJ(t,"string");return xc(e)=="symbol"?e:e+""}function oJ(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lJ=function(e,n){var r=dn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},gd=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,c=e.isExternal,f=e.cornerRadius,d=e.cornerIsExternal,p=f*(c?1:-1)+i,h=Math.asin(f/p)/pf,g=d?a:a+o*h,y=Qe(n,r,p,g),N=Qe(n,r,i,g),S=d?a-o*h:a,w=Qe(n,r,p*Math.cos(h*pf),S);return{center:y,circleTangency:N,lineTangency:w,theta:h}},yM=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,c=e.endAngle,f=lJ(o,c),d=o+f,p=Qe(n,r,a,o),h=Qe(n,r,a,d),g="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var y=Qe(n,r,i,o),N=Qe(n,r,i,d);g+="L ".concat(N.x,",").concat(N.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(o<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},cJ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,c=e.forceCornerRadius,f=e.cornerIsExternal,d=e.startAngle,p=e.endAngle,h=dn(p-d),g=gd({cx:n,cy:r,radius:a,angle:d,sign:h,cornerRadius:o,cornerIsExternal:f}),y=g.circleTangency,N=g.lineTangency,S=g.theta,w=gd({cx:n,cy:r,radius:a,angle:p,sign:-h,cornerRadius:o,cornerIsExternal:f}),j=w.circleTangency,T=w.lineTangency,C=w.theta,A=f?Math.abs(d-p):Math.abs(d-p)-S-C;if(A<0)return c?"M ".concat(N.x,",").concat(N.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):yM({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:p});var E="M ".concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(A>180),",").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
  `);if(i>0){var P=gd({cx:n,cy:r,radius:i,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),O=P.circleTangency,M=P.lineTangency,D=P.theta,G=gd({cx:n,cy:r,radius:i,angle:p,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),B=G.circleTangency,F=G.lineTangency,K=G.theta,J=f?Math.abs(d-p):Math.abs(d-p)-D-K;if(J<0&&o===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(J>180),",").concat(+(h>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(M.x,",").concat(M.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},uJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bM=function(e){var n=ZC(ZC({},uJ),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,c=n.cornerRadius,f=n.forceCornerRadius,d=n.cornerIsExternal,p=n.startAngle,h=n.endAngle,g=n.className;if(o<a||p===h)return null;var y=Re("recharts-sector",g),N=o-a,S=fn(c,N,0,!0),w;return S>0&&Math.abs(p-h)<360?w=cJ({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(S,N/2),forceCornerRadius:f,cornerIsExternal:d,startAngle:p,endAngle:h}):w=yM({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:p,endAngle:h}),L.createElement("path",Vy({},ve(n,!0),{className:y,d:w,role:"img"}))};function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function Wy(){return Wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wy.apply(this,arguments)}function QC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(n),!0).forEach(function(r){dJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dJ(t,e,n){return e=fJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fJ(t){var e=pJ(t,"string");return vc(e)=="symbol"?e:e+""}function pJ(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tP={curveBasisClosed:M9,curveBasisOpen:D9,curveBasis:R9,curveBumpX:b9,curveBumpY:w9,curveLinearClosed:L9,curveLinear:sp,curveMonotoneX:$9,curveMonotoneY:F9,curveNatural:U9,curveStep:B9,curveStepAfter:G9,curveStepBefore:q9},xd=function(e){return e.x===+e.x&&e.y===+e.y},_l=function(e){return e.x},jl=function(e){return e.y},hJ=function(e,n){if(Te(e))return e;var r="curve".concat(ip(e));return(r==="curveMonotone"||r==="curveBump")&&n?tP["".concat(r).concat(n==="vertical"?"Y":"X")]:tP[r]||sp},mJ=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,c=e.layout,f=e.connectNulls,d=f===void 0?!1:f,p=hJ(r,c),h=d?a.filter(function(S){return xd(S)}):a,g;if(Array.isArray(o)){var y=d?o.filter(function(S){return xd(S)}):o,N=h.map(function(S,w){return eP(eP({},S),{},{base:y[w]})});return c==="vertical"?g=ld().y(jl).x1(_l).x0(function(S){return S.base.x}):g=ld().x(_l).y1(jl).y0(function(S){return S.base.y}),g.defined(xd).curve(p),g(N)}return c==="vertical"&&ce(o)?g=ld().y(jl).x1(_l).x0(o):ce(o)?g=ld().x(_l).y1(jl).y0(o):g=xO().x(_l).y(jl),g.defined(xd).curve(p),g(h)},Hi=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?mJ(e):i;return R.createElement("path",Wy({},ve(e,!1),Ud(e),{className:Re("recharts-curve",n),d:o,ref:a}))},av={exports:{}},sv,nP;function gJ(){if(nP)return sv;nP=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return sv=t,sv}var ov,rP;function xJ(){if(rP)return ov;rP=1;var t=gJ();function e(){}function n(){}return n.resetWarningCache=e,ov=function(){function r(o,c,f,d,p,h){if(h!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},ov}var iP;function vJ(){return iP||(iP=1,av.exports=xJ()()),av.exports}var yJ=vJ();const nt=et(yJ),{getOwnPropertyNames:bJ,getOwnPropertySymbols:wJ}=Object,{hasOwnProperty:NJ}=Object.prototype;function lv(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function vd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,o=a.get(n),c=a.get(r);if(o&&c)return o===r&&c===n;a.set(n,r),a.set(r,n);const f=t(n,r,i);return a.delete(n),a.delete(r),f}}function SJ(t){return t?.[Symbol.toStringTag]}function aP(t){return bJ(t).concat(wJ(t))}const _J=Object.hasOwn||((t,e)=>NJ.call(t,e));function Ua(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const jJ="__v",kJ="__o",AJ="_owner",{getOwnPropertyDescriptor:sP,keys:oP}=Object;function TJ(t,e){return t.byteLength===e.byteLength&&mf(new Uint8Array(t),new Uint8Array(e))}function EJ(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function CJ(t,e){return t.byteLength===e.byteLength&&mf(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function PJ(t,e){return Ua(t.getTime(),e.getTime())}function IJ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function OJ(t,e){return t===e}function lP(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let o,c,f=0;for(;(o=a.next())&&!o.done;){const d=e.entries();let p=!1,h=0;for(;(c=d.next())&&!c.done;){if(i[h]){h++;continue}const g=o.value,y=c.value;if(n.equals(g[0],y[0],f,h,t,e,n)&&n.equals(g[1],y[1],g[0],y[0],t,e,n)){p=i[h]=!0;break}h++}if(!p)return!1;f++}return!0}const RJ=Ua;function MJ(t,e,n){const r=oP(t);let i=r.length;if(oP(e).length!==i)return!1;for(;i-- >0;)if(!wM(t,e,n,r[i]))return!1;return!0}function kl(t,e,n){const r=aP(t);let i=r.length;if(aP(e).length!==i)return!1;let a,o,c;for(;i-- >0;)if(a=r[i],!wM(t,e,n,a)||(o=sP(t,a),c=sP(e,a),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function DJ(t,e){return Ua(t.valueOf(),e.valueOf())}function LJ(t,e){return t.source===e.source&&t.flags===e.flags}function cP(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let o,c;for(;(o=a.next())&&!o.done;){const f=e.values();let d=!1,p=0;for(;(c=f.next())&&!c.done;){if(!i[p]&&n.equals(o.value,c.value,o.value,c.value,t,e,n)){d=i[p]=!0;break}p++}if(!d)return!1}return!0}function mf(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function $J(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function wM(t,e,n,r){return(r===AJ||r===kJ||r===jJ)&&(t.$$typeof||e.$$typeof)?!0:_J(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const FJ="[object ArrayBuffer]",UJ="[object Arguments]",BJ="[object Boolean]",qJ="[object DataView]",GJ="[object Date]",HJ="[object Error]",zJ="[object Map]",VJ="[object Number]",WJ="[object Object]",KJ="[object RegExp]",YJ="[object Set]",JJ="[object String]",XJ={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},ZJ="[object URL]",QJ=Object.prototype.toString;function eX({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:c,areObjectsEqual:f,arePrimitiveWrappersEqual:d,areRegExpsEqual:p,areSetsEqual:h,areTypedArraysEqual:g,areUrlsEqual:y,unknownTagComparators:N}){return function(w,j,T){if(w===j)return!0;if(w==null||j==null)return!1;const C=typeof w;if(C!==typeof j)return!1;if(C!=="object")return C==="number"?c(w,j,T):C==="function"?a(w,j,T):!1;const A=w.constructor;if(A!==j.constructor)return!1;if(A===Object)return f(w,j,T);if(Array.isArray(w))return e(w,j,T);if(A===Date)return r(w,j,T);if(A===RegExp)return p(w,j,T);if(A===Map)return o(w,j,T);if(A===Set)return h(w,j,T);const E=QJ.call(w);if(E===GJ)return r(w,j,T);if(E===KJ)return p(w,j,T);if(E===zJ)return o(w,j,T);if(E===YJ)return h(w,j,T);if(E===WJ)return typeof w.then!="function"&&typeof j.then!="function"&&f(w,j,T);if(E===ZJ)return y(w,j,T);if(E===HJ)return i(w,j,T);if(E===UJ)return f(w,j,T);if(XJ[E])return g(w,j,T);if(E===FJ)return t(w,j,T);if(E===qJ)return n(w,j,T);if(E===BJ||E===VJ||E===JJ)return d(w,j,T);if(N){let P=N[E];if(!P){const O=SJ(w);O&&(P=N[O])}if(P)return P(w,j,T)}return!1}}function tX({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:TJ,areArraysEqual:n?kl:EJ,areDataViewsEqual:CJ,areDatesEqual:PJ,areErrorsEqual:IJ,areFunctionsEqual:OJ,areMapsEqual:n?lv(lP,kl):lP,areNumbersEqual:RJ,areObjectsEqual:n?kl:MJ,arePrimitiveWrappersEqual:DJ,areRegExpsEqual:LJ,areSetsEqual:n?lv(cP,kl):cP,areTypedArraysEqual:n?lv(mf,kl):mf,areUrlsEqual:$J,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=vd(r.areArraysEqual),a=vd(r.areMapsEqual),o=vd(r.areObjectsEqual),c=vd(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:c})}return r}function nX(t){return function(e,n,r,i,a,o,c){return t(e,n,c)}}function rX({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(c,f){const{cache:d=t?new WeakMap:void 0,meta:p}=n();return e(c,f,{cache:d,equals:r,meta:p,strict:i})};if(t)return function(c,f){return e(c,f,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(c,f){return e(c,f,a)}}const iX=Qi();Qi({strict:!0});Qi({circular:!0});Qi({circular:!0,strict:!0});Qi({createInternalComparator:()=>Ua});Qi({strict:!0,createInternalComparator:()=>Ua});Qi({circular:!0,createInternalComparator:()=>Ua});Qi({circular:!0,createInternalComparator:()=>Ua,strict:!0});function Qi(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=tX(t),o=eX(a),c=n?n(o):nX(o);return rX({circular:e,comparator:o,createState:r,equals:c,strict:i})}function aX(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function uP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):aX(i)};requestAnimationFrame(r)}function Ky(t){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ky(t)}function sX(t){return uX(t)||cX(t)||lX(t)||oX()}function oX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lX(t,e){if(t){if(typeof t=="string")return dP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dP(t,e)}}function dP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uX(t){if(Array.isArray(t))return t}function dX(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,c=sX(o),f=c[0],d=c.slice(1);if(typeof f=="number"){uP(i.bind(null,d),f);return}i(f),uP(i.bind(null,d));return}Ky(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){NM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NM(t,e,n){return e=fX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fX(t){var e=pX(t,"string");return yc(e)==="symbol"?e:String(e)}function pX(t,e){if(yc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hX=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},mX=function(e){return e},gX=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Bl=function(e,n){return Object.keys(n).reduce(function(r,i){return pP(pP({},r),{},NM({},i,e(i,n[i])))},{})},hP=function(e,n,r){return e.map(function(i){return"".concat(gX(i)," ").concat(n,"ms ").concat(r)}).join(",")};function xX(t,e){return bX(t)||yX(t,e)||SM(t,e)||vX()}function vX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],f=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return c}}function bX(t){if(Array.isArray(t))return t}function wX(t){return _X(t)||SX(t)||SM(t)||NX()}function NX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SM(t,e){if(t){if(typeof t=="string")return Yy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yy(t,e)}}function SX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _X(t){if(Array.isArray(t))return Yy(t)}function Yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gf=1e-4,_M=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},jM=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},mP=function(e,n){return function(r){var i=_M(e,n);return jM(i,r)}},jX=function(e,n){return function(r){var i=_M(e,n),a=[].concat(wX(i.map(function(o,c){return o*c}).slice(1)),[0]);return jM(a,r)}},gP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],c=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,c=1;break;case"ease":i=.25,a=.1,o=.25,c=1;break;case"ease-in":i=.42,a=0,o=1,c=1;break;case"ease-out":i=.42,a=0,o=.58,c=1;break;case"ease-in-out":i=0,a=0,o=.58,c=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var d=f[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),p=xX(d,4);i=p[0],a=p[1],o=p[2],c=p[3]}}}var h=mP(i,o),g=mP(a,c),y=jX(i,o),N=function(j){return j>1?1:j<0?0:j},S=function(j){for(var T=j>1?1:j,C=T,A=0;A<8;++A){var E=h(C)-T,P=y(C);if(Math.abs(E-T)<gf||P<gf)return g(C);C=N(C-E/P)}return g(C)};return S.isStepper=!1,S},kX=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,c=o===void 0?17:o,f=function(p,h,g){var y=-(p-h)*r,N=g*a,S=g+(y-N)*c/1e3,w=g*c/1e3+p;return Math.abs(w-h)<gf&&Math.abs(S)<gf?[h,0]:[w,S]};return f.isStepper=!0,f.dt=c,f},AX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gP(i);case"spring":return kX();default:if(i.split("(")[0]==="cubic-bezier")return gP(i)}return typeof i=="function"?i:null};function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function xP(t){return CX(t)||EX(t)||kM(t)||TX()}function TX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CX(t){if(Array.isArray(t))return Xy(t)}function vP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(n),!0).forEach(function(r){Jy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jy(t,e,n){return e=PX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PX(t){var e=IX(t,"string");return bc(e)==="symbol"?e:String(e)}function IX(t,e){if(bc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OX(t,e){return DX(t)||MX(t,e)||kM(t,e)||RX()}function RX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kM(t,e){if(t){if(typeof t=="string")return Xy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xy(t,e)}}function Xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],f=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return c}}function DX(t){if(Array.isArray(t))return t}var xf=function(e,n,r){return e+(n-e)*r},Zy=function(e){var n=e.from,r=e.to;return n!==r},LX=function t(e,n,r){var i=Bl(function(a,o){if(Zy(o)){var c=e(o.from,o.to,o.velocity),f=OX(c,2),d=f[0],p=f[1];return Jt(Jt({},o),{},{from:d,velocity:p})}return o},n);return r<1?Bl(function(a,o){return Zy(o)?Jt(Jt({},o),{},{velocity:xf(o.velocity,i[a].velocity,r),from:xf(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const $X=(function(t,e,n,r,i){var a=hX(t,e),o=a.reduce(function(w,j){return Jt(Jt({},w),{},Jy({},j,[t[j],e[j]]))},{}),c=a.reduce(function(w,j){return Jt(Jt({},w),{},Jy({},j,{from:t[j],velocity:0,to:e[j]}))},{}),f=-1,d,p,h=function(){return null},g=function(){return Bl(function(j,T){return T.from},c)},y=function(){return!Object.values(c).filter(Zy).length},N=function(j){d||(d=j);var T=j-d,C=T/n.dt;c=LX(n,c,C),i(Jt(Jt(Jt({},t),e),g())),d=j,y()||(f=requestAnimationFrame(h))},S=function(j){p||(p=j);var T=(j-p)/r,C=Bl(function(E,P){return xf.apply(void 0,xP(P).concat([n(T)]))},o);if(i(Jt(Jt(Jt({},t),e),C)),T<1)f=requestAnimationFrame(h);else{var A=Bl(function(E,P){return xf.apply(void 0,xP(P).concat([n(1)]))},o);i(Jt(Jt(Jt({},t),e),A))}};return h=n.isStepper?N:S,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(f)}}});function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}var FX=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function UX(t,e){if(t==null)return{};var n=BX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BX(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cv(t){return zX(t)||HX(t)||GX(t)||qX()}function qX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GX(t,e){if(t){if(typeof t=="string")return Qy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qy(t,e)}}function HX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zX(t){if(Array.isArray(t))return Qy(t)}function Qy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){Dl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dl(t,e,n){return e=AM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AM(r.key),r)}}function KX(t,e,n){return e&&WX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AM(t){var e=YX(t,"string");return Ws(e)==="symbol"?e:String(e)}function YX(t,e){if(Ws(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ws(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eb(t,e)}function eb(t,e){return eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eb(t,e)}function XX(t){var e=ZX();return function(){var r=vf(t),i;if(e){var a=vf(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return tb(this,i)}}function tb(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nb(t)}function nb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vf(t){return vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vf(t)}var Dn=(function(t){JX(n,t);var e=XX(n);function n(r,i){var a;VX(this,n),a=e.call(this,r,i);var o=a.props,c=o.isActive,f=o.attributeName,d=o.from,p=o.to,h=o.steps,g=o.children,y=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(nb(a)),a.changeStyle=a.changeStyle.bind(nb(a)),!c||y<=0)return a.state={style:{}},typeof g=="function"&&(a.state={style:p}),tb(a);if(h&&h.length)a.state={style:h[0].style};else if(d){if(typeof g=="function")return a.state={style:d},tb(a);a.state={style:f?Dl({},f,d):d}}else a.state={style:{}};return a}return KX(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,c=a.canBegin,f=a.attributeName,d=a.shouldReAnimate,p=a.to,h=a.from,g=this.state.style;if(c){if(!o){var y={style:f?Dl({},f,p):p};this.state&&g&&(f&&g[f]!==p||!f&&g!==p)&&this.setState(y);return}if(!(iX(i.to,p)&&i.canBegin&&i.isActive)){var N=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=N||d?h:i.to;if(this.state&&g){var w={style:f?Dl({},f,S):S};(f&&g[f]!==S||!f&&g!==S)&&this.setState(w)}this.runAnimation(fr(fr({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,c=i.to,f=i.duration,d=i.easing,p=i.begin,h=i.onAnimationEnd,g=i.onAnimationStart,y=$X(o,c,AX(d),f,this.changeStyle),N=function(){a.stopJSAnimation=y()};this.manager.start([g,p,N,f,h])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,c=i.begin,f=i.onAnimationStart,d=o[0],p=d.style,h=d.duration,g=h===void 0?0:h,y=function(S,w,j){if(j===0)return S;var T=w.duration,C=w.easing,A=C===void 0?"ease":C,E=w.style,P=w.properties,O=w.onAnimationEnd,M=j>0?o[j-1]:w,D=P||Object.keys(E);if(typeof A=="function"||A==="spring")return[].concat(cv(S),[a.runJSAnimation.bind(a,{from:M.style,to:E,duration:T,easing:A}),T]);var G=hP(D,T,A),B=fr(fr(fr({},M.style),E),{},{transition:G});return[].concat(cv(S),[B,T,O]).filter(mX)};return this.manager.start([f].concat(cv(o.reduce(y,[p,Math.max(g,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=dX());var a=i.begin,o=i.duration,c=i.attributeName,f=i.to,d=i.easing,p=i.onAnimationStart,h=i.onAnimationEnd,g=i.steps,y=i.children,N=this.manager;if(this.unSubscribe=N.subscribe(this.handleStyleChange),typeof d=="function"||typeof y=="function"||d==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var S=c?Dl({},c,f):f,w=hP(Object.keys(S),o,d);N.start([p,a,fr(fr({},S),{},{transition:w}),o,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var f=UX(i,FX),d=R.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!c||d===0||o<=0)return a;var h=function(y){var N=y.props,S=N.style,w=S===void 0?{}:S,j=N.className,T=R.cloneElement(y,fr(fr({},f),{},{style:fr(fr({},w),p),className:j}));return T};return d===1?h(R.Children.only(a)):L.createElement("div",null,R.Children.map(a,function(g){return h(g)}))}}]),n})(R.PureComponent);Dn.displayName="Animate";Dn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Dn.propTypes={from:nt.oneOfType([nt.object,nt.string]),to:nt.oneOfType([nt.object,nt.string]),attributeName:nt.string,duration:nt.number,begin:nt.number,easing:nt.oneOfType([nt.string,nt.func]),steps:nt.arrayOf(nt.shape({duration:nt.number.isRequired,style:nt.object.isRequired,easing:nt.oneOfType([nt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),nt.func]),properties:nt.arrayOf("string"),onAnimationEnd:nt.func})),children:nt.oneOfType([nt.node,nt.func]),isActive:nt.bool,canBegin:nt.bool,onAnimationEnd:nt.func,shouldReAnimate:nt.bool,onAnimationStart:nt.func,onAnimationReStart:nt.func};function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yf.apply(this,arguments)}function QX(t,e){return rZ(t)||nZ(t,e)||tZ(t,e)||eZ()}function eZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tZ(t,e){if(t){if(typeof t=="string")return bP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bP(t,e)}}function bP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],f=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return c}}function rZ(t){if(Array.isArray(t))return t}function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){iZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iZ(t,e,n){return e=aZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aZ(t){var e=sZ(t,"string");return wc(e)=="symbol"?e:e+""}function sZ(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SP=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),c=i>=0?1:-1,f=r>=0?1:-1,d=i>=0&&r>=0||i<0&&r<0?1:0,p;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],g=0,y=4;g<y;g++)h[g]=a[g]>o?o:a[g];p="M".concat(e,",").concat(n+c*h[0]),h[0]>0&&(p+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+f*h[0],",").concat(n)),p+="L ".concat(e+r-f*h[1],",").concat(n),h[1]>0&&(p+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(n+c*h[1])),p+="L ".concat(e+r,",").concat(n+i-c*h[2]),h[2]>0&&(p+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+r-f*h[2],",").concat(n+i)),p+="L ".concat(e+f*h[3],",").concat(n+i),h[3]>0&&(p+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(n+i-c*h[3])),p+="Z"}else if(o>0&&a===+a&&a>0){var N=Math.min(o,a);p="M ".concat(e,",").concat(n+c*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(d,",").concat(e+f*N,",").concat(n,`
            L `).concat(e+r-f*N,",").concat(n,`
            A `).concat(N,",").concat(N,",0,0,").concat(d,",").concat(e+r,",").concat(n+c*N,`
            L `).concat(e+r,",").concat(n+i-c*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(d,",").concat(e+r-f*N,",").concat(n+i,`
            L `).concat(e+f*N,",").concat(n+i,`
            A `).concat(N,",").concat(N,",0,0,").concat(d,",").concat(e,",").concat(n+i-c*N," Z")}else p="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return p},oZ=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,c=n.width,f=n.height;if(Math.abs(c)>0&&Math.abs(f)>0){var d=Math.min(a,a+c),p=Math.max(a,a+c),h=Math.min(o,o+f),g=Math.max(o,o+f);return r>=d&&r<=p&&i>=h&&i<=g}return!1},lZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Uw=function(e){var n=NP(NP({},lZ),e),r=R.useRef(),i=R.useState(-1),a=QX(i,2),o=a[0],c=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&c(A)}catch{}},[]);var f=n.x,d=n.y,p=n.width,h=n.height,g=n.radius,y=n.className,N=n.animationEasing,S=n.animationDuration,w=n.animationBegin,j=n.isAnimationActive,T=n.isUpdateAnimationActive;if(f!==+f||d!==+d||p!==+p||h!==+h||p===0||h===0)return null;var C=Re("recharts-rectangle",y);return T?L.createElement(Dn,{canBegin:o>0,from:{width:p,height:h,x:f,y:d},to:{width:p,height:h,x:f,y:d},duration:S,animationEasing:N,isActive:T},function(A){var E=A.width,P=A.height,O=A.x,M=A.y;return L.createElement(Dn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,isActive:j,easing:N},L.createElement("path",yf({},ve(n,!0),{className:C,d:SP(O,M,E,P,g),ref:r})))}):L.createElement("path",yf({},ve(n,!0),{className:C,d:SP(f,d,p,h,g)}))},cZ=["points","className","baseLinePoints","connectNulls"];function Ss(){return Ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ss.apply(this,arguments)}function uZ(t,e){if(t==null)return{};var n=dZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _P(t){return mZ(t)||hZ(t)||pZ(t)||fZ()}function fZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pZ(t,e){if(t){if(typeof t=="string")return rb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rb(t,e)}}function hZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mZ(t){if(Array.isArray(t))return rb(t)}function rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jP=function(e){return e&&e.x===+e.x&&e.y===+e.y},gZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){jP(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),jP(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ql=function(e,n){var r=gZ(e);n&&(r=[r.reduce(function(a,o){return[].concat(_P(a),_P(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,c,f){return"".concat(o).concat(f===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},xZ=function(e,n,r){var i=ql(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(ql(n.reverse(),r).slice(1))},TM=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=uZ(e,cZ);if(!n||!n.length)return null;var c=Re("recharts-polygon",r);if(i&&i.length){var f=o.stroke&&o.stroke!=="none",d=xZ(n,i,a);return L.createElement("g",{className:c},L.createElement("path",Ss({},ve(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),f?L.createElement("path",Ss({},ve(o,!0),{fill:"none",d:ql(n,a)})):null,f?L.createElement("path",Ss({},ve(o,!0),{fill:"none",d:ql(i,a)})):null)}var p=ql(n,a);return L.createElement("path",Ss({},ve(o,!0),{fill:p.slice(-1)==="Z"?o.fill:"none",className:c,d:p}))};function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ib.apply(this,arguments)}var jo=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Re("recharts-dot",a);return n===+n&&r===+r&&i===+i?R.createElement("circle",ib({},ve(e,!1),Ud(e),{className:o,cx:n,cy:r,r:i})):null};function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}var vZ=["x","y","top","left","width","height","className"];function ab(){return ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ab.apply(this,arguments)}function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){bZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bZ(t,e,n){return e=wZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wZ(t){var e=NZ(t,"string");return Nc(e)=="symbol"?e:e+""}function NZ(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SZ(t,e){if(t==null)return{};var n=_Z(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Z(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var jZ=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},kZ=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,c=o===void 0?0:o,f=e.left,d=f===void 0?0:f,p=e.width,h=p===void 0?0:p,g=e.height,y=g===void 0?0:g,N=e.className,S=SZ(e,vZ),w=yZ({x:r,y:a,top:c,left:d,width:h,height:y},S);return!ce(r)||!ce(a)||!ce(h)||!ce(y)||!ce(c)||!ce(d)?null:L.createElement("path",ab({},ve(w,!0),{className:Re("recharts-cross",N),d:jZ(r,a,h,y,c,d)}))},AZ=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function TZ(t,e){if(t==null)return{};var n=EZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function li(){return li=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},li.apply(this,arguments)}function AP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(n),!0).forEach(function(r){CZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CZ(t,e,n){return e=PZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PZ(t){var e=IZ(t,"string");return Sc(e)=="symbol"?e:e+""}function IZ(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OZ=function(e,n,r,i){var a="";return i.forEach(function(o,c){var f=Qe(n,r,e,o);c?a+="L ".concat(f.x,",").concat(f.y):a+="M ".concat(f.x,",").concat(f.y)}),a+="Z",a},RZ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.polarAngles,c=e.radialLines;if(!o||!o.length||!c)return null;var f=_c({stroke:"#ccc"},ve(e,!1));return L.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(d){var p=Qe(n,r,i,d),h=Qe(n,r,a,d);return L.createElement("line",li({},f,{key:"line-".concat(d),x1:p.x,y1:p.y,x2:h.x,y2:h.y}))}))},MZ=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.index,o=_c(_c({stroke:"#ccc"},ve(e,!1)),{},{fill:"none"});return L.createElement("circle",li({},o,{className:Re("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(a),cx:n,cy:r,r:i}))},DZ=function(e){var n=e.radius,r=e.index,i=_c(_c({stroke:"#ccc"},ve(e,!1)),{},{fill:"none"});return L.createElement("path",li({},i,{className:Re("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:OZ(n,e.cx,e.cy,e.polarAngles)}))},LZ=function(e){var n=e.polarRadius,r=e.gridType;return!n||!n.length?null:L.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(i,a){var o=a;return r==="circle"?L.createElement(MZ,li({key:o},e,{radius:i,index:a})):L.createElement(DZ,li({key:o},e,{radius:i,index:a}))}))},EM=function(e){var n=e.cx,r=n===void 0?0:n,i=e.cy,a=i===void 0?0:i,o=e.innerRadius,c=o===void 0?0:o,f=e.outerRadius,d=f===void 0?0:f,p=e.gridType,h=p===void 0?"polygon":p,g=e.radialLines,y=g===void 0?!0:g,N=TZ(e,AZ);return d<=0?null:L.createElement("g",{className:"recharts-polar-grid"},L.createElement(RZ,li({cx:r,cy:a,innerRadius:c,outerRadius:d,gridType:h,radialLines:y},N)),L.createElement(LZ,li({cx:r,cy:a,innerRadius:c,outerRadius:d,gridType:h,radialLines:y},N)))};EM.displayName="PolarGrid";var uv,TP;function $Z(){if(TP)return uv;TP=1;var t=vp(),e=UR(),n=$r();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return uv=r,uv}var FZ=$Z();const UZ=et(FZ);var dv,EP;function BZ(){if(EP)return dv;EP=1;var t=vp(),e=$r(),n=BR();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return dv=r,dv}var qZ=BZ();const GZ=et(qZ);var HZ=["cx","cy","angle","ticks","axisLine"],zZ=["ticks","tick","angle","tickFormatter","stroke"];function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gl.apply(this,arguments)}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){Np(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PP(t,e){if(t==null)return{};var n=VZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PM(r.key),r)}}function KZ(t,e,n){return e&&IP(t.prototype,e),n&&IP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YZ(t,e,n){return e=bf(e),JZ(t,CM()?Reflect.construct(e,n||[],bf(t).constructor):e.apply(t,n))}function JZ(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XZ(t)}function XZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CM=function(){return!!t})()}function bf(t){return bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bf(t)}function ZZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sb(t,e)}function sb(t,e){return sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sb(t,e)}function Np(t,e,n){return e=PM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PM(t){var e=QZ(t,"string");return Ks(e)=="symbol"?e:e+""}function QZ(t,e){if(Ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uc=(function(t){function e(){return WZ(this,e),YZ(this,e,arguments)}return ZZ(e,t),KZ(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,c=a.cx,f=a.cy;return Qe(c,f,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,c=r.ticks,f=UZ(c,function(p){return p.coordinate||0}),d=GZ(c,function(p){return p.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,c=r.ticks,f=r.axisLine,d=PP(r,HZ),p=c.reduce(function(N,S){return[Math.min(N[0],S.coordinate),Math.max(N[1],S.coordinate)]},[1/0,-1/0]),h=Qe(i,a,p[0],o),g=Qe(i,a,p[1],o),y=ma(ma(ma({},ve(d,!1)),{},{fill:"none"},ve(f,!1)),{},{x1:h.x,y1:h.y,x2:g.x,y2:g.y});return L.createElement("line",Gl({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,c=i.angle,f=i.tickFormatter,d=i.stroke,p=PP(i,zZ),h=this.getTickTextAnchor(),g=ve(p,!1),y=ve(o,!1),N=a.map(function(S,w){var j=r.getTickValueCoord(S),T=ma(ma(ma(ma({textAnchor:h,transform:"rotate(".concat(90-c,", ").concat(j.x,", ").concat(j.y,")")},g),{},{stroke:"none",fill:d},y),{},{index:w},j),{},{payload:S});return L.createElement($e,Gl({className:Re("recharts-polar-radius-axis-tick",gM(o)),key:"tick-".concat(S.coordinate)},Wi(r.props,S,w)),e.renderTickItem(o,T,f?f(S.value,w):S.value))});return L.createElement($e,{className:"recharts-polar-radius-axis-ticks"},N)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:L.createElement($e,{className:Re("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),zt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return L.isValidElement(r)?o=L.cloneElement(r,i):Te(r)?o=r(i):o=L.createElement(Pa,Gl({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(R.PureComponent);Np(Uc,"displayName","PolarRadiusAxis");Np(Uc,"axisType","radiusAxis");Np(Uc,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function wa(){return wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wa.apply(this,arguments)}function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ga(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){Sp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OM(r.key),r)}}function tQ(t,e,n){return e&&RP(t.prototype,e),n&&RP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nQ(t,e,n){return e=wf(e),rQ(t,IM()?Reflect.construct(e,n||[],wf(t).constructor):e.apply(t,n))}function rQ(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iQ(t)}function iQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IM=function(){return!!t})()}function wf(t){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wf(t)}function aQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ob(t,e)}function ob(t,e){return ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ob(t,e)}function Sp(t,e,n){return e=OM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OM(t){var e=sQ(t,"string");return Ys(e)=="symbol"?e:e+""}function sQ(t,e){if(Ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oQ=Math.PI/180,MP=1e-5,ko=(function(t){function e(){return eQ(this,e),nQ(this,e,arguments)}return aQ(e,t),tQ(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,c=i.radius,f=i.orientation,d=i.tickSize,p=d||8,h=Qe(a,o,c,r.coordinate),g=Qe(a,o,c+(f==="inner"?-1:1)*p,r.coordinate);return{x1:h.x,y1:h.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*oQ),o;return a>MP?o=i==="outer"?"start":"end":a<-MP?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,c=r.axisLine,f=r.axisLineType,d=ga(ga({},ve(this.props,!1)),{},{fill:"none"},ve(c,!1));if(f==="circle")return L.createElement(jo,wa({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:a,r:o}));var p=this.props.ticks,h=p.map(function(g){return Qe(i,a,o,g.coordinate)});return L.createElement(TM,wa({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,c=i.tickLine,f=i.tickFormatter,d=i.stroke,p=ve(this.props,!1),h=ve(o,!1),g=ga(ga({},p),{},{fill:"none"},ve(c,!1)),y=a.map(function(N,S){var w=r.getTickLineCoord(N),j=r.getTickTextAnchor(N),T=ga(ga(ga({textAnchor:j},p),{},{stroke:"none",fill:d},h),{},{index:S,payload:N,x:w.x2,y:w.y2});return L.createElement($e,wa({className:Re("recharts-polar-angle-axis-tick",gM(o)),key:"tick-".concat(N.coordinate)},Wi(r.props,N,S)),c&&L.createElement("line",wa({className:"recharts-polar-angle-axis-tick-line"},g,w)),o&&e.renderTickItem(o,T,f?f(N.value,S):N.value))});return L.createElement($e,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:L.createElement($e,{className:Re("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return L.isValidElement(r)?o=L.cloneElement(r,i):Te(r)?o=r(i):o=L.createElement(Pa,wa({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(R.PureComponent);Sp(ko,"displayName","PolarAngleAxis");Sp(ko,"axisType","angleAxis");Sp(ko,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var fv,DP;function lQ(){if(DP)return fv;DP=1;var t=UO(),e=t(Object.getPrototypeOf,Object);return fv=e,fv}var pv,LP;function cQ(){if(LP)return pv;LP=1;var t=fi(),e=lQ(),n=pi(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,c=a.hasOwnProperty,f=o.call(Object);function d(p){if(!n(p)||t(p)!=r)return!1;var h=e(p);if(h===null)return!0;var g=c.call(h,"constructor")&&h.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==f}return pv=d,pv}var uQ=cQ();const dQ=et(uQ);var hv,$P;function fQ(){if($P)return hv;$P=1;var t=fi(),e=pi(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return hv=r,hv}var pQ=fQ();const hQ=et(pQ);function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nf.apply(this,arguments)}function mQ(t,e){return yQ(t)||vQ(t,e)||xQ(t,e)||gQ()}function gQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xQ(t,e){if(t){if(typeof t=="string")return FP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FP(t,e)}}function FP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],f=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return c}}function yQ(t){if(Array.isArray(t))return t}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){bQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bQ(t,e,n){return e=wQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wQ(t){var e=NQ(t,"string");return jc(e)=="symbol"?e:e+""}function NQ(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qP=function(e,n,r,i,a){var o=r-i,c;return c="M ".concat(e,",").concat(n),c+="L ".concat(e+r,",").concat(n),c+="L ".concat(e+r-o/2,",").concat(n+a),c+="L ".concat(e+r-o/2-i,",").concat(n+a),c+="L ".concat(e,",").concat(n," Z"),c},SQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_Q=function(e){var n=BP(BP({},SQ),e),r=R.useRef(),i=R.useState(-1),a=mQ(i,2),o=a[0],c=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&c(C)}catch{}},[]);var f=n.x,d=n.y,p=n.upperWidth,h=n.lowerWidth,g=n.height,y=n.className,N=n.animationEasing,S=n.animationDuration,w=n.animationBegin,j=n.isUpdateAnimationActive;if(f!==+f||d!==+d||p!==+p||h!==+h||g!==+g||p===0&&h===0||g===0)return null;var T=Re("recharts-trapezoid",y);return j?L.createElement(Dn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:f,y:d},to:{upperWidth:p,lowerWidth:h,height:g,x:f,y:d},duration:S,animationEasing:N,isActive:j},function(C){var A=C.upperWidth,E=C.lowerWidth,P=C.height,O=C.x,M=C.y;return L.createElement(Dn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,easing:N},L.createElement("path",Nf({},ve(n,!0),{className:T,d:qP(O,M,A,E,P),ref:r})))}):L.createElement("g",null,L.createElement("path",Nf({},ve(n,!0),{className:T,d:qP(f,d,p,h,g)})))},jQ=["option","shapeType","propTransformer","activeClassName","isActive"];function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function kQ(t,e){if(t==null)return{};var n=AQ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){TQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TQ(t,e,n){return e=EQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EQ(t){var e=CQ(t,"string");return kc(e)=="symbol"?e:e+""}function CQ(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PQ(t,e){return Sf(Sf({},e),t)}function IQ(t,e){return t==="symbols"}function HP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return L.createElement(Uw,n);case"trapezoid":return L.createElement(_Q,n);case"sector":return L.createElement(bM,n);case"symbols":if(IQ(e))return L.createElement(lp,n);break;default:return null}}function OQ(t){return R.isValidElement(t)?t.props:t}function _f(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?PQ:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,c=t.isActive,f=kQ(t,jQ),d;if(R.isValidElement(e))d=R.cloneElement(e,Sf(Sf({},f),OQ(e)));else if(Te(e))d=e(f);else if(dQ(e)&&!hQ(e)){var p=i(e,f);d=L.createElement(HP,{shapeType:n,elementProps:p})}else{var h=f;d=L.createElement(HP,{shapeType:n,elementProps:h})}return c?L.createElement($e,{className:o},d):d}function _p(t,e){return e!=null&&"trapezoids"in t.props}function jp(t,e){return e!=null&&"sectors"in t.props}function Ac(t,e){return e!=null&&"points"in t.props}function RQ(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function MQ(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function DQ(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function LQ(t,e){var n;return _p(t,e)?n=RQ:jp(t,e)?n=MQ:Ac(t,e)&&(n=DQ),n}function $Q(t,e){var n;return _p(t,e)?n="trapezoids":jp(t,e)?n="sectors":Ac(t,e)&&(n="points"),n}function FQ(t,e){if(_p(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(jp(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Ac(t,e)?e.payload:{}}function UQ(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=$Q(n,e),a=FQ(n,e),o=r.filter(function(f,d){var p=oi(a,f),h=n.props[i].filter(function(N){var S=LQ(n,e);return S(N,e)}),g=n.props[i].indexOf(h[h.length-1]),y=d===g;return p&&y}),c=r.indexOf(o[o.length-1]);return c}var kd;function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function _s(){return _s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_s.apply(this,arguments)}function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){Wn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MM(r.key),r)}}function qQ(t,e,n){return e&&VP(t.prototype,e),n&&VP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GQ(t,e,n){return e=jf(e),HQ(t,RM()?Reflect.construct(e,n||[],jf(t).constructor):e.apply(t,n))}function HQ(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zQ(t)}function zQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RM=function(){return!!t})()}function jf(t){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jf(t)}function VQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lb(t,e)}function lb(t,e){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lb(t,e)}function Wn(t,e,n){return e=MM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MM(t){var e=WQ(t,"string");return Js(e)=="symbol"?e:e+""}function WQ(t,e){if(Js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wr=(function(t){function e(n){var r;return BQ(this,e),r=GQ(this,e,[n]),Wn(r,"pieRef",null),Wn(r,"sectorRefs",[]),Wn(r,"id",Ji("recharts-pie-")),Wn(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Te(i)&&i()}),Wn(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Te(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return VQ(e,t),qQ(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,c=a.labelLine,f=a.dataKey,d=a.valueKey,p=ve(this.props,!1),h=ve(o,!1),g=ve(c,!1),y=o&&o.offsetRadius||20,N=r.map(function(S,w){var j=(S.startAngle+S.endAngle)/2,T=Qe(S.cx,S.cy,S.outerRadius+y,j),C=ut(ut(ut(ut({},p),S),{},{stroke:"none"},h),{},{index:w,textAnchor:e.getTextAnchor(T.x,S.cx)},T),A=ut(ut(ut(ut({},p),S),{},{fill:"none",stroke:S.fill},g),{},{index:w,points:[Qe(S.cx,S.cy,S.outerRadius,j),T]}),E=f;return Ee(f)&&Ee(d)?E="value":Ee(f)&&(E=d),L.createElement($e,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(w)},c&&e.renderLabelLineItem(c,A,"line"),e.renderLabelItem(o,C,ot(S,E)))});return L.createElement($e,{className:"recharts-pie-labels"},N)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,c=a.blendStroke,f=a.inactiveShape;return r.map(function(d,p){if(d?.startAngle===0&&d?.endAngle===0&&r.length!==1)return null;var h=i.isActiveIndex(p),g=f&&i.hasActiveIndex()?f:null,y=h?o:g,N=ut(ut({},d),{},{stroke:c?d.fill:d.stroke,tabIndex:-1});return L.createElement($e,_s({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Wi(i.props,d,p),{key:"sector-".concat(d?.startAngle,"-").concat(d?.endAngle,"-").concat(d.midAngle,"-").concat(p)}),L.createElement(_f,_s({option:y,isActive:h,shapeType:"sector"},N)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,d=i.animationEasing,p=i.animationId,h=this.state,g=h.prevSectors,y=h.prevIsAnimationActive;return L.createElement(Dn,{begin:c,duration:f,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(N){var S=N.t,w=[],j=a&&a[0],T=j.startAngle;return a.forEach(function(C,A){var E=g&&g[A],P=A>0?Rn(C,"paddingAngle",0):0;if(E){var O=st(E.endAngle-E.startAngle,C.endAngle-C.startAngle),M=ut(ut({},C),{},{startAngle:T+P,endAngle:T+O(S)+P});w.push(M),T=M.endAngle}else{var D=C.endAngle,G=C.startAngle,B=st(0,D-G),F=B(S),K=ut(ut({},C),{},{startAngle:T+P,endAngle:T+F+P});w.push(K),T=K.endAngle}}),L.createElement($e,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!oi(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,c=i.className,f=i.label,d=i.cx,p=i.cy,h=i.innerRadius,g=i.outerRadius,y=i.isAnimationActive,N=this.state.isAnimationFinished;if(a||!o||!o.length||!ce(d)||!ce(p)||!ce(h)||!ce(g))return null;var S=Re("recharts-pie",c);return L.createElement($e,{tabIndex:this.props.rootTabIndex,className:S,ref:function(j){r.pieRef=j}},this.renderSectors(),f&&this.renderLabels(o),zt.renderCallByParent(this.props,null,!1),(!y||N)&&Xn.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(L.isValidElement(r))return L.cloneElement(r,i);if(Te(r))return r(i);var o=Re("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return L.createElement(Hi,_s({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(L.isValidElement(r))return L.cloneElement(r,i);var o=a;if(Te(r)&&(o=r(i),L.isValidElement(o)))return o;var c=Re("recharts-pie-label-text",typeof r!="boolean"&&!Te(r)?r.className:"");return L.createElement(Pa,_s({},i,{alignmentBaseline:"middle",className:c}),o)}}])})(R.PureComponent);kd=wr;Wn(wr,"displayName","Pie");Wn(wr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Fr.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Wn(wr,"parseDeltaAngle",function(t,e){var n=dn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Wn(wr,"getRealPieData",function(t){var e=t.data,n=t.children,r=ve(t,!1),i=hn(n,Mr);return e&&e.length?e.map(function(a,o){return ut(ut(ut({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return ut(ut({},r),a.props)}):[]});Wn(wr,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=hM(i,a),c=r+fn(t.cx,i,i/2),f=n+fn(t.cy,a,a/2),d=fn(t.innerRadius,o,0),p=fn(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:c,cy:f,innerRadius:d,outerRadius:p,maxRadius:h}});Wn(wr,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?ut(ut({},e.type.defaultProps),e.props):e.props,i=kd.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,c=r.endAngle,f=r.paddingAngle,d=r.dataKey,p=r.nameKey,h=r.valueKey,g=r.tooltipType,y=Math.abs(r.minAngle),N=kd.parseCoordinateOfPie(r,n),S=kd.parseDeltaAngle(o,c),w=Math.abs(S),j=d;Ee(d)&&Ee(h)?(vr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):Ee(d)&&(vr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=h);var T=i.filter(function(M){return ot(M,j,0)!==0}).length,C=(w>=360?T:T-1)*f,A=w-T*y-C,E=i.reduce(function(M,D){var G=ot(D,j,0);return M+(ce(G)?G:0)},0),P;if(E>0){var O;P=i.map(function(M,D){var G=ot(M,j,0),B=ot(M,p,D),F=(ce(G)?G:0)/E,K;D?K=O.endAngle+dn(S)*f*(G!==0?1:0):K=o;var J=K+dn(S)*((G!==0?y:0)+F*A),Z=(K+J)/2,H=(N.innerRadius+N.outerRadius)/2,z=[{name:B,value:G,payload:M,dataKey:j,type:g}],W=Qe(N.cx,N.cy,H,Z);return O=ut(ut(ut({percent:F,cornerRadius:a,name:B,tooltipPayload:z,midAngle:Z,middleRadius:H,tooltipPosition:W},M),N),{},{value:ot(M,j),startAngle:K,endAngle:J,payload:M,paddingAngle:dn(S)*f}),O})}return ut(ut({},N),{},{sectors:P,data:i})});var mv,WP;function KQ(){if(WP)return mv;WP=1;function t(e){return e&&e.length?e[0]:void 0}return mv=t,mv}var gv,KP;function YQ(){return KP||(KP=1,gv=KQ()),gv}var JQ=YQ();const XQ=et(JQ);var ZQ=["key"];function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function QQ(t,e){if(t==null)return{};var n=eee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kf(){return kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kf.apply(this,arguments)}function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){Jr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LM(r.key),r)}}function nee(t,e,n){return e&&JP(t.prototype,e),n&&JP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ree(t,e,n){return e=Af(e),iee(t,DM()?Reflect.construct(e,n||[],Af(t).constructor):e.apply(t,n))}function iee(t,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aee(t)}function aee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DM=function(){return!!t})()}function Af(t){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Af(t)}function see(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cb(t,e)}function cb(t,e){return cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cb(t,e)}function Jr(t,e,n){return e=LM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LM(t){var e=oee(t,"string");return Xs(e)=="symbol"?e:e+""}function oee(t,e){if(Xs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bc=(function(t){function e(){var n;tee(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ree(this,e,[].concat(i)),Jr(n,"state",{isAnimationFinished:!1}),Jr(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Te(o)&&o()}),Jr(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Te(o)&&o()}),Jr(n,"handleMouseEnter",function(o){var c=n.props.onMouseEnter;c&&c(n.props,o)}),Jr(n,"handleMouseLeave",function(o){var c=n.props.onMouseLeave;c&&c(n.props,o)}),n}return see(e,t),nee(e,[{key:"renderDots",value:function(r){var i=this.props,a=i.dot,o=i.dataKey,c=ve(this.props,!1),f=ve(a,!0),d=r.map(function(p,h){var g=un(un(un({key:"dot-".concat(h),r:3},c),f),{},{dataKey:o,cx:p.x,cy:p.y,index:h,payload:p});return e.renderDotItem(a,g)});return L.createElement($e,{className:"recharts-radar-dots"},d)}},{key:"renderPolygonStatically",value:function(r){var i=this.props,a=i.shape,o=i.dot,c=i.isRange,f=i.baseLinePoints,d=i.connectNulls,p;return L.isValidElement(a)?p=L.cloneElement(a,un(un({},this.props),{},{points:r})):Te(a)?p=a(un(un({},this.props),{},{points:r})):p=L.createElement(TM,kf({},ve(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:r,baseLinePoints:c?f:null,connectNulls:d})),L.createElement($e,{className:"recharts-radar-polygon"},p,o?this.renderDots(r):null)}},{key:"renderPolygonWithAnimation",value:function(){var r=this,i=this.props,a=i.points,o=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,d=i.animationEasing,p=i.animationId,h=this.state.prevPoints;return L.createElement(Dn,{begin:c,duration:f,isActive:o,easing:d,from:{t:0},to:{t:1},key:"radar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t,N=h&&h.length/a.length,S=a.map(function(w,j){var T=h&&h[Math.floor(j*N)];if(T){var C=st(T.x,w.x),A=st(T.y,w.y);return un(un({},w),{},{x:C(y),y:A(y)})}var E=st(w.cx,w.x),P=st(w.cy,w.y);return un(un({},w),{},{x:E(y),y:P(y)})});return r.renderPolygonStatically(S)})}},{key:"renderPolygon",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,o=r.isRange,c=this.state.prevPoints;return a&&i&&i.length&&!o&&(!c||!oi(c,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.className,o=r.points,c=r.isAnimationActive;if(i||!o||!o.length)return null;var f=this.state.isAnimationFinished,d=Re("recharts-radar",a);return L.createElement($e,{className:d},this.renderPolygon(),(!c||f)&&Xn.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"renderDotItem",value:function(r,i){var a;if(L.isValidElement(r))a=L.cloneElement(r,i);else if(Te(r))a=r(i);else{var o=i.key,c=QQ(i,ZQ);a=L.createElement(jo,kf({},c,{key:o,className:Re("recharts-radar-dot",typeof r!="boolean"?r.className:"")}))}return a}}])})(R.PureComponent);Jr(Bc,"displayName","Radar");Jr(Bc,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Fr.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Jr(Bc,"getComposedData",function(t){var e=t.radiusAxis,n=t.angleAxis,r=t.displayedData,i=t.dataKey,a=t.bandSize,o=n.cx,c=n.cy,f=!1,d=[],p=n.type!=="number"?a??0:0;r.forEach(function(g,y){var N=ot(g,n.dataKey,y),S=ot(g,i),w=n.scale(N)+p,j=Array.isArray(S)?vM(S):S,T=Ee(j)?void 0:e.scale(j);Array.isArray(S)&&S.length>=2&&(f=!0),d.push(un(un({},Qe(o,c,T,w)),{},{name:N,value:S,cx:o,cy:c,radius:T,angle:w,payload:g}))});var h=[];return f&&d.forEach(function(g){if(Array.isArray(g.value)){var y=XQ(g.value),N=Ee(y)?void 0:e.scale(y);h.push(un(un({},g),{},{radius:N},Qe(o,c,N,g.angle)))}else h.push(g)}),{points:d,isRange:f,baseLinePoints:h}});var xv,XP;function lee(){if(XP)return xv;XP=1;var t=Math.ceil,e=Math.max;function n(r,i,a,o){for(var c=-1,f=e(t((i-r)/(a||1)),0),d=Array(f);f--;)d[o?f:++c]=r,r+=a;return d}return xv=n,xv}var vv,ZP;function $M(){if(ZP)return vv;ZP=1;var t=nR(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return vv=r,vv}var yv,QP;function cee(){if(QP)return yv;QP=1;var t=lee(),e=dp(),n=$M();function r(i){return function(a,o,c){return c&&typeof c!="number"&&e(a,o,c)&&(o=c=void 0),a=n(a),o===void 0?(o=a,a=0):o=n(o),c=c===void 0?a<o?1:-1:n(c),t(a,o,c,i)}}return yv=r,yv}var bv,eI;function uee(){if(eI)return bv;eI=1;var t=cee(),e=t();return bv=e,bv}var dee=uee();const Tf=et(dee);function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){FM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FM(t,e,n){return e=fee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fee(t){var e=pee(t,"string");return Tc(e)=="symbol"?e:e+""}function pee(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hee=["Webkit","Moz","O","ms"],mee=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=hee.reduce(function(a,o){return nI(nI({},a),{},FM({},o+r,n))},{});return i[e]=n,i};function Zs(t){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ef.apply(this,arguments)}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){Pn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BM(r.key),r)}}function xee(t,e,n){return e&&iI(t.prototype,e),n&&iI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vee(t,e,n){return e=Cf(e),yee(t,UM()?Reflect.construct(e,n||[],Cf(t).constructor):e.apply(t,n))}function yee(t,e){if(e&&(Zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bee(t)}function bee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UM=function(){return!!t})()}function Cf(t){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cf(t)}function wee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}function ub(t,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ub(t,e)}function Pn(t,e,n){return e=BM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BM(t){var e=Nee(t,"string");return Zs(e)=="symbol"?e:e+""}function Nee(t,e){if(Zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var See=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,c=e.travellerWidth;if(!n||!n.length)return{};var f=n.length,d=Fl().domain(Tf(0,f)).range([a,a+o-c]),p=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(i),scale:d,scaleValues:p}},aI=function(e){return e.changedTouches&&!!e.changedTouches.length},Qs=(function(t){function e(n){var r;return gee(this,e),r=vee(this,e,[n]),Pn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Pn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Pn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,c=i.startIndex;o?.({endIndex:a,startIndex:c})}),r.detachDragEndListener()}),Pn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Pn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Pn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Pn(r,"handleSlideDragStart",function(i){var a=aI(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return wee(e,t),xee(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,c=this.props,f=c.gap,d=c.data,p=d.length-1,h=Math.min(i,a),g=Math.max(i,a),y=e.getIndexInRange(o,h),N=e.getIndexInRange(o,g);return{startIndex:y-y%f,endIndex:N===p?p:N-N%f}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,c=i.dataKey,f=ot(a[r],c,r);return Te(o)?o(f,r):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,c=i.endX,f=this.props,d=f.x,p=f.width,h=f.travellerWidth,g=f.startIndex,y=f.endIndex,N=f.onChange,S=r.pageX-a;S>0?S=Math.min(S,d+p-h-c,d+p-h-o):S<0&&(S=Math.max(S,d-o,d-c));var w=this.getIndex({startX:o+S,endX:c+S});(w.startIndex!==g||w.endIndex!==y)&&N&&N(w),this.setState({startX:o+S,endX:c+S,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=aI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,c=i.endX,f=i.startX,d=this.state[o],p=this.props,h=p.x,g=p.width,y=p.travellerWidth,N=p.onChange,S=p.gap,w=p.data,j={startX:this.state.startX,endX:this.state.endX},T=r.pageX-a;T>0?T=Math.min(T,h+g-y-d):T<0&&(T=Math.max(T,h-d)),j[o]=d+T;var C=this.getIndex(j),A=C.startIndex,E=C.endIndex,P=function(){var M=w.length-1;return o==="startX"&&(c>f?A%S===0:E%S===0)||c<f&&E===M||o==="endX"&&(c>f?E%S===0:A%S===0)||c>f&&E===M};this.setState(Pn(Pn({},o,d+T),"brushMoveStartX",r.pageX),function(){N&&P()&&N(C)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,c=o.scaleValues,f=o.startX,d=o.endX,p=this.state[i],h=c.indexOf(p);if(h!==-1){var g=h+r;if(!(g===-1||g>=c.length)){var y=c[g];i==="startX"&&y>=d||i==="endX"&&y<=f||this.setState(Pn({},i,y),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,c=r.height,f=r.fill,d=r.stroke;return L.createElement("rect",{stroke:d,fill:f,x:i,y:a,width:o,height:c})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,c=r.height,f=r.data,d=r.children,p=r.padding,h=R.Children.only(d);return h?L.cloneElement(h,{x:i,y:a,width:o,height:c,margin:p,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,c=this,f=this.props,d=f.y,p=f.travellerWidth,h=f.height,g=f.traveller,y=f.ariaLabel,N=f.data,S=f.startIndex,w=f.endIndex,j=Math.max(r,this.props.x),T=wv(wv({},ve(this.props,!1)),{},{x:j,y:d,width:p,height:h}),C=y||"Min value: ".concat((a=N[S])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=N[w])===null||o===void 0?void 0:o.name);return L.createElement($e,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),c.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,T))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,c=a.height,f=a.stroke,d=a.travellerWidth,p=Math.min(r,i)+d,h=Math.max(Math.abs(i-r)-d,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:p,y:o,width:h,height:c})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,c=r.height,f=r.travellerWidth,d=r.stroke,p=this.state,h=p.startX,g=p.endX,y=5,N={pointerEvents:"none",fill:d};return L.createElement($e,{className:"recharts-brush-texts"},L.createElement(Pa,Ef({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,g)-y,y:o+c/2},N),this.getTextOfTick(i)),L.createElement(Pa,Ef({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,g)+f+y,y:o+c/2},N),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,c=r.x,f=r.y,d=r.width,p=r.height,h=r.alwaysShowText,g=this.state,y=g.startX,N=g.endX,S=g.isTextActive,w=g.isSlideMoving,j=g.isTravellerMoving,T=g.isTravellerFocused;if(!i||!i.length||!ce(c)||!ce(f)||!ce(d)||!ce(p)||d<=0||p<=0)return null;var C=Re("recharts-brush",a),A=L.Children.count(o)===1,E=mee("userSelect","none");return L.createElement($e,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(y,N),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(N,"endX"),(S||w||j||T||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,c=r.height,f=r.stroke,d=Math.floor(a+c/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:i,y:a,width:o,height:c,fill:f,stroke:"none"}),L.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return L.isValidElement(r)?a=L.cloneElement(r,i):Te(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,c=r.x,f=r.travellerWidth,d=r.updateId,p=r.startIndex,h=r.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return wv({prevData:a,prevTravellerWidth:f,prevUpdateId:d,prevX:c,prevWidth:o},a&&a.length?See({data:a,width:o,x:c,travellerWidth:f,startIndex:p,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||c!==i.prevX||f!==i.prevTravellerWidth)){i.scale.range([c,c+o-f]);var g=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:a,prevTravellerWidth:f,prevUpdateId:d,prevX:c,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,c=a-1;c-o>1;){var f=Math.floor((o+c)/2);r[f]>i?c=f:o=f}return i>=r[c]?c:o}}])})(R.PureComponent);Pn(Qs,"displayName","Brush");Pn(Qs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Nv,sI;function _ee(){if(sI)return Nv;sI=1;var t=fw();function e(n,r){var i;return t(n,function(a,o,c){return i=r(a,o,c),!i}),!!i}return Nv=e,Nv}var Sv,oI;function jee(){if(oI)return Sv;oI=1;var t=OO(),e=$r(),n=_ee(),r=jn(),i=dp();function a(o,c,f){var d=r(o)?t:n;return f&&i(o,c,f)&&(c=void 0),d(o,e(c,3))}return Sv=a,Sv}var kee=jee();const Aee=et(kee);var Rr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},_v,lI;function Tee(){if(lI)return _v;lI=1;var t=XO();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return _v=e,_v}var jv,cI;function Eee(){if(cI)return jv;cI=1;var t=Tee(),e=YO(),n=$r();function r(i,a){var o={};return a=n(a,3),e(i,function(c,f,d){t(o,f,a(c,f,d))}),o}return jv=r,jv}var Cee=Eee();const Pee=et(Cee);var kv,uI;function Iee(){if(uI)return kv;uI=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return kv=t,kv}var Av,dI;function Oee(){if(dI)return Av;dI=1;var t=fw();function e(n,r){var i=!0;return t(n,function(a,o,c){return i=!!r(a,o,c),i}),i}return Av=e,Av}var Tv,fI;function Ree(){if(fI)return Tv;fI=1;var t=Iee(),e=Oee(),n=$r(),r=jn(),i=dp();function a(o,c,f){var d=r(o)?t:e;return f&&i(o,c,f)&&(c=void 0),d(o,n(c,3))}return Tv=a,Tv}var Mee=Ree();const qM=et(Mee);var Dee=["x","y"];function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},db.apply(this,arguments)}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Al(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){Lee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lee(t,e,n){return e=$ee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ee(t){var e=Fee(t,"string");return Ec(e)=="symbol"?e:e+""}function Fee(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uee(t,e){if(t==null)return{};var n=Bee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qee(t,e){var n=t.x,r=t.y,i=Uee(t,Dee),a="".concat(n),o=parseInt(a,10),c="".concat(r),f=parseInt(c,10),d="".concat(e.height||i.height),p=parseInt(d,10),h="".concat(e.width||i.width),g=parseInt(h,10);return Al(Al(Al(Al(Al({},e),i),o?{x:o}:{}),f?{y:f}:{}),{},{height:p,width:g,name:e.name,radius:e.radius})}function hI(t){return L.createElement(_f,db({shapeType:"rectangle",propTransformer:qee,activeClassName:"recharts-active-bar"},t))}var Gee=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=ce(r)||Bq(r);return a?e(r,i):(a||Oa(),n)}},Hee=["value","background"],GM;function eo(t){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eo(t)}function zee(t,e){if(t==null)return{};var n=Vee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pf(){return Pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pf.apply(this,arguments)}function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){Ui(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zM(r.key),r)}}function Kee(t,e,n){return e&&gI(t.prototype,e),n&&gI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yee(t,e,n){return e=If(e),Jee(t,HM()?Reflect.construct(e,n||[],If(t).constructor):e.apply(t,n))}function Jee(t,e){if(e&&(eo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xee(t)}function Xee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HM=function(){return!!t})()}function If(t){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},If(t)}function Zee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fb(t,e)}function fb(t,e){return fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fb(t,e)}function Ui(t,e,n){return e=zM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zM(t){var e=Qee(t,"string");return eo(e)=="symbol"?e:e+""}function Qee(t,e){if(eo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sn=(function(t){function e(){var n;Wee(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Yee(this,e,[].concat(i)),Ui(n,"state",{isAnimationFinished:!1}),Ui(n,"id",Ji("recharts-bar-")),Ui(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Ui(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Zee(e,t),Kee(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,c=a.dataKey,f=a.activeIndex,d=a.activeBar,p=ve(this.props,!1);return r&&r.map(function(h,g){var y=g===f,N=y?d:o,S=Tt(Tt(Tt({},p),h),{},{isActive:y,option:N,index:g,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return L.createElement($e,Pf({className:"recharts-bar-rectangle"},Wi(i.props,h,g),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(g)}),L.createElement(hI,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,c=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,p=i.animationEasing,h=i.animationId,g=this.state.prevData;return L.createElement(Dn,{begin:f,duration:d,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var N=y.t,S=a.map(function(w,j){var T=g&&g[j];if(T){var C=st(T.x,w.x),A=st(T.y,w.y),E=st(T.width,w.width),P=st(T.height,w.height);return Tt(Tt({},w),{},{x:C(N),y:A(N),width:E(N),height:P(N)})}if(o==="horizontal"){var O=st(0,w.height),M=O(N);return Tt(Tt({},w),{},{y:w.y+w.height-M,height:M})}var D=st(0,w.width),G=D(N);return Tt(Tt({},w),{},{width:G})});return L.createElement($e,null,r.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!oi(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,c=i.activeIndex,f=ve(this.props.background,!1);return a.map(function(d,p){d.value;var h=d.background,g=zee(d,Hee);if(!h)return null;var y=Tt(Tt(Tt(Tt(Tt({},g),{},{fill:"#eee"},h),f),Wi(r.props,d,p)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:p,className:"recharts-bar-background-rectangle"});return L.createElement(hI,Pf({key:"background-bar-".concat(p),option:r.props.background,isActive:p===c},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,c=a.xAxis,f=a.yAxis,d=a.layout,p=a.children,h=hn(p,_o);if(!h)return null;var g=d==="vertical"?o[0].height/2:o[0].width/2,y=function(w,j){var T=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:T,errorVal:ot(w,j)}},N={clipPath:r?"url(#clipPath-".concat(i,")"):null};return L.createElement($e,N,h.map(function(S){return L.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:o,xAxis:c,yAxis:f,layout:d,offset:g,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,c=r.xAxis,f=r.yAxis,d=r.left,p=r.top,h=r.width,g=r.height,y=r.isAnimationActive,N=r.background,S=r.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,j=Re("recharts-bar",o),T=c&&c.allowDataOverflow,C=f&&f.allowDataOverflow,A=T||C,E=Ee(S)?this.id:S;return L.createElement($e,{className:j},T||C?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(E)},L.createElement("rect",{x:T?d:d-h/2,y:C?p:p-g/2,width:T?h:h*2,height:C?g:g*2}))):null,L.createElement($e,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(E,")"):null},N?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,E),(!y||w)&&Xn.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(R.PureComponent);GM=sn;Ui(sn,"displayName","Bar");Ui(sn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fr.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ui(sn,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,c=t.xAxisTicks,f=t.yAxisTicks,d=t.stackedData,p=t.dataStartIndex,h=t.displayedData,g=t.offset,y=n7(r,n);if(!y)return null;var N=e.layout,S=n.type.defaultProps,w=S!==void 0?Tt(Tt({},S),n.props):n.props,j=w.dataKey,T=w.children,C=w.minPointSize,A=N==="horizontal"?o:a,E=d?A.scale.domain():null,P=c7({numericAxis:A}),O=hn(T,Mr),M=h.map(function(D,G){var B,F,K,J,Z,H;d?B=r7(d[p+G],E):(B=ot(D,j),Array.isArray(B)||(B=[P,B]));var z=Gee(C,GM.defaultProps.minPointSize)(B[1],G);if(N==="horizontal"){var W,ee=[o.scale(B[0]),o.scale(B[1])],ne=ee[0],U=ee[1];F=FC({axis:a,ticks:c,bandSize:i,offset:y.offset,entry:D,index:G}),K=(W=U??ne)!==null&&W!==void 0?W:void 0,J=y.size;var Y=ne-U;if(Z=Number.isNaN(Y)?0:Y,H={x:F,y:o.y,width:J,height:o.height},Math.abs(z)>0&&Math.abs(Z)<Math.abs(z)){var ue=dn(Z||z)*(Math.abs(z)-Math.abs(Z));K-=ue,Z+=ue}}else{var ye=[a.scale(B[0]),a.scale(B[1])],Ce=ye[0],De=ye[1];if(F=Ce,K=FC({axis:o,ticks:f,bandSize:i,offset:y.offset,entry:D,index:G}),J=De-Ce,Z=y.size,H={x:a.x,y:K,width:a.width,height:Z},Math.abs(z)>0&&Math.abs(J)<Math.abs(z)){var Ve=dn(J||z)*(Math.abs(z)-Math.abs(J));J+=Ve}}return Tt(Tt(Tt({},D),{},{x:F,y:K,width:J,height:Z,value:d?B:B[1],payload:D,background:H},O&&O[G]&&O[G].props),{},{tooltipPayload:[fM(n,D)],tooltipPosition:{x:F+J/2,y:K+Z/2}})});return Tt({data:M,layout:N},g)});function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function ete(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VM(r.key),r)}}function tte(t,e,n){return e&&xI(t.prototype,e),n&&xI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){kp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kp(t,e,n){return e=VM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VM(t){var e=nte(t,"string");return Cc(e)=="symbol"?e:e+""}function nte(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bw=function(e,n,r,i,a){var o=e.width,c=e.height,f=e.layout,d=e.children,p=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:c-r.bottom,bottomMirror:c-r.bottom},g=!!In(d,sn);return p.reduce(function(y,N){var S=n[N],w=S.orientation,j=S.domain,T=S.padding,C=T===void 0?{}:T,A=S.mirror,E=S.reversed,P="".concat(w).concat(A?"Mirror":""),O,M,D,G,B;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var F=j[1]-j[0],K=1/0,J=S.categoricalDomain.sort(zq);if(J.forEach(function(ye,Ce){Ce>0&&(K=Math.min((ye||0)-(J[Ce-1]||0),K))}),Number.isFinite(K)){var Z=K/F,H=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(O=Z*H/2),S.padding==="no-gap"){var z=fn(e.barCategoryGap,Z*H),W=Z*H/2;O=W-z-(W-z)/H*z}}}i==="xAxis"?M=[r.left+(C.left||0)+(O||0),r.left+r.width-(C.right||0)-(O||0)]:i==="yAxis"?M=f==="horizontal"?[r.top+r.height-(C.bottom||0),r.top+(C.top||0)]:[r.top+(C.top||0)+(O||0),r.top+r.height-(C.bottom||0)-(O||0)]:M=S.range,E&&(M=[M[1],M[0]]);var ee=lM(S,a,g),ne=ee.scale,U=ee.realScaleType;ne.domain(j).range(M),cM(ne);var Y=uM(ne,pr(pr({},S),{},{realScaleType:U}));i==="xAxis"?(B=w==="top"&&!A||w==="bottom"&&A,D=r.left,G=h[P]-B*S.height):i==="yAxis"&&(B=w==="left"&&!A||w==="right"&&A,D=h[P]-B*S.width,G=r.top);var ue=pr(pr(pr({},S),Y),{},{realScaleType:U,x:D,y:G,scale:ne,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return ue.bandSize=ff(ue,Y),!S.hide&&i==="xAxis"?h[P]+=(B?-1:1)*ue.height:S.hide||(h[P]+=(B?-1:1)*ue.width),pr(pr({},y),{},kp({},N,ue))},{})},WM=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},rte=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return WM({x:n,y:r},{x:i,y:a})},KM=(function(){function t(e){ete(this,t),this.scale=e}return tte(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(n)+c}default:return this.scale(n)}if(i){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();kp(KM,"EPS",1e-4);var qw=function(e){var n=Object.keys(e).reduce(function(r,i){return pr(pr({},r),{},kp({},i,KM.create(e[i])))},{});return pr(pr({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,c=a.position;return Pee(i,function(f,d){return n[d].apply(f,{bandAware:o,position:c})})},isInRange:function(i){return qM(i,function(a,o){return n[o].isInRange(a)})}})};function ite(t){return(t%180+180)%180}var ate=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ite(i),o=a*Math.PI/180,c=Math.atan(r/n),f=o>c&&o<Math.PI-c?r/Math.sin(o):n/Math.cos(o);return Math.abs(f)},Ev,yI;function ste(){if(yI)return Ev;yI=1;var t=$r(),e=Mc(),n=cp();function r(i){return function(a,o,c){var f=Object(a);if(!e(a)){var d=t(o,3);a=n(a),o=function(h){return d(f[h],h,f)}}var p=i(a,o,c);return p>-1?f[d?a[p]:p]:void 0}}return Ev=r,Ev}var Cv,bI;function ote(){if(bI)return Cv;bI=1;var t=$M();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return Cv=e,Cv}var Pv,wI;function lte(){if(wI)return Pv;wI=1;var t=HO(),e=$r(),n=ote(),r=Math.max;function i(a,o,c){var f=a==null?0:a.length;if(!f)return-1;var d=c==null?0:n(c);return d<0&&(d=r(f+d,0)),t(a,e(o,3),d)}return Pv=i,Pv}var Iv,NI;function cte(){if(NI)return Iv;NI=1;var t=ste(),e=lte(),n=t(e);return Iv=n,Iv}var ute=cte();const dte=et(ute);var fte=aO();const pte=et(fte);var hte=pte(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Gw=R.createContext(void 0),Hw=R.createContext(void 0),YM=R.createContext(void 0),JM=R.createContext({}),XM=R.createContext(void 0),ZM=R.createContext(0),QM=R.createContext(0),SI=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,c=e.children,f=e.width,d=e.height,p=hte(a);return L.createElement(Gw.Provider,{value:r},L.createElement(Hw.Provider,{value:i},L.createElement(JM.Provider,{value:a},L.createElement(YM.Provider,{value:p},L.createElement(XM.Provider,{value:o},L.createElement(ZM.Provider,{value:d},L.createElement(QM.Provider,{value:f},c)))))))},mte=function(){return R.useContext(XM)},e5=function(e){var n=R.useContext(Gw);n==null&&Oa();var r=n[e];return r==null&&Oa(),r},gte=function(){var e=R.useContext(Gw);return Li(e)},xte=function(){var e=R.useContext(Hw),n=dte(e,function(r){return qM(r.domain,Number.isFinite)});return n||Li(e)},t5=function(e){var n=R.useContext(Hw);n==null&&Oa();var r=n[e];return r==null&&Oa(),r},vte=function(){var e=R.useContext(YM);return e},yte=function(){return R.useContext(JM)},zw=function(){return R.useContext(QM)},Vw=function(){return R.useContext(ZM)};function to(t){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},to(t)}function bte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r5(r.key),r)}}function Nte(t,e,n){return e&&wte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ste(t,e,n){return e=Of(e),_te(t,n5()?Reflect.construct(e,n||[],Of(t).constructor):e.apply(t,n))}function _te(t,e){if(e&&(to(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jte(t)}function jte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n5=function(){return!!t})()}function Of(t){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Of(t)}function kte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pb(t,e)}function pb(t,e){return pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pb(t,e)}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){Ww(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ww(t,e,n){return e=r5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r5(t){var e=Ate(t,"string");return to(e)=="symbol"?e:e+""}function Ate(t,e){if(to(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(to(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Tte(t,e){return Ite(t)||Pte(t,e)||Cte(t,e)||Ete()}function Ete(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cte(t,e){if(t){if(typeof t=="string")return kI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kI(t,e)}}function kI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],f=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return c}}function Ite(t){if(Array.isArray(t))return t}function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hb.apply(this,arguments)}var Ote=function(e,n){var r;return L.isValidElement(e)?r=L.cloneElement(e,n):Te(e)?r=e(n):r=L.createElement("line",hb({},n,{className:"recharts-reference-line-line"})),r},Rte=function(e,n,r,i,a,o,c,f,d){var p=a.x,h=a.y,g=a.width,y=a.height;if(r){var N=d.y,S=e.y.apply(N,{position:o});if(Rr(d,"discard")&&!e.y.isInRange(S))return null;var w=[{x:p+g,y:S},{x:p,y:S}];return f==="left"?w.reverse():w}if(n){var j=d.x,T=e.x.apply(j,{position:o});if(Rr(d,"discard")&&!e.x.isInRange(T))return null;var C=[{x:T,y:h+y},{x:T,y:h}];return c==="top"?C.reverse():C}if(i){var A=d.segment,E=A.map(function(P){return e.apply(P,{position:o})});return Rr(d,"discard")&&Aee(E,function(P){return!e.isInRange(P)})?null:E}return null};function Mte(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,c=t.className,f=t.alwaysShow,d=mte(),p=e5(i),h=t5(a),g=vte();if(!d||!g)return null;vr(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=qw({x:p.scale,y:h.scale}),N=Mt(e),S=Mt(n),w=r&&r.length===2,j=Rte(y,N,S,w,g,t.position,p.orientation,h.orientation,t);if(!j)return null;var T=Tte(j,2),C=T[0],A=C.x,E=C.y,P=T[1],O=P.x,M=P.y,D=Rr(t,"hidden")?"url(#".concat(d,")"):void 0,G=jI(jI({clipPath:D},ve(t,!0)),{},{x1:A,y1:E,x2:O,y2:M});return L.createElement($e,{className:Re("recharts-reference-line",c)},Ote(o,G),zt.renderCallByParent(t,rte({x1:A,y1:E,x2:O,y2:M})))}var Kw=(function(t){function e(){return bte(this,e),Ste(this,e,arguments)}return kte(e,t),Nte(e,[{key:"render",value:function(){return L.createElement(Mte,this.props)}}])})(L.Component);Ww(Kw,"displayName","ReferenceLine");Ww(Kw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mb.apply(this,arguments)}function no(t){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},no(t)}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){Ap(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a5(r.key),r)}}function $te(t,e,n){return e&&Lte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fte(t,e,n){return e=Rf(e),Ute(t,i5()?Reflect.construct(e,n||[],Rf(t).constructor):e.apply(t,n))}function Ute(t,e){if(e&&(no(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bte(t)}function Bte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i5=function(){return!!t})()}function Rf(t){return Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rf(t)}function qte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gb(t,e)}function gb(t,e){return gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gb(t,e)}function Ap(t,e,n){return e=a5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a5(t){var e=Gte(t,"string");return no(e)=="symbol"?e:e+""}function Gte(t,e){if(no(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(no(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hte=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=qw({x:i.scale,y:a.scale}),c=o.apply({x:n,y:r},{bandAware:!0});return Rr(e,"discard")&&!o.isInRange(c)?null:c},Tp=(function(t){function e(){return Dte(this,e),Fte(this,e,arguments)}return qte(e,t),$te(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,c=r.alwaysShow,f=r.clipPathId,d=Mt(i),p=Mt(a);if(vr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!p)return null;var h=Hte(this.props);if(!h)return null;var g=h.x,y=h.y,N=this.props,S=N.shape,w=N.className,j=Rr(this.props,"hidden")?"url(#".concat(f,")"):void 0,T=TI(TI({clipPath:j},ve(this.props,!0)),{},{cx:g,cy:y});return L.createElement($e,{className:Re("recharts-reference-dot",w)},e.renderDot(S,T),zt.renderCallByParent(this.props,{x:g-o,y:y-o,width:2*o,height:2*o}))}}])})(L.Component);Ap(Tp,"displayName","ReferenceDot");Ap(Tp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ap(Tp,"renderDot",function(t,e){var n;return L.isValidElement(t)?n=L.cloneElement(t,e):Te(t)?n=t(e):n=L.createElement(jo,mb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xb.apply(this,arguments)}function ro(t){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ro(t)}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){Ep(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o5(r.key),r)}}function Wte(t,e,n){return e&&Vte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kte(t,e,n){return e=Mf(e),Yte(t,s5()?Reflect.construct(e,n||[],Mf(t).constructor):e.apply(t,n))}function Yte(t,e){if(e&&(ro(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jte(t)}function Jte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s5=function(){return!!t})()}function Mf(t){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mf(t)}function Xte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vb(t,e)}function vb(t,e){return vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vb(t,e)}function Ep(t,e,n){return e=o5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o5(t){var e=Zte(t,"string");return ro(e)=="symbol"?e:e+""}function Zte(t,e){if(ro(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ro(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qte=function(e,n,r,i,a){var o=a.x1,c=a.x2,f=a.y1,d=a.y2,p=a.xAxis,h=a.yAxis;if(!p||!h)return null;var g=qw({x:p.scale,y:h.scale}),y={x:e?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(f,{position:"start"}):g.y.rangeMin},N={x:n?g.x.apply(c,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(d,{position:"end"}):g.y.rangeMax};return Rr(a,"discard")&&(!g.isInRange(y)||!g.isInRange(N))?null:WM(y,N)},Cp=(function(t){function e(){return zte(this,e),Kte(this,e,arguments)}return Xte(e,t),Wte(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,c=r.y2,f=r.className,d=r.alwaysShow,p=r.clipPathId;vr(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Mt(i),g=Mt(a),y=Mt(o),N=Mt(c),S=this.props.shape;if(!h&&!g&&!y&&!N&&!S)return null;var w=Qte(h,g,y,N,this.props);if(!w&&!S)return null;var j=Rr(this.props,"hidden")?"url(#".concat(p,")"):void 0;return L.createElement($e,{className:Re("recharts-reference-area",f)},e.renderRect(S,CI(CI({clipPath:j},ve(this.props,!0)),w)),zt.renderCallByParent(this.props,w))}}])})(L.Component);Ep(Cp,"displayName","ReferenceArea");Ep(Cp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ep(Cp,"renderRect",function(t,e){var n;return L.isValidElement(t)?n=L.cloneElement(t,e):Te(t)?n=t(e):n=L.createElement(Uw,xb({},e,{className:"recharts-reference-area-rect"})),n});function l5(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function ene(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ate(r,n)}function tne(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,c=t.height;return e===1?{start:r?i:a,end:r?i+o:a+c}:{start:r?i+o:a+c,end:r?i:a}}function Df(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function nne(t,e){return l5(t,e+1)}function rne(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,c=e.end,f=0,d=1,p=o,h=function(){var N=r?.[f];if(N===void 0)return{v:l5(r,d)};var S=f,w,j=function(){return w===void 0&&(w=n(N,S)),w},T=N.coordinate,C=f===0||Df(t,T,j,p,c);C||(f=0,p=o,d+=1),C&&(p=T+t*(j()/2+i),f+=d)},g;d<=a.length;)if(g=h(),g)return g.v;return[]}function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){ine(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ine(t,e,n){return e=ane(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ane(t){var e=sne(t,"string");return Pc(e)=="symbol"?e:e+""}function sne(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function one(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,c=e.start,f=e.end,d=function(g){var y=a[g],N,S=function(){return N===void 0&&(N=n(y,g)),N};if(g===o-1){var w=t*(y.coordinate+t*S()/2-f);a[g]=y=nn(nn({},y),{},{tickCoord:w>0?y.coordinate-w*t:y.coordinate})}else a[g]=y=nn(nn({},y),{},{tickCoord:y.coordinate});var j=Df(t,y.tickCoord,S,c,f);j&&(f=y.tickCoord-t*(S()/2+i),a[g]=nn(nn({},y),{},{isShow:!0}))},p=o-1;p>=0;p--)d(p);return a}function lne(t,e,n,r,i,a){var o=(r||[]).slice(),c=o.length,f=e.start,d=e.end;if(a){var p=r[c-1],h=n(p,c-1),g=t*(p.coordinate+t*h/2-d);o[c-1]=p=nn(nn({},p),{},{tickCoord:g>0?p.coordinate-g*t:p.coordinate});var y=Df(t,p.tickCoord,function(){return h},f,d);y&&(d=p.tickCoord-t*(h/2+i),o[c-1]=nn(nn({},p),{},{isShow:!0}))}for(var N=a?c-1:c,S=function(T){var C=o[T],A,E=function(){return A===void 0&&(A=n(C,T)),A};if(T===0){var P=t*(C.coordinate-t*E()/2-f);o[T]=C=nn(nn({},C),{},{tickCoord:P<0?C.coordinate-P*t:C.coordinate})}else o[T]=C=nn(nn({},C),{},{tickCoord:C.coordinate});var O=Df(t,C.tickCoord,E,f,d);O&&(f=C.tickCoord+t*(E()/2+i),o[T]=nn(nn({},C),{},{isShow:!0}))},w=0;w<N;w++)S(w);return o}function Yw(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,c=t.orientation,f=t.interval,d=t.tickFormatter,p=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(ce(f)||Fr.isSsr)return nne(i,typeof f=="number"&&ce(f)?f:0);var g=[],y=c==="top"||c==="bottom"?"width":"height",N=p&&y==="width"?$l(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=function(C,A){var E=Te(d)?d(C.value,A):C.value;return y==="width"?ene($l(E,{fontSize:e,letterSpacing:n}),N,h):$l(E,{fontSize:e,letterSpacing:n})[y]},w=i.length>=2?dn(i[1].coordinate-i[0].coordinate):1,j=tne(a,w,y);return f==="equidistantPreserveStart"?rne(w,j,S,i,o):(f==="preserveStart"||f==="preserveStartEnd"?g=lne(w,j,S,i,o,f==="preserveStartEnd"):g=one(w,j,S,i,o),g.filter(function(T){return T.isShow}))}var cne=["viewBox"],une=["viewBox"],dne=["ticks"];function io(t){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},io(t)}function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},js.apply(this,arguments)}function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){Jw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ov(t,e){if(t==null)return{};var n=fne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u5(r.key),r)}}function hne(t,e,n){return e&&OI(t.prototype,e),n&&OI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mne(t,e,n){return e=Lf(e),gne(t,c5()?Reflect.construct(e,n||[],Lf(t).constructor):e.apply(t,n))}function gne(t,e){if(e&&(io(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xne(t)}function xne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c5=function(){return!!t})()}function Lf(t){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lf(t)}function vne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yb(t,e)}function yb(t,e){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yb(t,e)}function Jw(t,e,n){return e=u5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u5(t){var e=yne(t,"string");return io(e)=="symbol"?e:e+""}function yne(t,e){if(io(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(io(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ao=(function(t){function e(n){var r;return pne(this,e),r=mne(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return vne(e,t),hne(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=Ov(r,cne),c=this.props,f=c.viewBox,d=Ov(c,une);return!Es(a,f)||!Es(o,d)||!Es(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,c=i.width,f=i.height,d=i.orientation,p=i.tickSize,h=i.mirror,g=i.tickMargin,y,N,S,w,j,T,C=h?-1:1,A=r.tickSize||p,E=ce(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":y=N=r.coordinate,w=o+ +!h*f,S=w-C*A,T=S-C*g,j=E;break;case"left":S=w=r.coordinate,N=a+ +!h*c,y=N-C*A,j=y-C*g,T=E;break;case"right":S=w=r.coordinate,N=a+ +h*c,y=N+C*A,j=y+C*g,T=E;break;default:y=N=r.coordinate,w=o+ +h*f,S=w+C*A,T=S+C*g,j=E;break}return{line:{x1:y,y1:S,x2:N,y2:w},tick:{x:j,y:T}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,c=r.height,f=r.orientation,d=r.mirror,p=r.axisLine,h=Ot(Ot(Ot({},ve(this.props,!1)),ve(p,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var g=+(f==="top"&&!d||f==="bottom"&&d);h=Ot(Ot({},h),{},{x1:i,y1:a+g*c,x2:i+o,y2:a+g*c})}else{var y=+(f==="left"&&!d||f==="right"&&d);h=Ot(Ot({},h),{},{x1:i+y*o,y1:a,x2:i+y*o,y2:a+c})}return L.createElement("line",js({},h,{className:Re("recharts-cartesian-axis-line",Rn(p,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,c=this.props,f=c.tickLine,d=c.stroke,p=c.tick,h=c.tickFormatter,g=c.unit,y=Yw(Ot(Ot({},this.props),{},{ticks:r}),i,a),N=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),w=ve(this.props,!1),j=ve(p,!1),T=Ot(Ot({},w),{},{fill:"none"},ve(f,!1)),C=y.map(function(A,E){var P=o.getTickLineCoord(A),O=P.line,M=P.tick,D=Ot(Ot(Ot(Ot({textAnchor:N,verticalAnchor:S},w),{},{stroke:"none",fill:d},j),M),{},{index:E,payload:A,visibleTicksCount:y.length,tickFormatter:h});return L.createElement($e,js({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Wi(o.props,A,E)),f&&L.createElement("line",js({},T,O,{className:Re("recharts-cartesian-axis-tick-line",Rn(f,"className"))})),p&&e.renderTickItem(p,D,"".concat(Te(h)?h(A.value,E):A.value).concat(g||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,c=i.height,f=i.ticksGenerator,d=i.className,p=i.hide;if(p)return null;var h=this.props,g=h.ticks,y=Ov(h,dne),N=g;return Te(f)&&(N=g&&g.length>0?f(this.props):f(y)),o<=0||c<=0||!N||!N.length?null:L.createElement($e,{className:Re("recharts-cartesian-axis",d),ref:function(w){r.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(N,this.state.fontSize,this.state.letterSpacing),zt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,c=Re(i.className,"recharts-cartesian-axis-tick-value");return L.isValidElement(r)?o=L.cloneElement(r,Ot(Ot({},i),{},{className:c})):Te(r)?o=r(Ot(Ot({},i),{},{className:c})):o=L.createElement(Pa,js({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(R.Component);Jw(Ao,"displayName","CartesianAxis");Jw(Ao,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var bne=["x1","y1","x2","y2","key"],wne=["offset"];function Ra(t){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(t)}function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){Nne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nne(t,e,n){return e=Sne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sne(t){var e=_ne(t,"string");return Ra(e)=="symbol"?e:e+""}function _ne(t,e){if(Ra(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ra(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ja(){return ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ja.apply(this,arguments)}function MI(t,e){if(t==null)return{};var n=jne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kne=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,c=e.height,f=e.ry;return L.createElement("rect",{x:i,y:a,ry:f,width:o,height:c,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function d5(t,e){var n;if(L.isValidElement(t))n=L.cloneElement(t,e);else if(Te(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,c=e.key,f=MI(e,bne),d=ve(f,!1);d.offset;var p=MI(d,wne);n=L.createElement("line",ja({},p,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:c}))}return n}function Ane(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(c,f){var d=rn(rn({},t),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(f),index:f});return d5(i,d)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Tne(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(c,f){var d=rn(rn({},t),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(f),index:f});return d5(i,d)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Ene(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,c=t.horizontalPoints,f=t.horizontal,d=f===void 0?!0:f;if(!d||!e||!e.length)return null;var p=c.map(function(g){return Math.round(g+i-i)}).sort(function(g,y){return g-y});i!==p[0]&&p.unshift(0);var h=p.map(function(g,y){var N=!p[y+1],S=N?i+o-g:p[y+1]-g;if(S<=0)return null;var w=y%e.length;return L.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:S,width:a,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Cne(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,c=t.width,f=t.height,d=t.verticalPoints;if(!n||!r||!r.length)return null;var p=d.map(function(g){return Math.round(g+a-a)}).sort(function(g,y){return g-y});a!==p[0]&&p.unshift(0);var h=p.map(function(g,y){var N=!p[y+1],S=N?a+c-g:p[y+1]-g;if(S<=0)return null;var w=y%r.length;return L.createElement("rect",{key:"react-".concat(y),x:g,y:o,width:S,height:f,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Pne=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return oM(Yw(rn(rn(rn({},Ao.defaultProps),r),{},{ticks:Qr(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},Ine=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return oM(Yw(rn(rn(rn({},Ao.defaultProps),r),{},{ticks:Qr(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},ms={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function gn(t){var e,n,r,i,a,o,c=zw(),f=Vw(),d=yte(),p=rn(rn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ms.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:ms.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ms.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ms.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:ms.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:ms.verticalFill,x:ce(t.x)?t.x:d.left,y:ce(t.y)?t.y:d.top,width:ce(t.width)?t.width:d.width,height:ce(t.height)?t.height:d.height}),h=p.x,g=p.y,y=p.width,N=p.height,S=p.syncWithTicks,w=p.horizontalValues,j=p.verticalValues,T=gte(),C=xte();if(!ce(y)||y<=0||!ce(N)||N<=0||!ce(h)||h!==+h||!ce(g)||g!==+g)return null;var A=p.verticalCoordinatesGenerator||Pne,E=p.horizontalCoordinatesGenerator||Ine,P=p.horizontalPoints,O=p.verticalPoints;if((!P||!P.length)&&Te(E)){var M=w&&w.length,D=E({yAxis:C?rn(rn({},C),{},{ticks:M?w:C.ticks}):void 0,width:c,height:f,offset:d},M?!0:S);vr(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ra(D),"]")),Array.isArray(D)&&(P=D)}if((!O||!O.length)&&Te(A)){var G=j&&j.length,B=A({xAxis:T?rn(rn({},T),{},{ticks:G?j:T.ticks}):void 0,width:c,height:f,offset:d},G?!0:S);vr(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ra(B),"]")),Array.isArray(B)&&(O=B)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(kne,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),L.createElement(Ane,ja({},p,{offset:d,horizontalPoints:P,xAxis:T,yAxis:C})),L.createElement(Tne,ja({},p,{offset:d,verticalPoints:O,xAxis:T,yAxis:C})),L.createElement(Ene,ja({},p,{horizontalPoints:P})),L.createElement(Cne,ja({},p,{verticalPoints:O})))}gn.displayName="CartesianGrid";var One=["type","layout","connectNulls","ref"],Rne=["key"];function ao(t){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ao(t)}function DI(t,e){if(t==null)return{};var n=Mne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hl.apply(this,arguments)}function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){hr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gs(t){return Fne(t)||$ne(t)||Lne(t)||Dne()}function Dne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lne(t,e){if(t){if(typeof t=="string")return bb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bb(t,e)}}function $ne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fne(t){if(Array.isArray(t))return bb(t)}function bb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Une(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p5(r.key),r)}}function Bne(t,e,n){return e&&$I(t.prototype,e),n&&$I(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qne(t,e,n){return e=$f(e),Gne(t,f5()?Reflect.construct(e,n||[],$f(t).constructor):e.apply(t,n))}function Gne(t,e){if(e&&(ao(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hne(t)}function Hne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f5=function(){return!!t})()}function $f(t){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$f(t)}function zne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wb(t,e)}function wb(t,e){return wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wb(t,e)}function hr(t,e,n){return e=p5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p5(t){var e=Vne(t,"string");return ao(e)=="symbol"?e:e+""}function Vne(t,e){if(ao(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ao(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ci=(function(t){function e(){var n;Une(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=qne(this,e,[].concat(i)),hr(n,"state",{isAnimationFinished:!0,totalLength:0}),hr(n,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),hr(n,"getStrokeDasharray",function(o,c,f){var d=f.reduce(function(j,T){return j+T});if(!d)return n.generateSimpleStrokeDasharray(c,o);for(var p=Math.floor(o/d),h=o%d,g=c-o,y=[],N=0,S=0;N<f.length;S+=f[N],++N)if(S+f[N]>h){y=[].concat(gs(f.slice(0,N)),[h-S]);break}var w=y.length%2===0?[0,g]:[g];return[].concat(gs(e.repeat(f,p)),gs(y),w).map(function(j){return"".concat(j,"px")}).join(", ")}),hr(n,"id",Ji("recharts-line-")),hr(n,"pathRef",function(o){n.mainCurve=o}),hr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),hr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return zne(e,t),Bne(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,c=a.xAxis,f=a.yAxis,d=a.layout,p=a.children,h=hn(p,_o);if(!h)return null;var g=function(S,w){return{x:S.x,y:S.y,value:S.value,errorVal:ot(S.payload,w)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return L.createElement($e,y,h.map(function(N){return L.cloneElement(N,{key:"bar-".concat(N.props.dataKey),data:o,xAxis:c,yAxis:f,layout:d,dataPointFormatter:g})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,f=c.dot,d=c.points,p=c.dataKey,h=ve(this.props,!1),g=ve(f,!0),y=d.map(function(S,w){var j=Cn(Cn(Cn({key:"dot-".concat(w),r:3},h),g),{},{index:w,cx:S.x,cy:S.y,value:S.value,dataKey:p,payload:S.payload,points:d});return e.renderDotItem(f,j)}),N={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return L.createElement($e,Hl({className:"recharts-line-dots",key:"dots"},N),y)}},{key:"renderCurveStatically",value:function(r,i,a,o){var c=this.props,f=c.type,d=c.layout,p=c.connectNulls;c.ref;var h=DI(c,One),g=Cn(Cn(Cn({},ve(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:f,layout:d,connectNulls:p});return L.createElement(Hi,Hl({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,c=o.points,f=o.strokeDasharray,d=o.isAnimationActive,p=o.animationBegin,h=o.animationDuration,g=o.animationEasing,y=o.animationId,N=o.animateNewValues,S=o.width,w=o.height,j=this.state,T=j.prevPoints,C=j.totalLength;return L.createElement(Dn,{begin:p,duration:h,isActive:d,easing:g,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var E=A.t;if(T){var P=T.length/c.length,O=c.map(function(F,K){var J=Math.floor(K*P);if(T[J]){var Z=T[J],H=st(Z.x,F.x),z=st(Z.y,F.y);return Cn(Cn({},F),{},{x:H(E),y:z(E)})}if(N){var W=st(S*2,F.x),ee=st(w/2,F.y);return Cn(Cn({},F),{},{x:W(E),y:ee(E)})}return Cn(Cn({},F),{},{x:F.x,y:F.y})});return a.renderCurveStatically(O,r,i)}var M=st(0,C),D=M(E),G;if(f){var B="".concat(f).split(/[,\s]+/gim).map(function(F){return parseFloat(F)});G=a.getStrokeDasharray(D,C,B)}else G=a.generateSimpleStrokeDasharray(C,D);return a.renderCurveStatically(c,r,i,{strokeDasharray:G})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,c=a.isAnimationActive,f=this.state,d=f.prevPoints,p=f.totalLength;return c&&o&&o.length&&(!d&&p>0||!oi(d,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,c=i.points,f=i.className,d=i.xAxis,p=i.yAxis,h=i.top,g=i.left,y=i.width,N=i.height,S=i.isAnimationActive,w=i.id;if(a||!c||!c.length)return null;var j=this.state.isAnimationFinished,T=c.length===1,C=Re("recharts-line",f),A=d&&d.allowDataOverflow,E=p&&p.allowDataOverflow,P=A||E,O=Ee(w)?this.id:w,M=(r=ve(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=M.r,G=D===void 0?3:D,B=M.strokeWidth,F=B===void 0?2:B,K=uO(o)?o:{},J=K.clipDot,Z=J===void 0?!0:J,H=G*2+F;return L.createElement($e,{className:C},A||E?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(O)},L.createElement("rect",{x:A?g:g-y/2,y:E?h:h-N/2,width:A?y:y*2,height:E?N:N*2})),!Z&&L.createElement("clipPath",{id:"clipPath-dots-".concat(O)},L.createElement("rect",{x:g-H/2,y:h-H/2,width:y+H,height:N+H}))):null,!T&&this.renderCurve(P,O),this.renderErrorBar(P,O),(T||o)&&this.renderDots(P,Z,O),(!S||j)&&Xn.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(gs(r),[0]):r,o=[],c=0;c<i;++c)o=[].concat(gs(o),gs(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(L.isValidElement(r))a=L.cloneElement(r,i);else if(Te(r))a=r(i);else{var o=i.key,c=DI(i,Rne),f=Re("recharts-line-dot",typeof r!="boolean"?r.className:"");a=L.createElement(jo,Hl({key:o},c,{className:f}))}return a}}])})(R.PureComponent);hr(ci,"displayName","Line");hr(ci,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Fr.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});hr(ci,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,c=t.bandSize,f=t.displayedData,d=t.offset,p=e.layout,h=f.map(function(g,y){var N=ot(g,o);return p==="horizontal"?{x:Vs({axis:n,ticks:i,bandSize:c,entry:g,index:y}),y:Ee(N)?null:r.scale(N),value:N,payload:g}:{x:Ee(N)?null:n.scale(N),y:Vs({axis:r,ticks:a,bandSize:c,entry:g,index:y}),value:N,payload:g}});return Cn({points:h,layout:p},d)});var Wne=["layout","type","stroke","connectNulls","isRange","ref"],Kne=["key"],h5;function so(t){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},so(t)}function m5(t,e){if(t==null)return{};var n=Yne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ka(){return ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ka.apply(this,arguments)}function FI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(n),!0).forEach(function(r){Cr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x5(r.key),r)}}function Xne(t,e,n){return e&&UI(t.prototype,e),n&&UI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zne(t,e,n){return e=Ff(e),Qne(t,g5()?Reflect.construct(e,n||[],Ff(t).constructor):e.apply(t,n))}function Qne(t,e){if(e&&(so(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ere(t)}function ere(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g5=function(){return!!t})()}function Ff(t){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ff(t)}function tre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nb(t,e)}function Nb(t,e){return Nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Nb(t,e)}function Cr(t,e,n){return e=x5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x5(t){var e=nre(t,"string");return so(e)=="symbol"?e:e+""}function nre(t,e){if(so(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(so(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xt=(function(t){function e(){var n;Jne(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Zne(this,e,[].concat(i)),Cr(n,"state",{isAnimationFinished:!0}),Cr(n,"id",Ji("recharts-area-")),Cr(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Te(o)&&o()}),Cr(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Te(o)&&o()}),n}return tre(e,t),Xne(e,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(o&&!c)return null;var f=this.props,d=f.dot,p=f.points,h=f.dataKey,g=ve(this.props,!1),y=ve(d,!0),N=p.map(function(w,j){var T=Ri(Ri(Ri({key:"dot-".concat(j),r:3},g),y),{},{index:j,cx:w.x,cy:w.y,dataKey:h,value:w.value,payload:w.payload,points:p});return e.renderDotItem(d,T)}),S={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return L.createElement($e,ka({className:"recharts-area-dots"},S),N)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,c=i.strokeWidth,f=o[0].x,d=o[o.length-1].x,p=r*Math.abs(f-d),h=Fi(o.map(function(g){return g.y||0}));return ce(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(Fi(a.map(function(g){return g.y||0})),h)),ce(h)?L.createElement("rect",{x:f<d?f:f-p,y:0,width:p,height:Math.floor(h+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,c=i.strokeWidth,f=o[0].y,d=o[o.length-1].y,p=r*Math.abs(f-d),h=Fi(o.map(function(g){return g.x||0}));return ce(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(Fi(a.map(function(g){return g.x||0})),h)),ce(h)?L.createElement("rect",{x:0,y:f<d?f:f-p,width:h+(c?parseInt("".concat(c),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var c=this.props,f=c.layout,d=c.type,p=c.stroke,h=c.connectNulls,g=c.isRange;c.ref;var y=m5(c,Wne);return L.createElement($e,{clipPath:a?"url(#clipPath-".concat(o,")"):null},L.createElement(Hi,ka({},ve(y,!0),{points:r,connectNulls:h,type:d,baseLine:i,layout:f,stroke:"none",className:"recharts-area-area"})),p!=="none"&&L.createElement(Hi,ka({},ve(this.props,!1),{className:"recharts-area-curve",layout:f,type:d,connectNulls:h,fill:"none",points:r})),p!=="none"&&g&&L.createElement(Hi,ka({},ve(this.props,!1),{className:"recharts-area-curve",layout:f,type:d,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,c=o.points,f=o.baseLine,d=o.isAnimationActive,p=o.animationBegin,h=o.animationDuration,g=o.animationEasing,y=o.animationId,N=this.state,S=N.prevPoints,w=N.prevBaseLine;return L.createElement(Dn,{begin:p,duration:h,isActive:d,easing:g,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var T=j.t;if(S){var C=S.length/c.length,A=c.map(function(M,D){var G=Math.floor(D*C);if(S[G]){var B=S[G],F=st(B.x,M.x),K=st(B.y,M.y);return Ri(Ri({},M),{},{x:F(T),y:K(T)})}return M}),E;if(ce(f)&&typeof f=="number"){var P=st(w,f);E=P(T)}else if(Ee(f)||yo(f)){var O=st(w,0);E=O(T)}else E=f.map(function(M,D){var G=Math.floor(D*C);if(w[G]){var B=w[G],F=st(B.x,M.x),K=st(B.y,M.y);return Ri(Ri({},M),{},{x:F(T),y:K(T)})}return M});return a.renderAreaStatically(A,E,r,i)}return L.createElement($e,null,L.createElement("defs",null,L.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(T))),L.createElement($e,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(c,f,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,c=a.baseLine,f=a.isAnimationActive,d=this.state,p=d.prevPoints,h=d.prevBaseLine,g=d.totalLength;return f&&o&&o.length&&(!p&&g>0||!oi(p,o)||!oi(h,c))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,c,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,c=i.points,f=i.className,d=i.top,p=i.left,h=i.xAxis,g=i.yAxis,y=i.width,N=i.height,S=i.isAnimationActive,w=i.id;if(a||!c||!c.length)return null;var j=this.state.isAnimationFinished,T=c.length===1,C=Re("recharts-area",f),A=h&&h.allowDataOverflow,E=g&&g.allowDataOverflow,P=A||E,O=Ee(w)?this.id:w,M=(r=ve(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=M.r,G=D===void 0?3:D,B=M.strokeWidth,F=B===void 0?2:B,K=uO(o)?o:{},J=K.clipDot,Z=J===void 0?!0:J,H=G*2+F;return L.createElement($e,{className:C},A||E?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(O)},L.createElement("rect",{x:A?p:p-y/2,y:E?d:d-N/2,width:A?y:y*2,height:E?N:N*2})),!Z&&L.createElement("clipPath",{id:"clipPath-dots-".concat(O)},L.createElement("rect",{x:p-H/2,y:d-H/2,width:y+H,height:N+H}))):null,T?null:this.renderArea(P,O),(o||T)&&this.renderDots(P,Z,O),(!S||j)&&Xn.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(R.PureComponent);h5=Xt;Cr(Xt,"displayName","Area");Cr(Xt,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Fr.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Cr(Xt,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,o=e.props.baseValue,c=o??a;if(ce(c)&&typeof c=="number")return c;var f=i==="horizontal"?r:n,d=f.scale.domain();if(f.type==="number"){var p=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return c==="dataMin"?h:c==="dataMax"||p<0?p:Math.max(Math.min(d[0],d[1]),0)}return c==="dataMin"?d[0]:c==="dataMax"?d[1]:d[0]});Cr(Xt,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,c=t.bandSize,f=t.dataKey,d=t.stackedData,p=t.dataStartIndex,h=t.displayedData,g=t.offset,y=e.layout,N=d&&d.length,S=h5.getBaseValue(e,n,r,i),w=y==="horizontal",j=!1,T=h.map(function(A,E){var P;N?P=d[p+E]:(P=ot(A,f),Array.isArray(P)?j=!0:P=[S,P]);var O=P[1]==null||N&&ot(A,f)==null;return w?{x:Vs({axis:r,ticks:a,bandSize:c,entry:A,index:E}),y:O?null:i.scale(P[1]),value:P,payload:A}:{x:O?null:r.scale(P[1]),y:Vs({axis:i,ticks:o,bandSize:c,entry:A,index:E}),value:P,payload:A}}),C;return N||j?C=T.map(function(A){var E=Array.isArray(A.value)?A.value[0]:null;return w?{x:A.x,y:E!=null&&A.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:A.y}}):C=w?i.scale(S):r.scale(S),Ri({points:T,baseLine:C,layout:y,isRange:j},g)});Cr(Xt,"renderDotItem",function(t,e){var n;if(L.isValidElement(t))n=L.cloneElement(t,e);else if(Te(t))n=t(e);else{var r=Re("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=m5(e,Kne);n=L.createElement(jo,ka({},a,{key:i,className:r}))}return n});function oo(t){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(t)}function rre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ire(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b5(r.key),r)}}function are(t,e,n){return e&&ire(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sre(t,e,n){return e=Uf(e),ore(t,v5()?Reflect.construct(e,n||[],Uf(t).constructor):e.apply(t,n))}function ore(t,e){if(e&&(oo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lre(t)}function lre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v5=function(){return!!t})()}function Uf(t){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uf(t)}function cre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sb(t,e)}function Sb(t,e){return Sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sb(t,e)}function y5(t,e,n){return e=b5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b5(t){var e=ure(t,"string");return oo(e)=="symbol"?e:e+""}function ure(t,e){if(oo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pp=(function(t){function e(){return rre(this,e),sre(this,e,arguments)}return cre(e,t),are(e,[{key:"render",value:function(){return null}}])})(R.Component);y5(Pp,"displayName","ZAxis");y5(Pp,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var dre=["option","isActive"];function zl(){return zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zl.apply(this,arguments)}function fre(t,e){if(t==null)return{};var n=pre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hre(t){var e=t.option,n=t.isActive,r=fre(t,dre);return typeof e=="string"?R.createElement(_f,zl({option:R.createElement(lp,zl({type:e},r)),isActive:n,shapeType:"symbols"},r)):R.createElement(_f,zl({option:e,isActive:n,shapeType:"symbols"},r))}function lo(t){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lo(t)}function Vl(){return Vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vl.apply(this,arguments)}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){Bi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N5(r.key),r)}}function gre(t,e,n){return e&&qI(t.prototype,e),n&&qI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xre(t,e,n){return e=Bf(e),vre(t,w5()?Reflect.construct(e,n||[],Bf(t).constructor):e.apply(t,n))}function vre(t,e){if(e&&(lo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yre(t)}function yre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w5=function(){return!!t})()}function Bf(t){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bf(t)}function bre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_b(t,e)}function _b(t,e){return _b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_b(t,e)}function Bi(t,e,n){return e=N5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N5(t){var e=wre(t,"string");return lo(e)=="symbol"?e:e+""}function wre(t,e){if(lo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ip=(function(t){function e(){var n;mre(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=xre(this,e,[].concat(i)),Bi(n,"state",{isAnimationFinished:!1}),Bi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Bi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Bi(n,"id",Ji("recharts-scatter-")),n}return bre(e,t),gre(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,a=this.props,o=a.shape,c=a.activeShape,f=a.activeIndex,d=ve(this.props,!1);return r.map(function(p,h){var g=f===h,y=g?c:o,N=Vn(Vn({},d),p);return L.createElement($e,Vl({className:"recharts-scatter-symbol",key:"symbol-".concat(p?.cx,"-").concat(p?.cy,"-").concat(p?.size,"-").concat(h)},Wi(i.props,p,h),{role:"img"}),L.createElement(hre,Vl({option:y,isActive:g,key:"symbol-".concat(h)},N)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,a=i.points,o=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,d=i.animationEasing,p=i.animationId,h=this.state.prevPoints;return L.createElement(Dn,{begin:c,duration:f,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t,N=a.map(function(S,w){var j=h&&h[w];if(j){var T=st(j.cx,S.cx),C=st(j.cy,S.cy),A=st(j.size,S.size);return Vn(Vn({},S),{},{cx:T(y),cy:C(y),size:A(y)})}var E=st(0,S.size);return Vn(Vn({},S),{},{size:E(y)})});return L.createElement($e,null,r.renderSymbolsStatically(N))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!oi(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,c=i.yAxis,f=i.children,d=hn(f,_o);return d?d.map(function(p,h){var g=p.props,y=g.direction,N=g.dataKey;return L.cloneElement(p,{key:"".concat(y,"-").concat(N,"-").concat(a[h]),data:a,xAxis:o,yAxis:c,layout:y==="x"?"vertical":"horizontal",dataPointFormatter:function(w,j){return{x:w.cx,y:w.cy,value:y==="x"?+w.node.x:+w.node.y,errorVal:ot(w,j)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,a=r.line,o=r.lineType,c=r.lineJointType,f=ve(this.props,!1),d=ve(a,!1),p,h;if(o==="joint")p=i.map(function(C){return{x:C.cx,y:C.cy}});else if(o==="fitting"){var g=Hq(i),y=g.xmin,N=g.xmax,S=g.a,w=g.b,j=function(A){return S*A+w};p=[{x:y,y:j(y)},{x:N,y:j(N)}]}var T=Vn(Vn(Vn({},f),{},{fill:"none",stroke:f&&f.fill},d),{},{points:p});return L.isValidElement(a)?h=L.cloneElement(a,T):Te(a)?h=a(T):h=L.createElement(Hi,Vl({},T,{type:c})),L.createElement($e,{className:"recharts-scatter-line",key:"recharts-scatter-line"},h)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.points,o=r.line,c=r.className,f=r.xAxis,d=r.yAxis,p=r.left,h=r.top,g=r.width,y=r.height,N=r.id,S=r.isAnimationActive;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,j=Re("recharts-scatter",c),T=f&&f.allowDataOverflow,C=d&&d.allowDataOverflow,A=T||C,E=Ee(N)?this.id:N;return L.createElement($e,{className:j,clipPath:A?"url(#clipPath-".concat(E,")"):null},T||C?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(E)},L.createElement("rect",{x:T?p:p-g/2,y:C?h:h-y/2,width:T?g:g*2,height:C?y:y*2}))):null,o&&this.renderLine(),this.renderErrorBar(),L.createElement($e,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!S||w)&&Xn.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])})(R.PureComponent);Bi(Ip,"displayName","Scatter");Bi(Ip,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Fr.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Bi(Ip,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,a=t.displayedData,o=t.xAxisTicks,c=t.yAxisTicks,f=t.offset,d=i.props.tooltipType,p=hn(i.props.children,Mr),h=Ee(e.dataKey)?i.props.dataKey:e.dataKey,g=Ee(n.dataKey)?i.props.dataKey:n.dataKey,y=r&&r.dataKey,N=r?r.range:Pp.defaultProps.range,S=N&&N[0],w=e.scale.bandwidth?e.scale.bandwidth():0,j=n.scale.bandwidth?n.scale.bandwidth():0,T=a.map(function(C,A){var E=ot(C,h),P=ot(C,g),O=!Ee(y)&&ot(C,y)||"-",M=[{name:Ee(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:E,payload:C,dataKey:h,type:d},{name:Ee(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:P,payload:C,dataKey:g,type:d}];O!=="-"&&M.push({name:r.name||r.dataKey,unit:r.unit||"",value:O,payload:C,dataKey:y,type:d});var D=Vs({axis:e,ticks:o,bandSize:w,entry:C,index:A,dataKey:h}),G=Vs({axis:n,ticks:c,bandSize:j,entry:C,index:A,dataKey:g}),B=O!=="-"?r.scale(O):S,F=Math.sqrt(Math.max(B,0)/Math.PI);return Vn(Vn({},C),{},{cx:D,cy:G,x:D-F,y:G-F,xAxis:e,yAxis:n,zAxis:r,width:2*F,height:2*F,size:B,node:{x:E,y:P,z:O},tooltipPayload:M,tooltipPosition:{x:D,y:G},payload:C},p&&p[A]&&p[A].props)});return Vn({points:T},f)});function co(t){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},co(t)}function Nre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j5(r.key),r)}}function _re(t,e,n){return e&&Sre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jre(t,e,n){return e=qf(e),kre(t,S5()?Reflect.construct(e,n||[],qf(t).constructor):e.apply(t,n))}function kre(t,e){if(e&&(co(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Are(t)}function Are(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S5=function(){return!!t})()}function qf(t){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qf(t)}function Tre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jb(t,e)}function jb(t,e){return jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jb(t,e)}function _5(t,e,n){return e=j5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j5(t){var e=Ere(t,"string");return co(e)=="symbol"?e:e+""}function Ere(t,e){if(co(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(co(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kb(){return kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kb.apply(this,arguments)}function Cre(t){var e=t.xAxisId,n=zw(),r=Vw(),i=e5(e);return i==null?null:R.createElement(Ao,kb({},i,{className:Re("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Qr(o,!0)}}))}var Lt=(function(t){function e(){return Nre(this,e),jre(this,e,arguments)}return Tre(e,t),_re(e,[{key:"render",value:function(){return R.createElement(Cre,this.props)}}])})(R.Component);_5(Lt,"displayName","XAxis");_5(Lt,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function uo(t){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uo(t)}function Pre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ire(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T5(r.key),r)}}function Ore(t,e,n){return e&&Ire(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rre(t,e,n){return e=Gf(e),Mre(t,k5()?Reflect.construct(e,n||[],Gf(t).constructor):e.apply(t,n))}function Mre(t,e){if(e&&(uo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dre(t)}function Dre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k5=function(){return!!t})()}function Gf(t){return Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gf(t)}function Lre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ab(t,e)}function Ab(t,e){return Ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ab(t,e)}function A5(t,e,n){return e=T5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T5(t){var e=$re(t,"string");return uo(e)=="symbol"?e:e+""}function $re(t,e){if(uo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Tb(){return Tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tb.apply(this,arguments)}var Fre=function(e){var n=e.yAxisId,r=zw(),i=Vw(),a=t5(n);return a==null?null:R.createElement(Ao,Tb({},a,{className:Re("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(c){return Qr(c,!0)}}))},$t=(function(t){function e(){return Pre(this,e),Rre(this,e,arguments)}return Lre(e,t),Ore(e,[{key:"render",value:function(){return R.createElement(Fre,this.props)}}])})(R.Component);A5($t,"displayName","YAxis");A5($t,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function GI(t){return Gre(t)||qre(t)||Bre(t)||Ure()}function Ure(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bre(t,e){if(t){if(typeof t=="string")return Eb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eb(t,e)}}function qre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gre(t){if(Array.isArray(t))return Eb(t)}function Eb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Cb=function(e,n,r,i,a){var o=hn(e,Kw),c=hn(e,Tp),f=[].concat(GI(o),GI(c)),d=hn(e,Cp),p="".concat(i,"Id"),h=i[0],g=n;if(f.length&&(g=f.reduce(function(S,w){if(w.props[p]===r&&Rr(w.props,"extendDomain")&&ce(w.props[h])){var j=w.props[h];return[Math.min(S[0],j),Math.max(S[1],j)]}return S},g)),d.length){var y="".concat(h,"1"),N="".concat(h,"2");g=d.reduce(function(S,w){if(w.props[p]===r&&Rr(w.props,"extendDomain")&&ce(w.props[y])&&ce(w.props[N])){var j=w.props[y],T=w.props[N];return[Math.min(S[0],j,T),Math.max(S[1],j,T)]}return S},g)}return a&&a.length&&(g=a.reduce(function(S,w){return ce(w)?[Math.min(S[0],w),Math.max(S[1],w)]:S},g)),g},Rv={exports:{}},HI;function Hre(){return HI||(HI=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,p){this.fn=f,this.context=d,this.once=p||!1}function a(f,d,p,h,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new i(p,h||f,g),N=n?n+d:d;return f._events[N]?f._events[N].fn?f._events[N]=[f._events[N],y]:f._events[N].push(y):(f._events[N]=y,f._eventsCount++),f}function o(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],p,h;if(this._eventsCount===0)return d;for(h in p=this._events)e.call(p,h)&&d.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},c.prototype.listeners=function(d){var p=n?n+d:d,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,y=h.length,N=new Array(y);g<y;g++)N[g]=h[g].fn;return N},c.prototype.listenerCount=function(d){var p=n?n+d:d,h=this._events[p];return h?h.fn?1:h.length:0},c.prototype.emit=function(d,p,h,g,y,N){var S=n?n+d:d;if(!this._events[S])return!1;var w=this._events[S],j=arguments.length,T,C;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),j){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,p),!0;case 3:return w.fn.call(w.context,p,h),!0;case 4:return w.fn.call(w.context,p,h,g),!0;case 5:return w.fn.call(w.context,p,h,g,y),!0;case 6:return w.fn.call(w.context,p,h,g,y,N),!0}for(C=1,T=new Array(j-1);C<j;C++)T[C-1]=arguments[C];w.fn.apply(w.context,T)}else{var A=w.length,E;for(C=0;C<A;C++)switch(w[C].once&&this.removeListener(d,w[C].fn,void 0,!0),j){case 1:w[C].fn.call(w[C].context);break;case 2:w[C].fn.call(w[C].context,p);break;case 3:w[C].fn.call(w[C].context,p,h);break;case 4:w[C].fn.call(w[C].context,p,h,g);break;default:if(!T)for(E=1,T=new Array(j-1);E<j;E++)T[E-1]=arguments[E];w[C].fn.apply(w[C].context,T)}}return!0},c.prototype.on=function(d,p,h){return a(this,d,p,h,!1)},c.prototype.once=function(d,p,h){return a(this,d,p,h,!0)},c.prototype.removeListener=function(d,p,h,g){var y=n?n+d:d;if(!this._events[y])return this;if(!p)return o(this,y),this;var N=this._events[y];if(N.fn)N.fn===p&&(!g||N.once)&&(!h||N.context===h)&&o(this,y);else{for(var S=0,w=[],j=N.length;S<j;S++)(N[S].fn!==p||g&&!N[S].once||h&&N[S].context!==h)&&w.push(N[S]);w.length?this._events[y]=w.length===1?w[0]:w:o(this,y)}return this},c.prototype.removeAllListeners=function(d){var p;return d?(p=n?n+d:d,this._events[p]&&o(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(Rv)),Rv.exports}var zre=Hre();const Vre=et(zre);var Mv=new Vre,Dv="recharts.syncMouseEvents";function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function Wre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E5(r.key),r)}}function Yre(t,e,n){return e&&Kre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lv(t,e,n){return e=E5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E5(t){var e=Jre(t,"string");return Ic(e)=="symbol"?e:e+""}function Jre(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xre=(function(){function t(){Wre(this,t),Lv(this,"activeIndex",0),Lv(this,"coordinateList",[]),Lv(this,"layout","horizontal")}return Yre(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,c=o===void 0?null:o,f=n.layout,d=f===void 0?null:f,p=n.offset,h=p===void 0?null:p,g=n.mouseHandlerCallback,y=g===void 0?null:g;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=c??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,c=i.height,f=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=a+f+d,g=o+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:h,pageY:g})}}}])})();function Zre(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&ce(r)&&ce(i))return!0}return!1}function Qre(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function C5(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Qe(e,n,r,i),c=Qe(e,n,r,a);return{points:[o,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function eie(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,f=e.cy,d=e.innerRadius,p=e.outerRadius,h=e.angle,g=Qe(c,f,d,h),y=Qe(c,f,p,h);r=g.x,i=g.y,a=y.x,o=y.y}else return C5(e);return[{x:r,y:i},{x:a,y:o}]}function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){tie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tie(t,e,n){return e=nie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nie(t){var e=rie(t,"string");return Oc(e)=="symbol"?e:e+""}function rie(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iie(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,c=t.activePayload,f=t.offset,d=t.activeTooltipIndex,p=t.tooltipAxisBandSize,h=t.layout,g=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!a||!o||g!=="ScatterChart"&&i!=="axis")return null;var N,S=Hi;if(g==="ScatterChart")N=o,S=kZ;else if(g==="BarChart")N=Qre(h,o,f,p),S=Uw;else if(h==="radial"){var w=C5(o),j=w.cx,T=w.cy,C=w.radius,A=w.startAngle,E=w.endAngle;N={cx:j,cy:T,startAngle:A,endAngle:E,innerRadius:C,outerRadius:C},S=bM}else N={points:eie(h,o,f)},S=Hi;var P=yd(yd(yd(yd({stroke:"#ccc",pointerEvents:"none"},f),N),ve(y,!1)),{},{payload:c,payloadIndex:d,className:Re("recharts-tooltip-cursor",y.className)});return R.isValidElement(y)?R.cloneElement(y,P):R.createElement(S,P)}var aie=["item"],sie=["children","className","width","height","style","compact","title","desc"];function fo(t){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fo(t)}function ks(){return ks=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ks.apply(this,arguments)}function VI(t,e){return cie(t)||lie(t,e)||I5(t,e)||oie()}function oie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],f=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return c}}function cie(t){if(Array.isArray(t))return t}function WI(t,e){if(t==null)return{};var n=uie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function die(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O5(r.key),r)}}function pie(t,e,n){return e&&fie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hie(t,e,n){return e=Hf(e),mie(t,P5()?Reflect.construct(e,n||[],Hf(t).constructor):e.apply(t,n))}function mie(t,e){if(e&&(fo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gie(t)}function gie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P5=function(){return!!t})()}function Hf(t){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hf(t)}function xie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pb(t,e)}function Pb(t,e){return Pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Pb(t,e)}function po(t){return bie(t)||yie(t)||I5(t)||vie()}function vie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I5(t,e){if(t){if(typeof t=="string")return Ib(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ib(t,e)}}function yie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bie(t){if(Array.isArray(t))return Ib(t)}function Ib(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oe(t,e,n){return e=O5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O5(t){var e=wie(t,"string");return fo(e)=="symbol"?e:e+""}function wie(t,e){if(fo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nie={xAxis:["bottom","top"],yAxis:["left","right"]},Sie={width:"100%",height:"100%"},R5={x:0,y:0};function bd(t){return t}var _ie=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},jie=function(e,n,r,i){var a=n.find(function(p){return p&&p.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,c=i.radius;return re(re(re({},i),Qe(i.cx,i.cy,c,o)),{},{angle:o,radius:c})}var f=a.coordinate,d=i.angle;return re(re(re({},i),Qe(i.cx,i.cy,f,d)),{},{angle:d,radius:f})}return R5},Op=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(c,f){var d=f.props.data;return d&&d.length?[].concat(po(c),po(d)):c},[]);return o.length>0?o:e&&e.length&&ce(i)&&ce(a)?e.slice(i,a+1):[]};function M5(t){return t==="number"?[0,"auto"]:void 0}var Ob=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,c=Op(n,e);return r<0||!a||!a.length||r>=c.length?null:a.reduce(function(f,d){var p,h=(p=d.props.data)!==null&&p!==void 0?p:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var y=h===void 0?c:h;g=Fd(y,o.dataKey,i)}else g=h&&h[r]||c[r];return g?[].concat(po(f),[fM(d,g)]):f},[])},YI=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=_ie(a,r),c=e.orderedTooltipTicks,f=e.tooltipAxis,d=e.tooltipTicks,p=JY(o,c,d,f);if(p>=0&&d){var h=d[p]&&d[p].value,g=Ob(e,n,p,h),y=jie(r,c,p,a);return{activeTooltipIndex:p,activeLabel:h,activePayload:g,activeCoordinate:y}}return null},kie=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,c=n.stackGroups,f=n.dataStartIndex,d=n.dataEndIndex,p=e.layout,h=e.children,g=e.stackOffset,y=sM(p,a);return r.reduce(function(N,S){var w,j=S.type.defaultProps!==void 0?re(re({},S.type.defaultProps),S.props):S.props,T=j.type,C=j.dataKey,A=j.allowDataOverflow,E=j.allowDuplicatedCategory,P=j.scale,O=j.ticks,M=j.includeHidden,D=j[o];if(N[D])return N;var G=Op(e.data,{graphicalItems:i.filter(function(Y){var ue,ye=o in Y.props?Y.props[o]:(ue=Y.type.defaultProps)===null||ue===void 0?void 0:ue[o];return ye===D}),dataStartIndex:f,dataEndIndex:d}),B=G.length,F,K,J;Zre(j.domain,A,T)&&(F=Gy(j.domain,null,A),y&&(T==="number"||P!=="auto")&&(J=Ul(G,C,"category")));var Z=M5(T);if(!F||F.length===0){var H,z=(H=j.domain)!==null&&H!==void 0?H:Z;if(C){if(F=Ul(G,C,T),T==="category"&&y){var W=Gq(F);E&&W?(K=F,F=Tf(0,B)):E||(F=qC(z,F,S).reduce(function(Y,ue){return Y.indexOf(ue)>=0?Y:[].concat(po(Y),[ue])},[]))}else if(T==="category")E?F=F.filter(function(Y){return Y!==""&&!Ee(Y)}):F=qC(z,F,S).reduce(function(Y,ue){return Y.indexOf(ue)>=0||ue===""||Ee(ue)?Y:[].concat(po(Y),[ue])},[]);else if(T==="number"){var ee=t7(G,i.filter(function(Y){var ue,ye,Ce=o in Y.props?Y.props[o]:(ue=Y.type.defaultProps)===null||ue===void 0?void 0:ue[o],De="hide"in Y.props?Y.props.hide:(ye=Y.type.defaultProps)===null||ye===void 0?void 0:ye.hide;return Ce===D&&(M||!De)}),C,a,p);ee&&(F=ee)}y&&(T==="number"||P!=="auto")&&(J=Ul(G,C,"category"))}else y?F=Tf(0,B):c&&c[D]&&c[D].hasStack&&T==="number"?F=g==="expand"?[0,1]:dM(c[D].stackGroups,f,d):F=aM(G,i.filter(function(Y){var ue=o in Y.props?Y.props[o]:Y.type.defaultProps[o],ye="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return ue===D&&(M||!ye)}),T,p,!0);if(T==="number")F=Cb(h,F,D,a,O),z&&(F=Gy(z,F,A));else if(T==="category"&&z){var ne=z,U=F.every(function(Y){return ne.indexOf(Y)>=0});U&&(F=ne)}}return re(re({},N),{},Oe({},D,re(re({},j),{},{axisType:a,domain:F,categoricalDomain:J,duplicateDomain:K,originalDomain:(w=j.domain)!==null&&w!==void 0?w:Z,isCategorical:y,layout:p})))},{})},Aie=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,c=n.stackGroups,f=n.dataStartIndex,d=n.dataEndIndex,p=e.layout,h=e.children,g=Op(e.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:d}),y=g.length,N=sM(p,a),S=-1;return r.reduce(function(w,j){var T=j.type.defaultProps!==void 0?re(re({},j.type.defaultProps),j.props):j.props,C=T[o],A=M5("number");if(!w[C]){S++;var E;return N?E=Tf(0,y):c&&c[C]&&c[C].hasStack?(E=dM(c[C].stackGroups,f,d),E=Cb(h,E,C,a)):(E=Gy(A,aM(g,r.filter(function(P){var O,M,D=o in P.props?P.props[o]:(O=P.type.defaultProps)===null||O===void 0?void 0:O[o],G="hide"in P.props?P.props.hide:(M=P.type.defaultProps)===null||M===void 0?void 0:M.hide;return D===C&&!G}),"number",p),i.defaultProps.allowDataOverflow),E=Cb(h,E,C,a)),re(re({},w),{},Oe({},C,re(re({axisType:a},i.defaultProps),{},{hide:!0,orientation:Rn(Nie,"".concat(a,".").concat(S%2),null),domain:E,originalDomain:A,isCategorical:N,layout:p})))}return w},{})},Tie=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,c=n.stackGroups,f=n.dataStartIndex,d=n.dataEndIndex,p=e.children,h="".concat(i,"Id"),g=hn(p,a),y={};return g&&g.length?y=kie(e,{axes:g,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:c,dataStartIndex:f,dataEndIndex:d}):o&&o.length&&(y=Aie(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:c,dataStartIndex:f,dataEndIndex:d})),y},Eie=function(e){var n=Li(e),r=Qr(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:pw(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:ff(n,r)}},JI=function(e){var n=e.children,r=e.defaultShowTooltip,i=In(n,Qs),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Cie=function(e){return!e||!e.length?!1:e.some(function(n){var r=ei(n&&n.type);return r&&r.indexOf("Bar")>=0})},XI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Pie=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,c=e.yAxisMap,f=c===void 0?{}:c,d=r.width,p=r.height,h=r.children,g=r.margin||{},y=In(h,Qs),N=In(h,Ir),S=Object.keys(f).reduce(function(E,P){var O=f[P],M=O.orientation;return!O.mirror&&!O.hide?re(re({},E),{},Oe({},M,E[M]+O.width)):E},{left:g.left||0,right:g.right||0}),w=Object.keys(o).reduce(function(E,P){var O=o[P],M=O.orientation;return!O.mirror&&!O.hide?re(re({},E),{},Oe({},M,Rn(E,"".concat(M))+O.height)):E},{top:g.top||0,bottom:g.bottom||0}),j=re(re({},w),S),T=j.bottom;y&&(j.bottom+=y.props.height||Qs.defaultProps.height),N&&n&&(j=QY(j,i,r,n));var C=d-j.left-j.right,A=p-j.top-j.bottom;return re(re({brushBottom:T},j),{},{width:Math.max(C,0),height:Math.max(A,0)})},Iie=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},qc=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,c=o===void 0?["axis"]:o,f=e.axisComponents,d=e.legendContent,p=e.formatAxisMap,h=e.defaultProps,g=function(j,T){var C=T.graphicalItems,A=T.stackGroups,E=T.offset,P=T.updateId,O=T.dataStartIndex,M=T.dataEndIndex,D=j.barSize,G=j.layout,B=j.barGap,F=j.barCategoryGap,K=j.maxBarSize,J=XI(G),Z=J.numericAxisName,H=J.cateAxisName,z=Cie(C),W=[];return C.forEach(function(ee,ne){var U=Op(j.data,{graphicalItems:[ee],dataStartIndex:O,dataEndIndex:M}),Y=ee.type.defaultProps!==void 0?re(re({},ee.type.defaultProps),ee.props):ee.props,ue=Y.dataKey,ye=Y.maxBarSize,Ce=Y["".concat(Z,"Id")],De=Y["".concat(H,"Id")],Ve={},Fe=f.reduce(function(xn,ir){var qa=T["".concat(ir.axisType,"Map")],To=Y["".concat(ir.axisType,"Id")];qa&&qa[To]||ir.axisType==="zAxis"||Oa();var Eo=qa[To];return re(re({},xn),{},Oe(Oe({},ir.axisType,Eo),"".concat(ir.axisType,"Ticks"),Qr(Eo)))},Ve),le=Fe[H],Ae=Fe["".concat(H,"Ticks")],Ue=A&&A[Ce]&&A[Ce].hasStack&&u7(ee,A[Ce].stackGroups),se=ei(ee.type).indexOf("Bar")>=0,at=ff(le,Ae),ze=[],wt=z&&XY({barSize:D,stackGroups:A,totalSize:Iie(Fe,H)});if(se){var Nt,Ut,rr=Ee(ye)?K:ye,Nr=(Nt=(Ut=ff(le,Ae,!0))!==null&&Ut!==void 0?Ut:rr)!==null&&Nt!==void 0?Nt:0;ze=ZY({barGap:B,barCategoryGap:F,bandSize:Nr!==at?Nr:at,sizeList:wt[De],maxBarSize:rr}),Nr!==at&&(ze=ze.map(function(xn){return re(re({},xn),{},{position:re(re({},xn.position),{},{offset:xn.position.offset-Nr/2})})}))}var Sr=ee&&ee.type&&ee.type.getComposedData;Sr&&W.push({props:re(re({},Sr(re(re({},Fe),{},{displayedData:U,props:j,dataKey:ue,item:ee,bandSize:at,barPosition:ze,offset:E,stackedData:Ue,layout:G,dataStartIndex:O,dataEndIndex:M}))),{},Oe(Oe(Oe({key:ee.key||"item-".concat(ne)},Z,Fe[Z]),H,Fe[H]),"animationId",P)),childIndex:n9(ee,j.children),item:ee})}),W},y=function(j,T){var C=j.props,A=j.dataStartIndex,E=j.dataEndIndex,P=j.updateId;if(!rA({props:C}))return null;var O=C.children,M=C.layout,D=C.stackOffset,G=C.data,B=C.reverseStackOrder,F=XI(M),K=F.numericAxisName,J=F.cateAxisName,Z=hn(O,r),H=l7(G,Z,"".concat(K,"Id"),"".concat(J,"Id"),D,B),z=f.reduce(function(Y,ue){var ye="".concat(ue.axisType,"Map");return re(re({},Y),{},Oe({},ye,Tie(C,re(re({},ue),{},{graphicalItems:Z,stackGroups:ue.axisType===K&&H,dataStartIndex:A,dataEndIndex:E}))))},{}),W=Pie(re(re({},z),{},{props:C,graphicalItems:Z}),T?.legendBBox);Object.keys(z).forEach(function(Y){z[Y]=p(C,z[Y],W,Y.replace("Map",""),n)});var ee=z["".concat(J,"Map")],ne=Eie(ee),U=g(C,re(re({},z),{},{dataStartIndex:A,dataEndIndex:E,updateId:P,graphicalItems:Z,stackGroups:H,offset:W}));return re(re({formattedGraphicalItems:U,graphicalItems:Z,offset:W,stackGroups:H},ne),z)},N=(function(w){function j(T){var C,A,E;return die(this,j),E=hie(this,j,[T]),Oe(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Oe(E,"accessibilityManager",new Xre),Oe(E,"handleLegendBBoxUpdate",function(P){if(P){var O=E.state,M=O.dataStartIndex,D=O.dataEndIndex,G=O.updateId;E.setState(re({legendBBox:P},y({props:E.props,dataStartIndex:M,dataEndIndex:D,updateId:G},re(re({},E.state),{},{legendBBox:P}))))}}),Oe(E,"handleReceiveSyncEvent",function(P,O,M){if(E.props.syncId===P){if(M===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(O)}}),Oe(E,"handleBrushChange",function(P){var O=P.startIndex,M=P.endIndex;if(O!==E.state.dataStartIndex||M!==E.state.dataEndIndex){var D=E.state.updateId;E.setState(function(){return re({dataStartIndex:O,dataEndIndex:M},y({props:E.props,dataStartIndex:O,dataEndIndex:M,updateId:D},E.state))}),E.triggerSyncEvent({dataStartIndex:O,dataEndIndex:M})}}),Oe(E,"handleMouseEnter",function(P){var O=E.getMouseInfo(P);if(O){var M=re(re({},O),{},{isTooltipActive:!0});E.setState(M),E.triggerSyncEvent(M);var D=E.props.onMouseEnter;Te(D)&&D(M,P)}}),Oe(E,"triggeredAfterMouseMove",function(P){var O=E.getMouseInfo(P),M=O?re(re({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(M),E.triggerSyncEvent(M);var D=E.props.onMouseMove;Te(D)&&D(M,P)}),Oe(E,"handleItemMouseEnter",function(P){E.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Oe(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Oe(E,"handleMouseMove",function(P){P.persist(),E.throttleTriggeredAfterMouseMove(P)}),Oe(E,"handleMouseLeave",function(P){E.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};E.setState(O),E.triggerSyncEvent(O);var M=E.props.onMouseLeave;Te(M)&&M(O,P)}),Oe(E,"handleOuterEvent",function(P){var O=t9(P),M=Rn(E.props,"".concat(O));if(O&&Te(M)){var D,G;/.*touch.*/i.test(O)?G=E.getMouseInfo(P.changedTouches[0]):G=E.getMouseInfo(P),M((D=G)!==null&&D!==void 0?D:{},P)}}),Oe(E,"handleClick",function(P){var O=E.getMouseInfo(P);if(O){var M=re(re({},O),{},{isTooltipActive:!0});E.setState(M),E.triggerSyncEvent(M);var D=E.props.onClick;Te(D)&&D(M,P)}}),Oe(E,"handleMouseDown",function(P){var O=E.props.onMouseDown;if(Te(O)){var M=E.getMouseInfo(P);O(M,P)}}),Oe(E,"handleMouseUp",function(P){var O=E.props.onMouseUp;if(Te(O)){var M=E.getMouseInfo(P);O(M,P)}}),Oe(E,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Oe(E,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseDown(P.changedTouches[0])}),Oe(E,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseUp(P.changedTouches[0])}),Oe(E,"handleDoubleClick",function(P){var O=E.props.onDoubleClick;if(Te(O)){var M=E.getMouseInfo(P);O(M,P)}}),Oe(E,"handleContextMenu",function(P){var O=E.props.onContextMenu;if(Te(O)){var M=E.getMouseInfo(P);O(M,P)}}),Oe(E,"triggerSyncEvent",function(P){E.props.syncId!==void 0&&Mv.emit(Dv,E.props.syncId,P,E.eventEmitterSymbol)}),Oe(E,"applySyncEvent",function(P){var O=E.props,M=O.layout,D=O.syncMethod,G=E.state.updateId,B=P.dataStartIndex,F=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)E.setState(re({dataStartIndex:B,dataEndIndex:F},y({props:E.props,dataStartIndex:B,dataEndIndex:F,updateId:G},E.state)));else if(P.activeTooltipIndex!==void 0){var K=P.chartX,J=P.chartY,Z=P.activeTooltipIndex,H=E.state,z=H.offset,W=H.tooltipTicks;if(!z)return;if(typeof D=="function")Z=D(W,P);else if(D==="value"){Z=-1;for(var ee=0;ee<W.length;ee++)if(W[ee].value===P.activeLabel){Z=ee;break}}var ne=re(re({},z),{},{x:z.left,y:z.top}),U=Math.min(K,ne.x+ne.width),Y=Math.min(J,ne.y+ne.height),ue=W[Z]&&W[Z].value,ye=Ob(E.state,E.props.data,Z),Ce=W[Z]?{x:M==="horizontal"?W[Z].coordinate:U,y:M==="horizontal"?Y:W[Z].coordinate}:R5;E.setState(re(re({},P),{},{activeLabel:ue,activeCoordinate:Ce,activePayload:ye,activeTooltipIndex:Z}))}else E.setState(P)}),Oe(E,"renderCursor",function(P){var O,M=E.state,D=M.isTooltipActive,G=M.activeCoordinate,B=M.activePayload,F=M.offset,K=M.activeTooltipIndex,J=M.tooltipAxisBandSize,Z=E.getTooltipEventType(),H=(O=P.props.active)!==null&&O!==void 0?O:D,z=E.props.layout,W=P.key||"_recharts-cursor";return L.createElement(iie,{key:W,activeCoordinate:G,activePayload:B,activeTooltipIndex:K,chartName:n,element:P,isActive:H,layout:z,offset:F,tooltipAxisBandSize:J,tooltipEventType:Z})}),Oe(E,"renderPolarAxis",function(P,O,M){var D=Rn(P,"type.axisType"),G=Rn(E.state,"".concat(D,"Map")),B=P.type.defaultProps,F=B!==void 0?re(re({},B),P.props):P.props,K=G&&G[F["".concat(D,"Id")]];return R.cloneElement(P,re(re({},K),{},{className:Re(D,K.className),key:P.key||"".concat(O,"-").concat(M),ticks:Qr(K,!0)}))}),Oe(E,"renderPolarGrid",function(P){var O=P.props,M=O.radialLines,D=O.polarAngles,G=O.polarRadius,B=E.state,F=B.radiusAxisMap,K=B.angleAxisMap,J=Li(F),Z=Li(K),H=Z.cx,z=Z.cy,W=Z.innerRadius,ee=Z.outerRadius;return R.cloneElement(P,{polarAngles:Array.isArray(D)?D:Qr(Z,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(G)?G:Qr(J,!0).map(function(ne){return ne.coordinate}),cx:H,cy:z,innerRadius:W,outerRadius:ee,key:P.key||"polar-grid",radialLines:M})}),Oe(E,"renderLegend",function(){var P=E.state.formattedGraphicalItems,O=E.props,M=O.children,D=O.width,G=O.height,B=E.props.margin||{},F=D-(B.left||0)-(B.right||0),K=rM({children:M,formattedGraphicalItems:P,legendWidth:F,legendContent:d});if(!K)return null;var J=K.item,Z=WI(K,aie);return R.cloneElement(J,re(re({},Z),{},{chartWidth:D,chartHeight:G,margin:B,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Oe(E,"renderTooltip",function(){var P,O=E.props,M=O.children,D=O.accessibilityLayer,G=In(M,mt);if(!G)return null;var B=E.state,F=B.isTooltipActive,K=B.activeCoordinate,J=B.activePayload,Z=B.activeLabel,H=B.offset,z=(P=G.props.active)!==null&&P!==void 0?P:F;return R.cloneElement(G,{viewBox:re(re({},H),{},{x:H.left,y:H.top}),active:z,label:Z,payload:z?J:[],coordinate:K,accessibilityLayer:D})}),Oe(E,"renderBrush",function(P){var O=E.props,M=O.margin,D=O.data,G=E.state,B=G.offset,F=G.dataStartIndex,K=G.dataEndIndex,J=G.updateId;return R.cloneElement(P,{key:P.key||"_recharts-brush",onChange:md(E.handleBrushChange,P.props.onChange),data:D,x:ce(P.props.x)?P.props.x:B.left,y:ce(P.props.y)?P.props.y:B.top+B.height+B.brushBottom-(M.bottom||0),width:ce(P.props.width)?P.props.width:B.width,startIndex:F,endIndex:K,updateId:"brush-".concat(J)})}),Oe(E,"renderReferenceElement",function(P,O,M){if(!P)return null;var D=E,G=D.clipPathId,B=E.state,F=B.xAxisMap,K=B.yAxisMap,J=B.offset,Z=P.type.defaultProps||{},H=P.props,z=H.xAxisId,W=z===void 0?Z.xAxisId:z,ee=H.yAxisId,ne=ee===void 0?Z.yAxisId:ee;return R.cloneElement(P,{key:P.key||"".concat(O,"-").concat(M),xAxis:F[W],yAxis:K[ne],viewBox:{x:J.left,y:J.top,width:J.width,height:J.height},clipPathId:G})}),Oe(E,"renderActivePoints",function(P){var O=P.item,M=P.activePoint,D=P.basePoint,G=P.childIndex,B=P.isRange,F=[],K=O.props.key,J=O.item.type.defaultProps!==void 0?re(re({},O.item.type.defaultProps),O.item.props):O.item.props,Z=J.activeDot,H=J.dataKey,z=re(re({index:G,dataKey:H,cx:M.x,cy:M.y,r:4,fill:Fw(O.item),strokeWidth:2,stroke:"#fff",payload:M.payload,value:M.value},ve(Z,!1)),Ud(Z));return F.push(j.renderActiveDot(Z,z,"".concat(K,"-activePoint-").concat(G))),D?F.push(j.renderActiveDot(Z,re(re({},z),{},{cx:D.x,cy:D.y}),"".concat(K,"-basePoint-").concat(G))):B&&F.push(null),F}),Oe(E,"renderGraphicChild",function(P,O,M){var D=E.filterFormatItem(P,O,M);if(!D)return null;var G=E.getTooltipEventType(),B=E.state,F=B.isTooltipActive,K=B.tooltipAxis,J=B.activeTooltipIndex,Z=B.activeLabel,H=E.props.children,z=In(H,mt),W=D.props,ee=W.points,ne=W.isRange,U=W.baseLine,Y=D.item.type.defaultProps!==void 0?re(re({},D.item.type.defaultProps),D.item.props):D.item.props,ue=Y.activeDot,ye=Y.hide,Ce=Y.activeBar,De=Y.activeShape,Ve=!!(!ye&&F&&z&&(ue||Ce||De)),Fe={};G!=="axis"&&z&&z.props.trigger==="click"?Fe={onClick:md(E.handleItemMouseEnter,P.props.onClick)}:G!=="axis"&&(Fe={onMouseLeave:md(E.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:md(E.handleItemMouseEnter,P.props.onMouseEnter)});var le=R.cloneElement(P,re(re({},D.props),Fe));function Ae(ir){return typeof K.dataKey=="function"?K.dataKey(ir.payload):null}if(Ve)if(J>=0){var Ue,se;if(K.dataKey&&!K.allowDuplicatedCategory){var at=typeof K.dataKey=="function"?Ae:"payload.".concat(K.dataKey.toString());Ue=Fd(ee,at,Z),se=ne&&U&&Fd(U,at,Z)}else Ue=ee?.[J],se=ne&&U&&U[J];if(De||Ce){var ze=P.props.activeIndex!==void 0?P.props.activeIndex:J;return[R.cloneElement(P,re(re(re({},D.props),Fe),{},{activeIndex:ze})),null,null]}if(!Ee(Ue))return[le].concat(po(E.renderActivePoints({item:D,activePoint:Ue,basePoint:se,childIndex:J,isRange:ne})))}else{var wt,Nt=(wt=E.getItemByXY(E.state.activeCoordinate))!==null&&wt!==void 0?wt:{graphicalItem:le},Ut=Nt.graphicalItem,rr=Ut.item,Nr=rr===void 0?P:rr,Sr=Ut.childIndex,xn=re(re(re({},D.props),Fe),{},{activeIndex:Sr});return[R.cloneElement(Nr,xn),null,null]}return ne?[le,null,null]:[le,null]}),Oe(E,"renderCustomized",function(P,O,M){return R.cloneElement(P,re(re({key:"recharts-customized-".concat(M)},E.props),E.state))}),Oe(E,"renderMap",{CartesianGrid:{handler:bd,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:bd},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:bd},YAxis:{handler:bd},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((C=T.id)!==null&&C!==void 0?C:Ji("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=rR(E.triggeredAfterMouseMove,(A=T.throttleDelay)!==null&&A!==void 0?A:1e3/60),E.state={},E}return xie(j,w),pie(j,[{key:"componentDidMount",value:function(){var C,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,A=C.children,E=C.data,P=C.height,O=C.layout,M=In(A,mt);if(M){var D=M.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var G=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,B=Ob(this.state,E,D,G),F=this.state.tooltipTicks[D].coordinate,K=(this.state.offset.top+P)/2,J=O==="horizontal",Z=J?{x:F,y:K}:{y:F,x:K},H=this.state.formattedGraphicalItems.find(function(W){var ee=W.item;return ee.type.name==="Scatter"});H&&(Z=re(re({},Z),H.props.points[D].tooltipPosition),B=H.props.points[D].tooltipPayload);var z={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:G,activePayload:B,activeCoordinate:Z};this.setState(z),this.renderCursor(M),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var E,P;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(C){dy([In(C.children,mt)],[In(this.props.children,mt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=In(this.props.children,mt);if(C&&typeof C.props.shared=="boolean"){var A=C.props.shared?"axis":"item";return c.indexOf(A)>=0?A:a}return a}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var A=this.container,E=A.getBoundingClientRect(),P=qz(E),O={chartX:Math.round(C.pageX-P.left),chartY:Math.round(C.pageY-P.top)},M=E.width/A.offsetWidth||1,D=this.inRange(O.chartX,O.chartY,M);if(!D)return null;var G=this.state,B=G.xAxisMap,F=G.yAxisMap,K=this.getTooltipEventType(),J=YI(this.state,this.props.data,this.props.layout,D);if(K!=="axis"&&B&&F){var Z=Li(B).scale,H=Li(F).scale,z=Z&&Z.invert?Z.invert(O.chartX):null,W=H&&H.invert?H.invert(O.chartY):null;return re(re({},O),{},{xValue:z,yValue:W},J)}return J?re(re({},O),J):null}},{key:"inRange",value:function(C,A){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,O=C/E,M=A/E;if(P==="horizontal"||P==="vertical"){var D=this.state.offset,G=O>=D.left&&O<=D.left+D.width&&M>=D.top&&M<=D.top+D.height;return G?{x:O,y:M}:null}var B=this.state,F=B.angleAxisMap,K=B.radiusAxisMap;if(F&&K){var J=Li(F);return zC({x:O,y:M},J)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,A=this.getTooltipEventType(),E=In(C,mt),P={};E&&A==="axis"&&(E.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Ud(this.props,this.handleOuterEvent);return re(re({},O),P)}},{key:"addListener",value:function(){Mv.on(Dv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Mv.removeListener(Dv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,A,E){for(var P=this.state.formattedGraphicalItems,O=0,M=P.length;O<M;O++){var D=P[O];if(D.item===C||D.props.key===C.key||A===ei(D.item.type)&&E===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,A=this.state.offset,E=A.left,P=A.top,O=A.height,M=A.width;return L.createElement("defs",null,L.createElement("clipPath",{id:C},L.createElement("rect",{x:E,y:P,height:O,width:M})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(A,E){var P=VI(E,2),O=P[0],M=P[1];return re(re({},A),{},Oe({},O,M.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(A,E){var P=VI(E,2),O=P[0],M=P[1];return re(re({},A),{},Oe({},O,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[C])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(C){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[C])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(C){var A=this.state,E=A.formattedGraphicalItems,P=A.activeItem;if(E&&E.length)for(var O=0,M=E.length;O<M;O++){var D=E[O],G=D.props,B=D.item,F=B.type.defaultProps!==void 0?re(re({},B.type.defaultProps),B.props):B.props,K=ei(B.type);if(K==="Bar"){var J=(G.data||[]).find(function(W){return oZ(C,W)});if(J)return{graphicalItem:D,payload:J}}else if(K==="RadialBar"){var Z=(G.data||[]).find(function(W){return zC(C,W)});if(Z)return{graphicalItem:D,payload:Z}}else if(_p(D,P)||jp(D,P)||Ac(D,P)){var H=UQ({graphicalItem:D,activeTooltipItem:P,itemData:F.data}),z=F.activeIndex===void 0?H:F.activeIndex;return{graphicalItem:re(re({},D),{},{childIndex:z}),payload:Ac(D,P)?F.data[H]:D.props.data[H]}}}return null}},{key:"render",value:function(){var C=this;if(!rA(this))return null;var A=this.props,E=A.children,P=A.className,O=A.width,M=A.height,D=A.style,G=A.compact,B=A.title,F=A.desc,K=WI(A,sie),J=ve(K,!1);if(G)return L.createElement(SI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(py,ks({},J,{width:O,height:M,title:B,desc:F}),this.renderClipPath(),aA(E,this.renderMap)));if(this.props.accessibilityLayer){var Z,H;J.tabIndex=(Z=this.props.tabIndex)!==null&&Z!==void 0?Z:0,J.role=(H=this.props.role)!==null&&H!==void 0?H:"application",J.onKeyDown=function(W){C.accessibilityManager.keyboardEvent(W)},J.onFocus=function(){C.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return L.createElement(SI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",ks({className:Re("recharts-wrapper",P),style:re({position:"relative",cursor:"default",width:O,height:M},D)},z,{ref:function(ee){C.container=ee}}),L.createElement(py,ks({},J,{width:O,height:M,title:B,desc:F,style:Sie}),this.renderClipPath(),aA(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(R.Component);Oe(N,"displayName",n),Oe(N,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Oe(N,"getDerivedStateFromProps",function(w,j){var T=w.dataKey,C=w.data,A=w.children,E=w.width,P=w.height,O=w.layout,M=w.stackOffset,D=w.margin,G=j.dataStartIndex,B=j.dataEndIndex;if(j.updateId===void 0){var F=JI(w);return re(re(re({},F),{},{updateId:0},y(re(re({props:w},F),{},{updateId:0}),j)),{},{prevDataKey:T,prevData:C,prevWidth:E,prevHeight:P,prevLayout:O,prevStackOffset:M,prevMargin:D,prevChildren:A})}if(T!==j.prevDataKey||C!==j.prevData||E!==j.prevWidth||P!==j.prevHeight||O!==j.prevLayout||M!==j.prevStackOffset||!Es(D,j.prevMargin)){var K=JI(w),J={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},Z=re(re({},YI(j,C,O)),{},{updateId:j.updateId+1}),H=re(re(re({},K),J),Z);return re(re(re({},H),y(re({props:w},H),j)),{},{prevDataKey:T,prevData:C,prevWidth:E,prevHeight:P,prevLayout:O,prevStackOffset:M,prevMargin:D,prevChildren:A})}if(!dy(A,j.prevChildren)){var z,W,ee,ne,U=In(A,Qs),Y=U&&(z=(W=U.props)===null||W===void 0?void 0:W.startIndex)!==null&&z!==void 0?z:G,ue=U&&(ee=(ne=U.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&ee!==void 0?ee:B,ye=Y!==G||ue!==B,Ce=!Ee(C),De=Ce&&!ye?j.updateId:j.updateId+1;return re(re({updateId:De},y(re(re({props:w},j),{},{updateId:De,dataStartIndex:Y,dataEndIndex:ue}),j)),{},{prevChildren:A,dataStartIndex:Y,dataEndIndex:ue})}return null}),Oe(N,"renderActiveDot",function(w,j,T){var C;return R.isValidElement(w)?C=R.cloneElement(w,j):Te(w)?C=w(j):C=L.createElement(jo,j),L.createElement($e,{className:"recharts-active-dot",key:T},C)});var S=R.forwardRef(function(j,T){return L.createElement(N,ks({},j,{ref:T}))});return S.displayName=N.displayName,S},Ba=qc({chartName:"BarChart",GraphicalChild:sn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Lt},{axisType:"yAxis",AxisComp:$t}],formatAxisMap:Bw}),Xw=qc({chartName:"PieChart",GraphicalChild:wr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ko},{axisType:"radiusAxis",AxisComp:Uc}],formatAxisMap:mM,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Oie=qc({chartName:"RadarChart",GraphicalChild:Bc,axisComponents:[{axisType:"angleAxis",AxisComp:ko},{axisType:"radiusAxis",AxisComp:Uc}],formatAxisMap:mM,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Gc=qc({chartName:"AreaChart",GraphicalChild:Xt,axisComponents:[{axisType:"xAxis",AxisComp:Lt},{axisType:"yAxis",AxisComp:$t}],formatAxisMap:Bw}),Zw=qc({chartName:"ComposedChart",GraphicalChild:[ci,Xt,sn,Ip],axisComponents:[{axisType:"xAxis",AxisComp:Lt},{axisType:"yAxis",AxisComp:$t},{axisType:"zAxis",AxisComp:Pp}],formatAxisMap:Bw});const Rie=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(!0),[i,a]=R.useState(!1),[o,c]=R.useState(null),[f,d]=R.useState("grid");R.useEffect(()=>{p()},[]),R.useEffect(()=>{const g=window;g.lucide&&g.lucide.createIcons()},[n,t,i,o,f]);const p=async()=>{r(!0);const g=await tr.getByUser("u123");g.success&&e(g.data||[]),r(!1)},h=g=>{c(g),d("detail")};return n&&t.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-emerald-600 mb-4"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Synchronizing farm registry..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-fade-in pb-20",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:"Plot Operations"}),s.jsxs("p",{className:"text-slate-500 font-medium",children:["Manage your ",t.length," active Nashik agricultural blocks"]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-[15px] border border-slate-200",children:[s.jsx("button",{onClick:()=>d("grid"),className:`px-4 py-2 rounded-[15px] text-xs font-bold transition-all ${f==="grid"?"bg-white text-emerald-700 shadow-sm":"text-slate-400"}`,children:"Overview"}),s.jsx("button",{onClick:()=>d("analytics"),className:`px-4 py-2 rounded-[15px] text-xs font-bold transition-all ${f==="analytics"?"bg-white text-emerald-700 shadow-sm":"text-slate-400"}`,children:"Efficiency"})]}),s.jsx("button",{onClick:()=>a(!0),className:"bg-emerald-600 text-white px-8 py-3 rounded-[15px] font-black text-sm uppercase tracking-widest shadow-xl shadow-emerald-100 hover:bg-emerald-700 transition-all active:scale-95",children:"New Registration"})]})]}),f==="grid"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(g=>{const y=l2(g.cropType,g.plantingDate);return s.jsxs("div",{onClick:()=>h(g),className:"group cursor-pointer bg-white rounded-[15px] border border-slate-200 shadow-sm hover:border-emerald-300 hover:shadow-xl transition-all relative overflow-hidden",children:[s.jsx("div",{className:"h-48 w-full overflow-hidden",children:s.jsx("img",{src:g.images?.[0],className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",alt:g.cropType})}),s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:g.variety}),s.jsx("p",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest mt-1",children:g.cropType})]}),s.jsx("div",{className:"w-10 h-10 bg-slate-50 rounded-[15px] flex items-center justify-center text-slate-400 border border-slate-100",children:s.jsx("i",{"data-lucide":g.cropType==="Grape"?"grape":g.cropType==="Tomato"?"cherry":"sprout",className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-end text-[10px] font-black uppercase tracking-widest text-slate-400",children:[s.jsx("span",{children:"Growth Progress"}),s.jsxs("span",{children:[y.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-slate-100 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${y.progress}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-slate-50 rounded-[15px]",children:[s.jsx("div",{className:"text-[8px] font-black uppercase text-slate-400 mb-1",children:"DAP"}),s.jsxs("div",{className:"text-sm font-black text-slate-900",children:[y.dap," Days"]})]}),s.jsxs("div",{className:"p-3 bg-slate-50 rounded-[15px]",children:[s.jsx("div",{className:"text-[8px] font-black uppercase text-slate-400 mb-1",children:"Scale"}),s.jsxs("div",{className:"text-sm font-black text-slate-900",children:[g.farmSize," Acres"]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-slate-50 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${g.healthScore>80?"bg-emerald-500":"bg-amber-500"}`}),s.jsxs("span",{className:"text-[10px] font-black uppercase text-slate-400 tracking-tight",children:[g.healthScore,"% Healthy"]})]}),s.jsx("button",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest group-hover:translate-x-1 transition-transform",children:"View Blueprint"})]})]})]},g.cropId)})}),f==="detail"&&o&&s.jsx(Mie,{crop:o,onClose:()=>d("grid"),onUpdate:p}),f==="analytics"&&s.jsx(Die,{crops:t}),i&&s.jsx(Lie,{onClose:()=>a(!1),onComplete:p}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-slide-up { animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slide-up { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
      `})]})},Mie=({crop:t,onClose:e,onUpdate:n})=>{const[r,i]=R.useState("overview"),[a,o]=R.useState(!1),c=l2(t.cropType,t.plantingDate),f=async d=>{await tr.addActivity(t.cropId,{type:d,date:new Date().toISOString().split("T")[0],notes:"Quick log via mobile interface."}),alert(`${d} log updated.`),n()};return s.jsxs("div",{className:"space-y-8 animate-slide-up",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:e,className:"p-3 bg-white border border-slate-200 rounded-[15px] text-slate-400 hover:text-emerald-600 transition-all",children:s.jsx("i",{"data-lucide":"arrow-left",className:"w-5 h-5"})}),s.jsxs("h2",{className:"text-2xl font-black text-slate-900 tracking-tight",children:[t.variety," Blueprint"]})]}),s.jsxs("div",{className:"bg-white rounded-[15px] border border-slate-200 shadow-sm overflow-hidden flex flex-col lg:flex-row h-auto lg:h-[500px]",children:[s.jsx("div",{className:"lg:w-1/2 h-64 lg:h-auto",children:s.jsx("img",{src:t.images?.[0],className:"w-full h-full object-cover",alt:""})}),s.jsxs("div",{className:"flex-1 p-12 space-y-10 overflow-y-auto no-scrollbar",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-4xl font-black text-slate-900 tracking-tighter leading-none",children:t.currentStage}),s.jsxs("p",{className:"text-slate-400 font-bold uppercase tracking-[0.2em] mt-2",children:["DAP ",c.dap,"  Cycle Phase"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-black text-emerald-600",children:[t.healthScore,"%"]}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Health Score"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-400",children:"Growth Timeline"}),s.jsxs("div",{className:"flex justify-between relative",children:[s.jsx("div",{className:"absolute top-4 left-0 right-0 h-0.5 bg-slate-100"}),t.milestones.slice(0,5).map((d,p)=>s.jsxs("div",{className:"flex flex-col items-center space-y-3 relative z-10",children:[s.jsx("div",{className:`w-8 h-8 rounded-full border-4 border-white shadow-sm flex items-center justify-center transition-colors ${d.status==="completed"?"bg-emerald-500":d.status==="active"?"bg-blue-500":"bg-slate-200"}`,children:d.status==="completed"&&s.jsx("i",{"data-lucide":"check",className:"w-3 h-3 text-white"})}),s.jsx("span",{className:`text-[8px] font-black uppercase tracking-tight ${d.status==="active"?"text-blue-600":"text-slate-400"}`,children:d.stage})]},p))]})]}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:[{label:"Irrigate",icon:"droplet"},{label:"Fertilize",icon:"flask-conical"},{label:"Pest",icon:"search"},{label:"Harvest",icon:"scissors"}].map(d=>s.jsxs("button",{onClick:()=>f(d.label),className:"flex flex-col items-center justify-center p-4 bg-slate-50 border border-slate-100 rounded-[15px] hover:bg-emerald-50 hover:border-emerald-200 transition-all group",children:[s.jsx("i",{"data-lucide":d.icon,className:"w-5 h-5 text-slate-400 group-hover:text-emerald-600 mb-2"}),s.jsx("span",{className:"text-[8px] font-black uppercase text-slate-400 group-hover:text-emerald-700",children:d.label})]},d.label))})]})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"flex border-b border-slate-200 space-x-10",children:["overview","activities","analytics","photos"].map(d=>s.jsxs("button",{onClick:()=>i(d),className:`pb-4 text-xs font-black uppercase tracking-widest transition-all relative ${r===d?"text-emerald-700":"text-slate-400 hover:text-slate-600"}`,children:[d,r===d&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-emerald-600 rounded-full"})]},d))}),s.jsxs("div",{className:"animate-fade-in",children:[r==="overview"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white p-10 rounded-[15px] border border-slate-200 shadow-sm space-y-6",children:[s.jsx("h3",{className:"font-black text-slate-900 tracking-tight",children:"Stage Characteristics"}),s.jsxs("p",{className:"text-sm text-slate-600 leading-relaxed font-medium",children:['"',c.description,'"']}),s.jsxs("div",{className:"p-6 bg-blue-50 border border-blue-100 rounded-[15px]",children:[s.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-blue-800 mb-2",children:"Upcoming Milestone"}),s.jsx("div",{className:"text-lg font-black text-blue-900",children:c.nextStage})]})]}),s.jsxs("div",{className:"bg-white p-10 rounded-[15px] border border-slate-200 shadow-sm space-y-8",children:[s.jsx("h3",{className:"font-black text-slate-900 tracking-tight",children:"Soil Telemetry"}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase",children:"pH Balance"}),s.jsx("div",{className:"text-2xl font-black text-slate-900",children:t.soilData?.ph||"7.2"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Nitrogen Rank"}),s.jsx("div",{className:"text-2xl font-black text-emerald-600",children:"Optimum"})]})]}),s.jsx("button",{className:"w-full py-4 bg-slate-950 text-white rounded-[15px] font-black text-[10px] uppercase tracking-widest hover:bg-emerald-600 transition-all",children:"Download Full Soil Card"})]})]}),r==="activities"&&s.jsx("div",{className:"space-y-6",children:t.activities.length>0?t.activities.map(d=>s.jsxs("div",{className:"bg-white p-6 rounded-[15px] border border-slate-200 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-[15px] flex items-center justify-center text-slate-400",children:s.jsx("i",{"data-lucide":"check-circle",className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-black text-slate-900",children:d.type}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase",children:d.date})]})]}),s.jsxs("p",{className:"text-xs text-slate-500 font-medium max-w-sm italic",children:['"',d.notes,'"']}),s.jsx("button",{className:"p-3 hover:bg-slate-50 rounded-[15px] text-slate-300 transition-colors",children:s.jsx("i",{"data-lucide":"more-horizontal",className:"w-5 h-5"})})]},d.id)):s.jsx("div",{className:"py-20 text-center bg-white border-2 border-dashed border-slate-200 rounded-[15px]",children:s.jsx("p",{className:"text-slate-400 font-medium uppercase tracking-widest text-[10px]",children:"No activity logs found"})})}),r==="analytics"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white p-10 rounded-[15px] border border-slate-200 shadow-sm",children:[s.jsx("h3",{className:"font-black text-slate-900 mb-8",children:"Cost Breakdown"}),s.jsx("div",{className:"h-64",children:s.jsx(Dt,{width:"100%",height:"100%",children:s.jsxs(Ba,{data:t.costs,children:[s.jsx(gn,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),s.jsx(Lt,{dataKey:"category",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:"bold"}}),s.jsx($t,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10}}),s.jsx(sn,{dataKey:"amount",fill:"#10b981",radius:[4,4,0,0]})]})})})]}),s.jsxs("div",{className:"bg-slate-900 p-10 rounded-[15px] text-white",children:[s.jsx("h3",{className:"font-black mb-8",children:"Yield Potential"}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase tracking-widest text-slate-500 mb-2",children:[s.jsx("span",{children:"Projected vs Target"}),s.jsx("span",{children:"88%"})]}),s.jsx("div",{className:"w-full bg-white/5 h-2 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-400",style:{width:"88%"}})})]}),s.jsxs("div",{className:"p-6 bg-white/5 rounded-[15px] border border-white/10",children:[s.jsx("div",{className:"text-[10px] font-black uppercase opacity-40",children:"Est. Market Value"}),s.jsxs("div",{className:"text-3xl font-black text-emerald-400",children:["",(t.targetYield*2400).toLocaleString()]})]})]})]})]}),r==="photos"&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.images?.map((d,p)=>s.jsx("div",{className:"aspect-square rounded-[15px] overflow-hidden border-2 border-slate-100 hover:border-emerald-300 transition-all cursor-zoom-in",children:s.jsx("img",{src:d,className:"w-full h-full object-cover",alt:""})},p)),s.jsxs("button",{className:"aspect-square rounded-[15px] border-4 border-dashed border-slate-100 flex flex-col items-center justify-center text-slate-300 hover:text-emerald-600 hover:bg-slate-50 transition-all",children:[s.jsx("i",{"data-lucide":"plus",className:"w-10 h-10 mb-2"}),s.jsx("span",{className:"text-[10px] font-black uppercase",children:"Add Photo"})]})]})]})]})]})},Die=({crops:t})=>{const e=t.map(n=>({name:n.variety,actual:n.farmSize*10,target:n.targetYield}));return s.jsx("div",{className:"space-y-8 animate-slide-up",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white p-10 rounded-[15px] border border-slate-200 shadow-sm",children:[s.jsx("h3",{className:"text-xl font-black text-slate-950 mb-1",children:"Comparative Yield"}),s.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mb-10",children:"Actual Progress vs Seasonal Goal (Tons)"}),s.jsx("div",{className:"h-80",children:s.jsx(Dt,{width:"100%",height:"100%",children:s.jsxs(Ba,{data:e,children:[s.jsx(gn,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),s.jsx(Lt,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:"bold"}}),s.jsx($t,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10}}),s.jsx(mt,{contentStyle:{borderRadius:"15px",border:"none"}}),s.jsx(sn,{dataKey:"actual",fill:"#10b981",radius:[4,4,0,0]}),s.jsx(sn,{dataKey:"target",fill:"#cbd5e1",radius:[4,4,0,0]})]})})})]}),s.jsxs("div",{className:"bg-slate-900 p-10 rounded-[15px] text-white space-y-8 shadow-2xl",children:[s.jsx("h3",{className:"text-xl font-black mb-10",children:"Aggregated Economics"}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-white/5 pb-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-black uppercase text-slate-500 mb-1",children:"Total Investment"}),s.jsxs("div",{className:"text-3xl font-black text-white",children:["",t.reduce((n,r)=>n+r.costs.reduce((i,a)=>i+a.amount,0),0).toLocaleString()]})]}),s.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-[15px] flex items-center justify-center text-rose-400",children:s.jsx("i",{"data-lucide":"trending-down",className:"w-6 h-6"})})]}),s.jsxs("div",{className:"flex justify-between items-center pb-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-black uppercase text-slate-500 mb-1",children:"Projected Gross Return"}),s.jsx("div",{className:"text-3xl font-black text-emerald-400",children:"2.4M"})]}),s.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-[15px] flex items-center justify-center text-emerald-400",children:s.jsx("i",{"data-lucide":"trending-up",className:"w-6 h-6"})})]}),s.jsx("button",{className:"w-full py-5 bg-white text-slate-950 rounded-[15px] font-black text-sm uppercase tracking-widest hover:bg-emerald-400 transition-all",children:"Download Season Audit (PDF)"})]})]})]})})},Lie=({onClose:t,onComplete:e})=>{const[n,r]=R.useState(1),[i,a]=R.useState(!1),[o,c]=R.useState({cropType:"Grape",variety:"Thompson Seedless",plantingDate:new Date().toISOString().split("T")[0],farmSize:1,plotLocation:"",irrigationMethod:"drip"}),f=async()=>{a(!0),(await tr.create({...o,userId:"u123"})).success&&(e(),t()),a(!1)};return s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-950/60 backdrop-blur-md",onClick:t}),s.jsxs("div",{className:"relative bg-white w-full max-w-2xl rounded-[15px] p-12 shadow-2xl animate-scale-up overflow-y-auto max-h-[90vh]",children:[s.jsxs("header",{className:"flex justify-between items-center mb-10",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Register New Plot"}),s.jsxs("p",{className:"text-slate-500 font-bold uppercase text-[10px] tracking-widest mt-2",children:["Step ",n," of 3"]})]}),s.jsx("button",{onClick:t,className:"p-3 bg-slate-50 text-slate-400 hover:text-red-500 rounded-[15px] transition-all",children:s.jsx("i",{"data-lucide":"x",className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-8",children:[n===1&&s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["Grape","Onion","Tomato"].map(d=>s.jsxs("button",{onClick:()=>c({...o,cropType:d}),className:`p-6 rounded-[15px] border-2 transition-all flex flex-col items-center justify-center space-y-4 ${o.cropType===d?"border-emerald-600 bg-emerald-50":"border-slate-100 hover:border-slate-200"}`,children:[s.jsx("i",{"data-lucide":d==="Grape"?"grape":d==="Tomato"?"cherry":"sprout",className:`w-8 h-8 ${o.cropType===d?"text-emerald-600":"text-slate-300"}`}),s.jsx("span",{className:`text-xs font-black uppercase tracking-widest ${o.cropType===d?"text-emerald-700":"text-slate-400"}`,children:d})]},d))}),s.jsxs("div",{className:"space-y-2 pt-4",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Select Variety"}),s.jsxs("select",{value:o.variety,onChange:d=>c({...o,variety:d.target.value}),className:"w-full p-5 bg-slate-50 border border-slate-100 rounded-[15px] font-bold text-slate-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 appearance-none",children:[s.jsx("option",{children:"Thompson Seedless"}),s.jsx("option",{children:"Sharad Seedless"}),s.jsx("option",{children:"Bhima Super"}),s.jsx("option",{children:"Abhinav Hybrid"})]})]})]}),n===2&&s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Planting Date"}),s.jsx("input",{type:"date",value:o.plantingDate,onChange:d=>c({...o,plantingDate:d.target.value}),className:"w-full p-5 bg-slate-50 border border-slate-100 rounded-[15px] font-black text-slate-900"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Area (Acres)"}),s.jsx("input",{type:"number",step:"0.1",value:o.farmSize,onChange:d=>c({...o,farmSize:parseFloat(d.target.value)}),className:"w-full p-5 bg-slate-50 border border-slate-100 rounded-[15px] font-black text-slate-900"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Plot Nickname / Location"}),s.jsx("input",{type:"text",placeholder:"e.g. East Vineyard Block B",value:o.plotLocation,onChange:d=>c({...o,plotLocation:d.target.value}),className:"w-full p-5 bg-slate-50 border border-slate-100 rounded-[15px] font-bold"})]})]}),n===3&&s.jsxs("div",{className:"space-y-8 animate-fade-in text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-emerald-50 text-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("i",{"data-lucide":"check-circle",className:"w-10 h-10"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Ready to Initialize?"}),s.jsxs("p",{className:"text-sm text-slate-500 mt-2 font-medium",children:["This will set up your growth milestones and diagnostic history for ",o.variety,"."]})]}),s.jsxs("div",{className:"p-8 bg-slate-50 rounded-[15px] border border-slate-100 text-left space-y-4",children:[s.jsxs("div",{className:"flex justify-between text-xs font-bold border-b border-slate-200 pb-3",children:[s.jsx("span",{className:"text-slate-400",children:"Species"}),s.jsx("span",{className:"text-slate-900 uppercase tracking-widest",children:o.cropType})]}),s.jsxs("div",{className:"flex justify-between text-xs font-bold border-b border-slate-200 pb-3",children:[s.jsx("span",{className:"text-slate-400",children:"Planting"}),s.jsx("span",{className:"text-slate-900",children:o.plantingDate})]})]})]}),s.jsxs("div",{className:"flex gap-4 pt-6",children:[n>1&&s.jsx("button",{onClick:()=>r(n-1),className:"flex-1 py-5 bg-slate-100 text-slate-400 rounded-[15px] font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Back"}),n<3?s.jsx("button",{onClick:()=>r(n+1),className:"flex-1 py-5 bg-slate-950 text-white rounded-[15px] font-black text-sm uppercase tracking-widest hover:bg-emerald-600 transition-all shadow-xl shadow-emerald-100",children:"Next Step"}):s.jsx("button",{onClick:f,disabled:i,className:"flex-1 py-5 bg-emerald-600 text-white rounded-[15px] font-black text-sm uppercase tracking-widest hover:bg-emerald-700 transition-all shadow-xl shadow-emerald-100 flex items-center justify-center",children:i?s.jsx("i",{"data-lucide":"refresh-cw",className:"w-5 h-5 animate-spin"}):"Complete Entry"})]})]})]})]})},$ie={getAdvisory:async(t,e,n)=>{const r=e.humidity,i=e.temperature,a=r>80&&i<28?75:30,o=i>30&&r<40?80:25;n.find(d=>d.cropType.includes("Grape"))?.price;const c=n.find(d=>d.cropType.includes("Grape"))?.change.startsWith("+")?"UP":"DOWN",f={currentStage:t.currentStage,weeklyTasks:[{id:"gt1",title:"Foundation Pruning Prep",description:"Apply copper hydroxide to open wounds post-harvest pruning.",priority:"high",isCompleted:!1,category:"pruning"},{id:"gt2",title:"GA Application (Berry Set)",description:"Dilute GA3 to 20ppm for fruit enlargement in Thompson variety.",priority:"medium",isCompleted:!1,category:"nutrition"},{id:"gt3",title:"Girdling (Stage: Veraison)",description:"Girdle main trunk to increase sugar accumulation and berry size.",priority:"medium",isCompleted:!0,category:"pruning"}],risks:[{name:"Downy Mildew",riskLevel:a>70?"High":"Low",score:a,symptoms:["Oil spots on upper leaves","White fuzzy growth on underside"],organicTreatment:"Potassium Bicarbonate spray (0.5%)",chemicalTreatment:"Metalaxyl-M + Mancozeb"},{name:"Powdery Mildew",riskLevel:o>70?"High":"Low",score:o,symptoms:["Ashy gray powder on berries","Leaf curling"],organicTreatment:"Sulfur dust (90% WP)",chemicalTreatment:"Penconazole"}],marketRecommendation:c==="UP"?`Prices in ${n.find(d=>d.cropType.includes("Grape"))?.mandiName} are rising. Delay harvest by 3 days if Brix > 16.`:"Market stable. Recommend standard harvest window.",nextSprayingWindow:"Tomorrow 06:00 - 09:00 (Low Wind Speed)"};return he.wrapSuccess(f)}},Fie=()=>{const[t,e]=R.useState(null),[n,r]=R.useState(null),[i,a]=R.useState([]),[o,c]=R.useState(!0);R.useEffect(()=>{f()},[]),R.useEffect(()=>{n&&d()},[n]),R.useEffect(()=>{const p=window;p.lucide&&p.lucide.createIcons()},[o,t,n,i]);const f=async()=>{c(!0);const h=await tr.getByUser("u123");if(h.success&&h.data){const g=h.data.filter(y=>y.cropType==="Grape");a(g),g.length>0&&r(g[0])}c(!1)},d=async()=>{if(!n)return;c(!0);const[p,h]=await Promise.all([Da.getForLocation("Nashik"),Kn.getLatestPrices()]);if(p.success&&h.success){const g=await $ie.getAdvisory(n,p.data,h.data);g.success&&e(g.data||null)}c(!1)};return o&&!t?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-emerald-600 mb-4"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Analyzing vineyard telemetry..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-fade-in pb-20",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Grape Specialist Advisor"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Nashik Vineyard Management System"})]}),s.jsx("div",{className:"flex space-x-2",children:i.map(p=>s.jsx("button",{onClick:()=>r(p),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${n?.cropId===p.cropId?"bg-emerald-600 text-white shadow-lg":"bg-white border border-slate-200 text-slate-600"}`,children:p.variety},p.cropId))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-8 text-white relative overflow-hidden shadow-2xl",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),s.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-500 mb-6",children:"Current Lifecycle"}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-2xl flex items-center justify-center text-emerald-400",children:s.jsx("i",{"data-lucide":"grape",className:"w-8 h-8"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-black",children:t?.currentStage}),s.jsx("div",{className:"text-xs font-bold text-slate-400",children:"Target Brix: 18-20"})]})]}),s.jsxs("div",{className:"mt-8 pt-8 border-t border-white/5 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs font-medium text-slate-400",children:"Harvest Readiness"}),s.jsx("span",{className:"text-xs font-black text-emerald-400",children:"65%"})]}),s.jsx("div",{className:"w-full bg-white/10 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:"65%"}})})]})]}),s.jsxs("div",{className:"bg-white rounded-[40px] p-8 border border-slate-200 shadow-sm space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"trending-up",className:"w-5 h-5"})}),s.jsx("h3",{className:"font-black text-slate-800 tracking-tight",children:"Market Optimization"})]}),s.jsx("p",{className:"text-sm text-slate-600 leading-relaxed font-medium",children:t?.marketRecommendation}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 flex items-center justify-between",children:[s.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400",children:"Optimal Window"}),s.jsx("span",{className:"text-xs font-bold text-slate-900",children:"May 15 - May 22"})]})]}),s.jsxs("div",{className:"bg-emerald-50 rounded-[32px] p-6 border border-emerald-100",children:[s.jsxs("div",{className:"flex items-center space-x-3 text-emerald-800 mb-4",children:[s.jsx("i",{"data-lucide":"sun",className:"w-5 h-5"}),s.jsx("h4",{className:"font-black text-sm uppercase tracking-widest",children:"Next Spray window"})]}),s.jsx("div",{className:"text-2xl font-black text-emerald-900 mb-1",children:t?.nextSprayingWindow.split(" (")[0]}),s.jsx("div",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest",children:t?.nextSprayingWindow.split(" (")[1].replace(")","")})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center px-2",children:[s.jsx("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em]",children:"Weekly Task List"}),s.jsxs("span",{className:"text-[10px] font-bold text-slate-400",children:[new Date().toLocaleDateString("en-US",{month:"short",day:"numeric"})," - Week 22"]})]}),s.jsx("div",{className:"space-y-4",children:t?.weeklyTasks.map(p=>s.jsx("div",{className:`bg-white p-6 rounded-3xl border transition-all ${p.isCompleted?"opacity-50 grayscale border-slate-100":"border-slate-200 hover:border-emerald-300 shadow-sm"}`,children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("button",{className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-colors ${p.isCompleted?"bg-emerald-500 border-emerald-500 text-white":"border-slate-200 text-transparent hover:border-emerald-500"}`,children:s.jsx("i",{"data-lucide":"check",className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("h4",{className:"text-sm font-black text-slate-900 tracking-tight",children:p.title}),s.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded ${p.priority==="high"?"bg-red-50 text-red-600":"bg-slate-50 text-slate-500"}`,children:p.priority})]}),s.jsx("p",{className:"text-xs text-slate-500 font-medium leading-relaxed",children:p.description}),s.jsxs("div",{className:"mt-3 inline-flex items-center px-2 py-0.5 bg-slate-50 text-slate-400 rounded-md text-[9px] font-bold uppercase tracking-widest",children:[s.jsx("i",{"data-lucide":"tag",className:"w-2 h-2 mr-1"}),p.category]})]})]})},p.id))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em] px-2",children:"Pathogen Early Warning"}),s.jsx("div",{className:"space-y-6",children:t?.risks.map((p,h)=>s.jsxs("div",{className:"bg-white rounded-[40px] border border-slate-200 overflow-hidden shadow-sm",children:[s.jsxs("div",{className:`p-6 border-b flex justify-between items-center ${p.riskLevel==="High"?"bg-red-50/50 border-red-100":"bg-slate-50/50 border-slate-100"}`,children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-black text-slate-900 tracking-tight",children:p.name}),s.jsxs("span",{className:`text-[9px] font-black uppercase tracking-widest ${p.riskLevel==="High"?"text-red-600":"text-emerald-600"}`,children:[p.riskLevel," Risk"]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:`text-2xl font-black ${p.riskLevel==="High"?"text-red-600":"text-slate-400"}`,children:[p.score,"%"]})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("section",{children:[s.jsx("h5",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Early Symptoms"}),s.jsx("ul",{className:"space-y-2",children:p.symptoms.map((g,y)=>s.jsxs("li",{className:"flex items-center text-[11px] text-slate-600 font-medium",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300 mr-3"}),g]},y))})]}),s.jsxs("div",{className:"pt-4 border-t border-slate-50 grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:"p-4 bg-emerald-50 rounded-2xl border border-emerald-100",children:[s.jsx("div",{className:"text-[9px] font-black text-emerald-800 uppercase tracking-widest mb-1",children:"Organic Control"}),s.jsx("div",{className:"text-[11px] text-emerald-900 font-bold",children:p.organicTreatment})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[s.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Chemical Control"}),s.jsx("div",{className:"text-[11px] text-slate-900 font-bold",children:p.chemicalTreatment})]})]})]})]},h))})]})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
      `})]})},Uie={getAdvisory:async(t,e,n)=>{const r=e.humidity,i=e.temperature,a=r>75&&i>22&&i<32?85:20,o=i>30&&r<50?70:35;n.find(d=>d.cropType.includes("Onion"))?.price;const c=n.find(d=>d.cropType.includes("Onion"))?.change.startsWith("+")?"UP":"DOWN",f={currentStage:t.currentStage,weeklyTasks:[{id:"ot1",title:"Irrigation Cut-off Planning",description:"Identify if 50% neck fall is reached. Stop irrigation 15 days before harvest for better shelf life.",priority:"high",isCompleted:!1,category:"harvest"},{id:"ot2",title:"Stemphylium Spray",description:"Apply preventive fungicide if morning dew is heavy in the Nashik valley.",priority:"medium",isCompleted:!1,category:"protection"},{id:"ot3",title:"NPK Top Dressing",description:"Apply last dose of Nitrogen if bulb initiation has just started.",priority:"low",isCompleted:!0,category:"nutrition"}],risks:[{name:"Purple Blotch",riskLevel:a>70?"High":"Moderate",score:a,symptoms:["Small water-soaked lesions","Purple centers with yellow halo"],organicTreatment:"Neem oil spray (3000 ppm)",chemicalTreatment:"Mancozeb or Chlorothalonil"},{name:"Onion Thrips",riskLevel:o>60?"High":"Low",score:o,symptoms:["Silvering of leaves","Curled leaf tips"],organicTreatment:"Spinosad (OMRI listed)",chemicalTreatment:"Fipronil"}],marketRecommendation:c==="UP"?"Prices in Lasalgaon are peaking. If bulbs are mature (75% neck fall), harvest immediately to capture current rates.":"Market stable. Ensure proper field curing for 3-5 days to maximize bulb quality and color.",harvestWindow:"June 05 - June 15 (Post-monsoon risk low)",curingTips:["Leave harvested onions in rows for 3 days in the sun.","Ensure bulbs are covered by leaves of the next row to avoid sunscald.","Cut tops only when necks are completely dry to prevent rot during storage."]};return he.wrapSuccess(f)}},Bie=()=>{const[t,e]=R.useState(null),[n,r]=R.useState(null),[i,a]=R.useState([]),[o,c]=R.useState(!0);R.useEffect(()=>{f()},[]),R.useEffect(()=>{n&&d()},[n]),R.useEffect(()=>{const p=window;p.lucide&&p.lucide.createIcons()},[o,t,n,i]);const f=async()=>{c(!0);const h=await tr.getByUser("u123");if(h.success&&h.data){const g=h.data.filter(y=>y.cropType==="Onion");a(g),g.length>0&&r(g[0])}c(!1)},d=async()=>{if(!n)return;c(!0);const[p,h]=await Promise.all([Da.getForLocation("Nashik"),Kn.getLatestPrices()]);if(p.success&&h.success){const g=await Uie.getAdvisory(n,p.data,h.data);g.success&&e(g.data||null)}c(!1)};return o&&!t?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-amber-600 mb-4"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Analyzing onion bulb development..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-fade-in pb-20",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Onion Specialist Advisor"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Nashik Regional Onion Management System"})]}),s.jsx("div",{className:"flex space-x-2",children:i.map(p=>s.jsx("button",{onClick:()=>r(p),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${n?.cropId===p.cropId?"bg-amber-600 text-white shadow-lg":"bg-white border border-slate-200 text-slate-600"}`,children:p.variety},p.cropId))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-amber-900 rounded-[40px] p-8 text-white relative overflow-hidden shadow-2xl",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-500/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),s.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-amber-500/60 mb-6",children:"Bulb Status"}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-2xl flex items-center justify-center text-amber-400",children:s.jsx("i",{"data-lucide":"sprout",className:"w-8 h-8"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-black",children:t?.currentStage}),s.jsx("div",{className:"text-xs font-bold text-amber-200/60",children:"Stage Duration: 30-40 Days"})]})]}),s.jsxs("div",{className:"mt-8 pt-8 border-t border-white/5 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs font-medium text-amber-200/50",children:"Maturation Level"}),s.jsx("span",{className:"text-xs font-black text-amber-400",children:"45%"})]}),s.jsx("div",{className:"w-full bg-white/10 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-amber-500 rounded-full",style:{width:"45%"}})})]})]}),s.jsxs("div",{className:"bg-white rounded-[40px] p-8 border border-slate-200 shadow-sm space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-amber-50 text-amber-600 rounded-xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"sun",className:"w-5 h-5"})}),s.jsx("h3",{className:"font-black text-slate-800 tracking-tight",children:"Curing Protocol"})]}),s.jsx("ul",{className:"space-y-3",children:t?.curingTips.map((p,h)=>s.jsxs("li",{className:"flex items-start text-xs text-slate-600 font-medium leading-relaxed",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 mr-3 mt-1.5 shrink-0"}),p]},h))})]}),s.jsxs("div",{className:"bg-blue-50 rounded-[32px] p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex items-center space-x-3 text-blue-800 mb-4",children:[s.jsx("i",{"data-lucide":"calendar",className:"w-5 h-5"}),s.jsx("h4",{className:"font-black text-sm uppercase tracking-widest",children:"Harvest Window"})]}),s.jsx("div",{className:"text-2xl font-black text-blue-900 mb-1",children:t?.harvestWindow.split(" (")[0]}),s.jsx("div",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-widest",children:t?.harvestWindow.split(" (")[1].replace(")","")})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center px-2",children:[s.jsx("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em]",children:"Task Board"}),s.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:"Current Phase: Bulbing"})]}),s.jsx("div",{className:"space-y-4",children:t?.weeklyTasks.map(p=>s.jsx("div",{className:`bg-white p-6 rounded-3xl border transition-all ${p.isCompleted?"opacity-50 grayscale border-slate-100":"border-slate-200 hover:border-amber-300 shadow-sm"}`,children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("button",{className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-colors ${p.isCompleted?"bg-amber-600 border-amber-600 text-white":"border-slate-200 text-transparent hover:border-amber-600"}`,children:s.jsx("i",{"data-lucide":"check",className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("h4",{className:"text-sm font-black text-slate-900 tracking-tight",children:p.title}),s.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded ${p.priority==="high"?"bg-red-50 text-red-600":"bg-slate-50 text-slate-500"}`,children:p.priority})]}),s.jsx("p",{className:"text-xs text-slate-500 font-medium leading-relaxed",children:p.description}),s.jsxs("div",{className:"mt-3 inline-flex items-center px-2 py-0.5 bg-slate-50 text-slate-400 rounded-md text-[9px] font-bold uppercase tracking-widest",children:[s.jsx("i",{"data-lucide":"layers",className:"w-2 h-2 mr-1"}),p.category]})]})]})},p.id))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em] px-2",children:"Pathogen Defense"}),s.jsx("div",{className:"space-y-6",children:t?.risks.map((p,h)=>s.jsxs("div",{className:"bg-white rounded-[40px] border border-slate-200 overflow-hidden shadow-sm",children:[s.jsxs("div",{className:`p-6 border-b flex justify-between items-center ${p.riskLevel==="High"?"bg-red-50/50 border-red-100":"bg-slate-50/50 border-slate-100"}`,children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-black text-slate-900 tracking-tight",children:p.name}),s.jsxs("span",{className:`text-[9px] font-black uppercase tracking-widest ${p.riskLevel==="High"?"text-red-600":"text-emerald-600"}`,children:[p.riskLevel," Risk"]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:`text-2xl font-black ${p.riskLevel==="High"?"text-red-600":"text-slate-400"}`,children:[p.score,"%"]})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("section",{children:[s.jsx("h5",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Early Symptoms"}),s.jsx("ul",{className:"space-y-2",children:p.symptoms.map((g,y)=>s.jsxs("li",{className:"flex items-center text-[11px] text-slate-600 font-medium",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300 mr-3"}),g]},y))})]}),s.jsxs("div",{className:"pt-4 border-t border-slate-50 grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:"p-4 bg-emerald-50 rounded-2xl border border-emerald-100",children:[s.jsx("div",{className:"text-[9px] font-black text-emerald-800 uppercase tracking-widest mb-1",children:"Biological Control"}),s.jsx("div",{className:"text-[11px] text-emerald-900 font-bold",children:p.organicTreatment})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[s.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Standard Control"}),s.jsx("div",{className:"text-[11px] text-slate-900 font-bold",children:p.chemicalTreatment})]})]})]})]},h))})]})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
      `})]})},qie={getAdvisory:async(t,e,n)=>{const r=e.humidity,i=e.temperature,a=r>80&&i>18&&i<26?80:30,o=i>35?75:15;n.find(d=>d.cropType.includes("Tomato"))?.price;const c=n.find(d=>d.cropType.includes("Tomato"))?.change.startsWith("+")?"UP":"DOWN",f={currentStage:t.currentStage,weeklyTasks:[{id:"tt1",title:"Trellis & Staking Reinforcement",description:"Ensure bamboo stakes are secure. Fruit clusters are getting heavy; double tie the main stem.",priority:"high",isCompleted:!1,category:"staking"},{id:"tt2",title:"Foliar Calcium Spray",description:"Prevent Blossom End Rot by applying Calcium Nitrate during high-heat afternoon peaks.",priority:"medium",isCompleted:!1,category:"protection"},{id:"tt3",title:"Lower Leaf Pruning",description:"Remove bottom leaves touching the soil to improve airflow and prevent soil-borne blight.",priority:"low",isCompleted:!0,category:"protection"}],risks:[{name:"Early/Late Blight",riskLevel:a>70?"High":"Low",score:a,symptoms:["Brown target-like spots","Dark water-soaked patches"],organicTreatment:"Copper oxychloride or Trichoderma viride",chemicalTreatment:"Mancozeb or Azoxystrobin"},{name:"Leaf Curl (Whitefly)",riskLevel:o>60?"Moderate":"Low",score:o,symptoms:["Upward curling of leaves","Stunted growth"],organicTreatment:"Yellow sticky traps + Neem oil",chemicalTreatment:"Imidacloprid"}],marketRecommendation:c==="UP"?"Fresh market prices in Nashik Mandi are rising. Harvest at 'Breaker' stage for long-distance transport to capture premium rates.":"Prices stable. If selling to nearby processing units, allow fruit to reach 'Red Ripe' stage for maximum solids.",harvestStages:[{stage:"Breaker",color:"bg-yellow-100",purpose:"Long distance transport (5-7 days shelf life)"},{stage:"Pink/Turning",color:"bg-pink-200",purpose:"Local markets (2-3 days shelf life)"},{stage:"Red Ripe",color:"bg-red-500",purpose:"Immediate consumption or Processing"}],stakingAdvice:"Maintain a 'V' system for hybrid varieties to ensure maximum light penetration and easier spraying."};return he.wrapSuccess(f)}},Gie=()=>{const[t,e]=R.useState(null),[n,r]=R.useState(null),[i,a]=R.useState([]),[o,c]=R.useState(!0),[f,d]=R.useState(!1);R.useEffect(()=>{p()},[]),R.useEffect(()=>{n&&h()},[n]),R.useEffect(()=>{const N=window;N.lucide&&N.lucide.createIcons()},[o,t,n,i,f]);const p=async()=>{c(!0);const N="u123",S=await tr.getByUser(N);if(S.success&&S.data){const w=S.data.filter(j=>j.cropType==="Tomato");if(a(w),w.length>0)r(w[0]);else{const j={cropId:"demo-t1",userId:N,cropType:"Tomato",variety:"Abhinav Hybrid",plantingDate:"2024-02-01",currentStage:"Fruit Set",farmSize:1.5,irrigationMethod:"drip",healthScore:85,milestones:[],soilData:{ph:6.5},activities:[],costs:[],targetYield:25};a([j]),r(j)}}c(!1)},h=async()=>{if(!n)return;c(!0);const[N,S]=await Promise.all([Da.getForLocation("Nashik"),Kn.getLatestPrices()]);if(N.success&&S.success){const w=await qie.getAdvisory(n,N.data,S.data);w.success&&e(w.data||null)}c(!1)},g=()=>{if(!n)return{min:0,max:0};const N=n.variety.includes("Hybrid")?25:15,S=n.healthScore/100;return{min:Math.round(N*n.farmSize*S*.9),max:Math.round(N*n.farmSize*S*1.1)}};if(o&&!t)return s.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-rose-600 mb-4"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Analyzing tomato fruit set metrics..."})]});const y=g();return s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-fade-in pb-20",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Tomato Specialist Advisor"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Hybrid and Local Cultivation Intelligence"})]}),s.jsx("div",{className:"flex space-x-2",children:i.map(N=>s.jsx("button",{onClick:()=>r(N),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${n?.cropId===N.cropId?"bg-rose-600 text-white shadow-lg":"bg-white border border-slate-200 text-slate-600"}`,children:N.variety},N.cropId))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-rose-900 rounded-[40px] p-8 text-white relative overflow-hidden shadow-2xl",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-rose-500/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),s.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-rose-300/50 mb-6",children:"Fruiting Status"}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-2xl flex items-center justify-center text-rose-400",children:s.jsx("i",{"data-lucide":"cherry",className:"w-8 h-8"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-black",children:t?.currentStage}),s.jsx("div",{className:"text-xs font-bold text-rose-200/50",children:"Optimum Temp: 18-30C"})]})]}),s.jsxs("div",{className:"mt-8 pt-8 border-t border-white/5 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs font-medium text-rose-200/40",children:"Fruit Maturation"}),s.jsx("span",{className:"text-xs font-black text-rose-400",children:"58%"})]}),s.jsx("div",{className:"w-full bg-white/10 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:"58%"}})})]})]}),s.jsxs("div",{className:"bg-white rounded-[40px] p-8 border border-slate-200 shadow-sm space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-amber-50 text-amber-600 rounded-xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"calculator",className:"w-5 h-5"})}),s.jsx("h3",{className:"font-black text-slate-800 tracking-tight",children:"Yield Estimation"})]}),s.jsx("i",{"data-lucide":"info",className:"w-4 h-4 text-slate-300"})]}),s.jsxs("div",{className:"text-center p-6 bg-slate-50 rounded-3xl border border-slate-100",children:[s.jsxs("div",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:[y.min," - ",y.max]}),s.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mt-2 text-center",children:"Estimated Tons (Total)"}),s.jsxs("p",{className:"text-[10px] text-slate-500 italic mt-4 leading-relaxed",children:["Based on current health score (",n?.healthScore,"%) and plot size."]})]})]}),s.jsxs("div",{className:"bg-white rounded-[40px] p-8 border border-slate-200 shadow-sm space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-rose-50 text-rose-600 rounded-xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"layers",className:"w-5 h-5"})}),s.jsx("h3",{className:"font-black text-slate-800 tracking-tight",children:"Harvest Stages"})]}),s.jsx("div",{className:"space-y-4",children:t?.harvestStages.map((N,S)=>s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${N.color} shrink-0 shadow-sm`}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-black text-slate-800 uppercase tracking-tight",children:N.stage}),s.jsx("div",{className:"text-[10px] text-slate-500 font-medium",children:N.purpose})]})]},S))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center px-2",children:[s.jsx("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em]",children:"Operational Tasks"}),s.jsx("button",{onClick:()=>d(!f),className:`px-4 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${f?"bg-slate-900 text-white":"bg-emerald-50 text-emerald-700"}`,children:f?"Hide IPM":"View IPM Plan"})]}),f?s.jsxs("div",{className:"bg-emerald-950 p-8 rounded-[40px] text-white space-y-6 animate-slide-up",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"shield-check",className:"w-6 h-6 text-emerald-400"})}),s.jsx("h3",{className:"font-black tracking-tight",children:"Integrated Pest Mgmt."})]}),s.jsx("div",{className:"space-y-4",children:[{step:"Cultural",desc:"Maintain weed-free borders to prevent whitefly hosting.",icon:"leaf"},{step:"Biological",desc:"Deploy 5 pheromone traps per acre for fruit borer.",icon:"bug"},{step:"Chemical",desc:"Rotate between Abamectin and Spinosad for resistance mgmt.",icon:"flask-conical"}].map((N,S)=>s.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/10",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[s.jsx("i",{"data-lucide":N.icon,className:"w-3 h-3 text-emerald-400"}),s.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest text-emerald-400",children:[N.step," Control"]})]}),s.jsx("p",{className:"text-xs text-slate-300 leading-relaxed",children:N.desc})]},S))})]}):s.jsx("div",{className:"space-y-4",children:t?.weeklyTasks.map(N=>s.jsx("div",{className:`bg-white p-6 rounded-3xl border transition-all ${N.isCompleted?"opacity-50 grayscale border-slate-100":"border-slate-200 hover:border-rose-300 shadow-sm"}`,children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("button",{className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-colors ${N.isCompleted?"bg-rose-600 border-rose-600 text-white":"border-slate-200 text-transparent hover:border-rose-600"}`,children:s.jsx("i",{"data-lucide":"check",className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("h4",{className:"text-sm font-black text-slate-900 tracking-tight",children:N.title}),s.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded ${N.priority==="high"?"bg-red-50 text-red-600":"bg-slate-50 text-slate-500"}`,children:N.priority})]}),s.jsx("p",{className:"text-xs text-slate-500 font-medium leading-relaxed",children:N.description}),s.jsxs("div",{className:"mt-3 inline-flex items-center px-2 py-0.5 bg-slate-50 text-slate-400 rounded-md text-[9px] font-bold uppercase tracking-widest",children:[s.jsx("i",{"data-lucide":"box",className:"w-2 h-2 mr-1"}),N.category]})]})]})},N.id))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em] px-2",children:"Pathogen Defense"}),s.jsx("div",{className:"space-y-6",children:t?.risks.map((N,S)=>s.jsxs("div",{className:"bg-white rounded-[40px] border border-slate-200 overflow-hidden shadow-sm",children:[s.jsxs("div",{className:`p-6 border-b flex justify-between items-center ${N.riskLevel==="High"?"bg-red-50/50 border-red-100":"bg-slate-50/50 border-slate-100"}`,children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-black text-slate-900 tracking-tight",children:N.name}),s.jsxs("span",{className:`text-[9px] font-black uppercase tracking-widest ${N.riskLevel==="High"?"text-red-600":"text-emerald-600"}`,children:[N.riskLevel," Risk"]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:`text-2xl font-black ${N.riskLevel==="High"?"text-red-600":"text-slate-400"}`,children:[N.score,"%"]})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("section",{children:[s.jsx("h5",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Key Symptoms"}),s.jsx("ul",{className:"space-y-2",children:N.symptoms.map((w,j)=>s.jsxs("li",{className:"flex items-center text-[11px] text-slate-600 font-medium",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300 mr-3"}),w]},j))})]}),s.jsxs("div",{className:"pt-4 border-t border-slate-50 grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:"p-4 bg-emerald-50 rounded-2xl border border-emerald-100",children:[s.jsx("div",{className:"text-[9px] font-black text-emerald-800 uppercase tracking-widest mb-1",children:"Organic Control"}),s.jsx("div",{className:"text-[11px] text-emerald-900 font-bold",children:N.organicTreatment})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[s.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Standard Control"}),s.jsx("div",{className:"text-[11px] text-slate-900 font-bold",children:N.chemicalTreatment})]})]})]})]},S))})]})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-slide-up { animation: slide-up 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slide-up { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
      `})]})},Hie={getAdvisory:async t=>{const e=t.soilData||{ph:7.2,nitrogen:45,phosphorus:22,potassium:180},n={Grape:[{nutrient:"N",label:"Nitrogen",requirement:120,current:(e.nitrogen||0)/1.5},{nutrient:"P",label:"Phosphorus",requirement:60,current:(e.phosphorus||0)*1.2},{nutrient:"K",label:"Potassium",requirement:200,current:(e.potassium||0)/2.5},{nutrient:"B",label:"Boron",requirement:2,current:40},{nutrient:"Mg",label:"Magnesium",requirement:15,current:85}],Tomato:[{nutrient:"N",label:"Nitrogen",requirement:150,current:(e.nitrogen||0)/1.8},{nutrient:"P",label:"Phosphorus",requirement:80,current:e.phosphorus||0},{nutrient:"K",label:"Potassium",requirement:180,current:(e.potassium||0)/2},{nutrient:"Ca",label:"Calcium",requirement:25,current:60}],Onion:[{nutrient:"N",label:"Nitrogen",requirement:100,current:(e.nitrogen||0)/1.2},{nutrient:"P",label:"Phosphorus",requirement:50,current:(e.phosphorus||0)*1.5},{nutrient:"K",label:"Potassium",requirement:100,current:(e.potassium||0)/1.2}]},i=(n[t.cropType]||n.Grape).map(o=>({nutrient:o.nutrient,label:o.label,requirementKgPerAcre:o.requirement,currentLevel:Math.min(Math.max(o.current,10),100),deficiency:o.current<40?"Severe":o.current<75?"Marginal":"None"})),a={cropId:t.cropId,cropName:`${t.cropType} (${t.variety})`,soilPh:e.ph||7,nutrientNeeds:i,schedule:[{id:"fert-1",dap:15,date:"2024-05-25",productName:"Urea (46% N)",dosage:25,unit:"kg/acre",method:"Broadcasting",status:"pending"},{id:"fert-2",dap:45,date:"2024-06-25",productName:"19:19:19 NPK",dosage:5,unit:"kg/acre",method:"Fertigation",status:"pending"},{id:"fert-3",dap:60,date:"2024-07-10",productName:"Potassium Schoenite",dosage:500,unit:"g/liter",method:"Foliar Spray",status:"pending"}],organicAlternatives:["Well-decomposed Farm Yard Manure (10 tons/acre)","Vermicompost enriched with Trichoderma (2 tons/acre)","Green Manure (Dhaincha) before main crop"],costAnalysis:{estimatedTotalCost:8500*t.farmSize,expectedRoi:3.2}};return he.wrapSuccess(a)}},zie=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(null),[i,a]=R.useState(null),[o,c]=R.useState(!0),[f,d]=R.useState("deficiency");R.useEffect(()=>{p()},[]),R.useEffect(()=>{n&&h()},[n]),R.useEffect(()=>{const y=window;y.lucide&&y.lucide.createIcons()},[o,i,n,f]);const p=async()=>{c(!0);const y=await tr.getByUser("u123");y.success&&y.data&&(e(y.data),y.data.length>0&&r(y.data[0])),c(!1)},h=async()=>{if(!n)return;c(!0);const y=await Hie.getAdvisory(n);y.success&&a(y.data||null),c(!1)},g=i?.nutrientNeeds.map(y=>({subject:y.label,A:y.currentLevel,fullMark:100}))||[];return o&&!i?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-amber-600 mb-4"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Parsing soil chemistry..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-fade-in pb-20",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Nutrient Intelligence"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Precision soil health and fertilization models"})]}),s.jsx("div",{className:"flex space-x-2",children:t.map(y=>s.jsx("button",{onClick:()=>r(y),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${n?.cropId===y.cropId?"bg-amber-600 text-white shadow-lg":"bg-white border border-slate-200 text-slate-600"}`,children:y.variety},y.cropId))})]}),s.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-2xl border border-slate-200 w-fit",children:[s.jsx("button",{onClick:()=>d("deficiency"),className:`px-6 py-2 rounded-xl text-xs font-bold transition-all ${f==="deficiency"?"bg-white text-amber-700 shadow-sm":"text-slate-500"}`,children:"Soil Deficiencies"}),s.jsx("button",{onClick:()=>d("schedule"),className:`px-6 py-2 rounded-xl text-xs font-bold transition-all ${f==="schedule"?"bg-white text-amber-700 shadow-sm":"text-slate-500"}`,children:"App. Schedule"}),s.jsx("button",{onClick:()=>d("economics"),className:`px-6 py-2 rounded-xl text-xs font-bold transition-all ${f==="economics"?"bg-white text-amber-700 shadow-sm":"text-slate-500"}`,children:"Cost & ROI"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[f==="deficiency"&&s.jsxs("div",{className:"bg-white rounded-[40px] border border-slate-200 p-10 shadow-sm space-y-10 animate-slide-up",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Soil Nutrient Radar"}),s.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest mt-1",children:"Current vs. Target Levels"})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 text-center",children:[s.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Soil pH"}),s.jsx("div",{className:"text-xl font-black text-slate-900",children:i?.soilPh})]})]}),s.jsx("div",{className:"h-[400px]",children:s.jsx(Dt,{width:"100%",height:"100%",children:s.jsxs(Oie,{cx:"50%",cy:"50%",outerRadius:"80%",data:g,children:[s.jsx(EM,{stroke:"#f1f5f9"}),s.jsx(ko,{dataKey:"subject",tick:{fill:"#64748b",fontSize:10,fontWeight:"bold"}}),s.jsx(Bc,{name:"Current",dataKey:"A",stroke:"#d97706",fill:"#fbbf24",fillOpacity:.6})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i?.nutrientNeeds.map((y,N)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-black text-xs ${y.deficiency==="Severe"?"bg-red-100 text-red-600":y.deficiency==="Marginal"?"bg-amber-100 text-amber-600":"bg-emerald-100 text-emerald-600"}`,children:y.nutrient}),s.jsx("span",{className:"text-sm font-bold text-slate-700",children:y.label})]}),s.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${y.deficiency==="Severe"?"text-red-600":y.deficiency==="Marginal"?"text-amber-600":"text-emerald-600"}`,children:y.deficiency})]},N))})]}),f==="schedule"&&s.jsxs("div",{className:"space-y-6 animate-slide-up",children:[s.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-10 text-white relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-amber-500/10 rounded-full blur-[60px] -translate-y-1/2 translate-x-1/2"}),s.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-500 mb-8",children:"Active Fertigation Plan"}),s.jsx("div",{className:"space-y-8",children:i?.schedule.map((y,N)=>s.jsxs("div",{className:"flex items-start space-x-6 relative",children:[N<i.schedule.length-1&&s.jsx("div",{className:"absolute top-10 left-6 bottom-0 w-px bg-white/10"}),s.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 z-10 ${y.status==="completed"?"bg-emerald-500 text-white":"bg-white/10 text-white/40 border border-white/10"}`,children:s.jsx("span",{className:"text-xs font-black",children:y.dap})}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-black tracking-tight",children:y.productName}),s.jsxs("p",{className:"text-xs text-slate-400 font-medium",children:[new Date(y.date).toLocaleDateString(),"  ",y.method]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-black",children:[y.dosage," ",y.unit]}),s.jsx("div",{className:"text-[10px] text-slate-500 font-bold uppercase",children:"Rate"})]})]})})]},y.id))})]}),s.jsxs("div",{className:"bg-white rounded-[40px] border border-slate-200 p-10 shadow-sm space-y-6",children:[s.jsx("h3",{className:"font-black text-slate-900 tracking-tight",children:"Application Method Guide"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{title:"Broadcasting",icon:"layers",desc:"Basal dose application before sowing."},{title:"Fertigation",icon:"droplet",desc:"Water-soluble nutrients via drip."},{title:"Foliar Spray",icon:"wind",desc:"Direct leaf absorption for micronutrients."}].map((y,N)=>s.jsxs("div",{className:"p-6 bg-slate-50 rounded-3xl border border-slate-100 group hover:bg-amber-50 hover:border-amber-200 transition-all",children:[s.jsx("i",{"data-lucide":y.icon,className:"w-6 h-6 text-slate-400 group-hover:text-amber-600 mb-4 transition-colors"}),s.jsx("div",{className:"text-xs font-black text-slate-900 uppercase tracking-tight",children:y.title}),s.jsx("p",{className:"text-[10px] text-slate-500 font-medium mt-1 leading-relaxed",children:y.desc})]},N))})]})]}),f==="economics"&&s.jsxs("div",{className:"space-y-6 animate-slide-up",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-10 rounded-[40px] border border-slate-200 shadow-sm text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-amber-50 text-amber-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:s.jsx("i",{"data-lucide":"indian-rupee",className:"w-8 h-8"})}),s.jsx("div",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Estimated Input Cost"}),s.jsxs("div",{className:"text-4xl font-black text-slate-900",children:["",i?.costAnalysis.estimatedTotalCost.toLocaleString()]}),s.jsxs("p",{className:"text-[10px] text-slate-500 mt-4 leading-relaxed italic",children:["Including basal dose, top dressing, and micronutrient sprays for ",n?.farmSize," acres."]})]}),s.jsxs("div",{className:"bg-emerald-950 p-10 rounded-[40px] text-white text-center shadow-xl",children:[s.jsx("div",{className:"w-16 h-16 bg-white/10 text-emerald-400 rounded-2xl flex items-center justify-center mx-auto mb-6",children:s.jsx("i",{"data-lucide":"trending-up",className:"w-8 h-8"})}),s.jsx("div",{className:"text-[10px] font-black text-emerald-500/60 uppercase tracking-widest mb-1",children:"Expected ROI"}),s.jsxs("div",{className:"text-4xl font-black text-white",children:[i?.costAnalysis.expectedRoi,"x"]}),s.jsx("p",{className:"text-[10px] text-emerald-100/40 mt-4 leading-relaxed",children:"Estimated profit margin increase through optimized nutrient uptake and reduced waste."})]})]}),s.jsxs("div",{className:"bg-white rounded-[40px] border border-slate-200 p-10 shadow-sm",children:[s.jsx("h3",{className:"text-xl font-black text-slate-900 mb-8 tracking-tight",children:"Fertilizer Market Comparison"}),s.jsx("div",{className:"space-y-4",children:[{brand:"IFFCO Urea",price:242,trend:"-2%",efficiency:"92%",tag:"Recommended"},{brand:"SmartFert DAP",price:1350,trend:"+5%",efficiency:"88%",tag:"Price Spike"},{brand:"Nano Nitrogen",price:240,trend:"Stable",efficiency:"98%",tag:"High ROI"}].map((y,N)=>s.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-50 rounded-[32px] border border-slate-100",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx("div",{className:"text-sm font-black text-slate-800",children:y.brand}),y.tag&&s.jsx("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-800 text-[8px] font-black uppercase rounded tracking-widest",children:y.tag})]}),s.jsxs("div",{className:"flex items-center space-x-10",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-black text-slate-900",children:["",y.price]}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Per Bag/Unit"})]}),s.jsxs("div",{className:"text-right hidden md:block",children:[s.jsx("div",{className:"text-sm font-black text-emerald-600",children:y.efficiency}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Efficiency"})]})]})]},N))})]})]})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-amber-50 border border-amber-100 p-8 rounded-[40px] space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-amber-100 text-amber-700 rounded-xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"leaf",className:"w-5 h-5"})}),s.jsx("h3",{className:"font-black text-amber-900 tracking-tight",children:"Organic Alternatives"})]}),s.jsx("div",{className:"space-y-4",children:i?.organicAlternatives.map((y,N)=>s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 mt-2 shrink-0"}),s.jsx("p",{className:"text-xs font-medium text-amber-800 leading-relaxed",children:y})]},N))}),s.jsx("button",{className:"w-full py-4 bg-amber-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-amber-700 transition-all",children:"Switch to Organic Mode"})]}),s.jsxs("div",{className:"bg-white border border-slate-200 p-8 rounded-[40px] space-y-6 shadow-sm",children:[s.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em]",children:"Soil Sample Metadata"}),s.jsx("div",{className:"space-y-4",children:[{label:"Lab Name",value:"Nashik Agri Lab"},{label:"Sample ID",value:"#SK-9022"},{label:"Test Date",value:"2024-03-12"},{label:"Organic Matter",value:"1.2%"}].map((y,N)=>s.jsxs("div",{className:"flex justify-between border-b border-slate-50 pb-3",children:[s.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:y.label}),s.jsx("span",{className:"text-xs font-black text-slate-700",children:y.value})]},N))}),s.jsx("button",{className:"w-full py-4 border-2 border-slate-100 text-slate-400 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-50 transition-all",children:"Upload New Soil Card"})]})]})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-slide-up { animation: slide-up 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slide-up { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
      `})]})},Vie={getSummary:async t=>{const e=new Date().toISOString().split("T")[0],n=[{id:"ipm-t1",title:"Mealybug Barrier Installation",category:"Mechanical",description:"Apply sticky grease bands around the main trunk to prevent ant-aided mealybug migration.",recommendedDate:e,status:"pending",pestTarget:"Mealybug"},{id:"ipm-t2",title:"Trichogramma Card Deployment",category:"Biological",description:"Install 50 cards per acre to naturally control Fruit Borer population.",recommendedDate:e,status:"pending",pestTarget:"Fruit Borer"},{id:"ipm-t3",title:"Sanitation: Debris Removal",category:"Cultural",description:"Remove fallen fruits and leaves from previous cycle to eliminate overwintering pupae.",recommendedDate:e,status:"completed",pestTarget:"Multiple Pests"}],r=[{id:"log-01",date:"2024-05-10",productName:"Abamectin 1.8% EC",activeIngredient:"Abamectin",dosage:"1.5ml / Liter",targetPest:"Mites",weatherAtTime:"Sunny, 28C, Low Wind",phiDays:7,reiHours:24,operatorName:"Sanjay Patil",effectiveness:"High"}];return he.wrapSuccess({cropId:t.cropId,cropName:`${t.cropType} (${t.variety})`,tasks:n,logs:r,complianceScore:82,chemicalDependency:25})},logSpray:async t=>he.request("/api/ipm/logs","POST",{id:Math.random().toString(36).substr(2,9),...t})},Wie=()=>{const[t,e]=R.useState(null),[n,r]=R.useState([]),[i,a]=R.useState(null),[o,c]=R.useState(!0),[f,d]=R.useState("board");R.useEffect(()=>{p()},[]),R.useEffect(()=>{i&&h()},[i]),R.useEffect(()=>{const y=window;y.lucide&&y.lucide.createIcons()},[o,t,f]);const p=async()=>{c(!0);const y=await tr.getByUser("u123");y.success&&y.data&&y.data.length>0&&(r(y.data),a(y.data[0])),c(!1)},h=async()=>{if(!i)return;c(!0);const y=await Vie.getSummary(i);y.success&&e(y.data||null),c(!1)},g=y=>{switch(y){case"Biological":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"Cultural":return"bg-amber-100 text-amber-700 border-amber-200";case"Mechanical":return"bg-blue-100 text-blue-700 border-blue-200";case"Chemical":return"bg-rose-100 text-rose-700 border-rose-200";default:return"bg-slate-100 text-slate-700"}};return o&&!t?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Assembling IPM strategy..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-20 md:pb-0 animate-fade-in",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"IPM Intelligence"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Integrated Pest Management & Traceability"})]}),s.jsx("div",{className:"flex items-center space-x-3",children:n.map(y=>s.jsx("button",{onClick:()=>a(y),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${i?.cropId===y.cropId?"bg-emerald-600 text-white shadow-lg":"bg-white border border-slate-200 text-slate-600"}`,children:y.variety},y.cropId))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-[32px] border border-slate-200 shadow-sm flex items-center space-x-6",children:[s.jsx("div",{className:"w-14 h-14 bg-emerald-50 text-emerald-600 rounded-2xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"shield-check",className:"w-8 h-8"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-black text-slate-900",children:[t?.complianceScore,"%"]}),s.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Compliance Score"})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-[32px] border border-slate-200 shadow-sm flex items-center space-x-6",children:[s.jsx("div",{className:"w-14 h-14 bg-rose-50 text-rose-600 rounded-2xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"flask-conical",className:"w-8 h-8"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-black text-slate-900",children:[t?.chemicalDependency,"%"]}),s.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Chemical Reliance"})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-[32px] border border-slate-200 shadow-sm flex items-center space-x-6",children:[s.jsx("div",{className:"w-14 h-14 bg-amber-50 text-amber-600 rounded-2xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"alert-circle",className:"w-8 h-8"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-black text-slate-900",children:t?.tasks.filter(y=>y.status==="pending").length}),s.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Active Interventions"})]})]})]}),s.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-2xl border border-slate-200 w-fit",children:[s.jsx("button",{onClick:()=>d("board"),className:`px-8 py-2.5 rounded-xl text-xs font-bold transition-all ${f==="board"?"bg-white text-emerald-700 shadow-sm":"text-slate-500"}`,children:"Activity Board"}),s.jsx("button",{onClick:()=>d("registry"),className:`px-8 py-2.5 rounded-xl text-xs font-bold transition-all ${f==="registry"?"bg-white text-emerald-700 shadow-sm":"text-slate-500"}`,children:"Spray Registry"}),s.jsx("button",{onClick:()=>d("safety"),className:`px-8 py-2.5 rounded-xl text-xs font-bold transition-all ${f==="safety"?"bg-white text-emerald-700 shadow-sm":"text-slate-500"}`,children:"Safety & PHI"})]}),f==="board"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-slide-up",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em] px-2",children:"Planned Interventions"}),s.jsx("div",{className:"space-y-4",children:t?.tasks.map(y=>s.jsxs("div",{className:`bg-white p-8 rounded-[40px] border border-slate-200 shadow-sm group hover:border-emerald-300 transition-all ${y.status==="completed"?"opacity-50 grayscale":""}`,children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-6",children:[s.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center border-2 ${g(y.category)}`,children:s.jsx("i",{"data-lucide":y.category==="Biological"?"bug":y.category==="Mechanical"?"cog":"leaf",className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-black text-slate-900 tracking-tight",children:y.title}),s.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[s.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2 py-0.5 rounded-full border ${g(y.category)}`,children:y.category}),s.jsxs("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:["Target: ",y.pestTarget]})]})]})]}),s.jsx("button",{className:`w-10 h-10 rounded-xl border-2 flex items-center justify-center transition-all ${y.status==="completed"?"bg-emerald-500 border-emerald-500 text-white":"border-slate-200 text-transparent hover:border-emerald-600"}`,children:s.jsx("i",{"data-lucide":"check",className:"w-5 h-5"})})]}),s.jsx("p",{className:"mt-6 text-sm text-slate-500 font-medium leading-relaxed",children:y.description})]},y.id))})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-slate-900 p-8 rounded-[40px] text-white space-y-6",children:[s.jsx("h3",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-[0.3em]",children:"Knowledge Spotlight"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/10",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("i",{"data-lucide":"shield",className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-xs font-bold",children:"Biological Resistance"})]}),s.jsx("p",{className:"text-[11px] text-slate-400 leading-relaxed",children:"Rotate chemical IRAC groups every 2 applications to prevent Nashik-native Thrips from developing resistance."})]}),s.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/10",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("i",{"data-lucide":"info",className:"w-4 h-4 text-amber-400"}),s.jsx("span",{className:"text-xs font-bold",children:"Weather Thresholds"})]}),s.jsx("p",{className:"text-[11px] text-slate-400 leading-relaxed",children:"Avoid spraying if wind speed > 15km/h to prevent spray drift into neighboring plots."})]})]})]}),s.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 p-8 rounded-[40px] space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("i",{"data-lucide":"users",className:"w-5 h-5 text-emerald-600"}),s.jsx("h3",{className:"font-black text-emerald-900 tracking-tight",children:"Labor Assignment"})]}),s.jsx("div",{className:"space-y-3",children:["Sanjay Patil","Vinod Deshmukh"].map((y,N)=>s.jsxs("div",{className:"flex justify-between items-center bg-white p-3 rounded-xl border border-emerald-200",children:[s.jsx("span",{className:"text-xs font-bold text-slate-700",children:y}),s.jsx("span",{className:"text-[9px] font-black text-emerald-600 uppercase",children:"Certified"})]},N))}),s.jsx("button",{className:"w-full py-4 bg-emerald-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-emerald-700 transition-all",children:"Assign Task"})]})]})]}),f==="registry"&&s.jsxs("div",{className:"space-y-8 animate-slide-up",children:[s.jsxs("div",{className:"flex justify-between items-center px-4",children:[s.jsx("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em]",children:"Historical Spray Records"}),s.jsx("button",{className:"px-8 py-3 bg-rose-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-rose-100 hover:bg-rose-700 transition-all active:scale-95",children:"Log New Application"})]}),s.jsx("div",{className:"bg-white rounded-[48px] border border-slate-200 shadow-sm overflow-hidden overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[s.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date / Operator"}),s.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Product / Active"}),s.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Dosage / Target"}),s.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"PHI / REI"}),s.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Effectiveness"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-50",children:t?.logs.map(y=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[s.jsxs("td",{className:"px-8 py-6",children:[s.jsx("div",{className:"text-sm font-black text-slate-900",children:y.date}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold",children:y.operatorName})]}),s.jsxs("td",{className:"px-8 py-6",children:[s.jsx("div",{className:"text-sm font-black text-rose-600",children:y.productName}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold",children:y.activeIngredient})]}),s.jsxs("td",{className:"px-8 py-6",children:[s.jsx("div",{className:"text-sm font-black text-slate-900",children:y.dosage}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold",children:y.targetPest})]}),s.jsx("td",{className:"px-8 py-6",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-center px-2 py-1 bg-amber-50 rounded-lg border border-amber-100",children:[s.jsxs("div",{className:"text-xs font-black text-amber-700",children:[y.phiDays,"d"]}),s.jsx("div",{className:"text-[8px] font-bold text-amber-600 uppercase",children:"PHI"})]}),s.jsxs("div",{className:"text-center px-2 py-1 bg-blue-50 rounded-lg border border-blue-100",children:[s.jsxs("div",{className:"text-xs font-black text-blue-700",children:[y.reiHours,"h"]}),s.jsx("div",{className:"text-[8px] font-bold text-blue-600 uppercase",children:"REI"})]})]})}),s.jsx("td",{className:"px-8 py-6",children:s.jsx("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-700 text-[10px] font-black uppercase rounded-full border border-emerald-100",children:y.effectiveness})})]},y.id))})]})})]}),f==="safety"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-slide-up",children:[s.jsxs("div",{className:"bg-slate-950 p-12 rounded-[56px] text-white relative overflow-hidden shadow-2xl",children:[s.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-rose-500/10 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative z-10 space-y-10",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-2xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"shield-alert",className:"w-8 h-8 text-rose-400"})}),s.jsx("h2",{className:"text-3xl font-black tracking-tight",children:"Active PHI Quarantine"})]}),s.jsx("p",{className:"text-slate-400 leading-relaxed font-medium text-lg",children:"We detected 1 active Pre-Harvest Interval (PHI) restriction for Plot East-B. Harvesting before May 17 may result in residue non-compliance for export standards."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-6 bg-white/5 rounded-3xl border border-white/10 text-center",children:[s.jsx("div",{className:"text-[10px] font-black uppercase opacity-40 mb-2",children:"Days Remaining"}),s.jsx("div",{className:"text-4xl font-black text-rose-400",children:"04"})]}),s.jsxs("div",{className:"p-6 bg-white/5 rounded-3xl border border-white/10 text-center",children:[s.jsx("div",{className:"text-[10px] font-black uppercase opacity-40 mb-2",children:"Safe Date"}),s.jsx("div",{className:"text-2xl font-black text-emerald-400",children:"May 17"})]})]}),s.jsx("button",{className:"w-full py-5 bg-white text-slate-950 rounded-3xl font-black text-sm uppercase tracking-widest hover:bg-slate-100 transition-all",children:"Generate Residue Report"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-10 rounded-[48px] border border-slate-200 shadow-sm space-y-8",children:[s.jsxs("h3",{className:"text-xl font-black text-slate-950 tracking-tight flex items-center",children:[s.jsx("i",{"data-lucide":"hard-hat",className:"w-6 h-6 mr-4 text-slate-400"}),"Mandatory PPE Checklist"]}),s.jsx("div",{className:"space-y-4",children:[{item:"Chemical Resistant Gloves (Nitrile)",icon:"hand"},{item:"Full Face Shield / Goggles",icon:"eye"},{item:"Respirator with P95 Filter",icon:"wind"},{item:"Waterproof Coveralls",icon:"shirt"}].map((y,N)=>s.jsxs("div",{className:"flex items-center space-x-6 p-4 bg-slate-50 rounded-2xl group cursor-pointer hover:bg-slate-100 transition-all",children:[s.jsx("div",{className:"w-5 h-5 rounded border-2 border-slate-200 group-hover:border-emerald-500 bg-white"}),s.jsx("span",{className:"text-sm font-bold text-slate-700",children:y.item})]},N))}),s.jsx("div",{className:"pt-4 border-t border-slate-50",children:s.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase leading-relaxed italic",children:"*PPE recommendations based on Abamectin SDS (Safety Data Sheet). Ensure triple rinsing of containers after use."})})]}),s.jsxs("div",{className:"p-8 bg-amber-50 rounded-[40px] border border-amber-100 flex items-start space-x-6",children:[s.jsx("div",{className:"w-12 h-12 bg-amber-100 text-amber-700 rounded-2xl flex items-center justify-center shrink-0",children:s.jsx("i",{"data-lucide":"flame",className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-black text-amber-900 uppercase tracking-tight",children:"Chemical Storage Note"}),s.jsx("p",{className:"text-xs text-amber-800/70 mt-1 leading-relaxed font-medium",children:"Keep pesticides in original containers, locked in a ventilated room away from seeds and cattle feed."})]})]})]})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-slide-up { animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slide-up { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
      `})]})},Kie=()=>{const[t,e]=R.useState("daily"),[n,r]=R.useState("Onion"),[i,a]=R.useState("Lasalgaon"),[o,c]=R.useState([]),[f,d]=R.useState([]),[p,h]=R.useState([]),[g,y]=R.useState(!0),[N,S]=R.useState({price:"",variety:"Regular"});R.useEffect(()=>{w()},[n,i,t]),R.useEffect(()=>{const A=window;A.lucide&&A.lucide.createIcons()},[g,o,f,t]);const w=async()=>{if(y(!0),t==="daily"){const A=await Kn.getMandiRates(i,n);A.success&&c(A.data||[])}else if(t==="live"){const A=await Kn.getLiveAuctions(i);A.success&&d(A.data||[])}else if(t==="trends"){const A=await Kn.getHistoricalPrices(n);A.success&&h(A.data||[])}y(!1)},j=async A=>{A.preventDefault();const E={userId:"u123",mandiName:i,commodity:n,price:parseFloat(N.price),variety:N.variety,timestamp:new Date().toISOString()};await Kn.reportPrice(E),alert("Report submitted for validation. Thank you!"),S({price:"",variety:"Regular"})},T=["Lasalgaon","Pimpalgaon","Nashik","Niphad","Yeola","Dindori"],C=["Onion","Grape","Tomato","Wheat","Maize"];return s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-24 animate-fade-in",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Market Intelligence Hub"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Aggregated Mandi rates from Agmarknet & eNAM"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Crop"}),s.jsx("select",{value:n,onChange:A=>r(A.target.value),className:"block w-40 px-4 py-2 bg-white border border-slate-200 rounded-[15px] text-xs font-bold shadow-sm focus:ring-2 focus:ring-emerald-500 outline-none",children:C.map(A=>s.jsx("option",{children:A},A))})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mandi"}),s.jsx("select",{value:i,onChange:A=>a(A.target.value),className:"block w-40 px-4 py-2 bg-white border border-slate-200 rounded-[15px] text-xs font-bold shadow-sm focus:ring-2 focus:ring-emerald-500 outline-none",children:T.map(A=>s.jsx("option",{children:A},A))})]})]})]}),s.jsx("div",{className:"flex bg-slate-100 p-1 rounded-[15px] border border-slate-200 w-fit overflow-x-auto no-scrollbar",children:[{id:"daily",label:"Daily Rates",icon:"list"},{id:"live",label:"eNAM Auction",icon:"zap"},{id:"trends",label:"Price Trends",icon:"trending-up"},{id:"report",label:"Report Price",icon:"plus-circle"}].map(A=>s.jsxs("button",{onClick:()=>e(A.id),className:`flex items-center space-x-2 shrink-0 px-6 py-2.5 rounded-[15px] text-xs font-bold transition-all ${t===A.id?"bg-white text-emerald-700 shadow-sm":"text-slate-500 hover:text-emerald-600"}`,children:[s.jsx("i",{"data-lucide":A.icon,className:"w-4 h-4"}),s.jsx("span",{children:A.label})]},A.id))}),g?s.jsxs("div",{className:"flex flex-col items-center justify-center py-40 bg-white rounded-[15px] border border-slate-100",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mb-4"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Fetching regional pricing data..."})]}):s.jsxs("div",{className:"animate-slide-up",children:[t==="daily"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(A=>s.jsxs("div",{className:"bg-white p-8 rounded-[15px] border border-slate-200 shadow-sm space-y-6 relative overflow-hidden group hover:border-emerald-300 transition-all",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:A.variety}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest px-2 py-0.5 bg-slate-100 rounded-[15px] text-slate-500",children:["Grade ",A.grade]}),s.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:A.source})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-3xl font-black text-emerald-600",children:["",A.modalPrice]}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Modal Price"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 border-t border-slate-50 pt-6",children:[s.jsxs("div",{className:"p-3 bg-slate-50 rounded-[15px]",children:[s.jsx("div",{className:"text-[9px] text-slate-400 font-black uppercase mb-1",children:"Min Price"}),s.jsxs("div",{className:"text-sm font-bold text-slate-700",children:["",A.minPrice]})]}),s.jsxs("div",{className:"p-3 bg-slate-50 rounded-[15px]",children:[s.jsx("div",{className:"text-[9px] text-slate-400 font-black uppercase mb-1",children:"Max Price"}),s.jsxs("div",{className:"text-sm font-bold text-slate-700",children:["",A.maxPrice]})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-[10px] font-bold text-slate-400",children:[s.jsxs("span",{children:["Arrival: ",A.arrivalQuantity," ",A.unit,"s"]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx("i",{"data-lucide":"clock",className:"w-3 h-3 mr-1"})," Updated 2h ago"]})]})]},A.id))}),t==="live"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between px-2",children:[s.jsx("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em]",children:"eNAM Real-time Auctions"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),s.jsx("span",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest",children:"Live Auction Feed"})]})]}),s.jsx("div",{className:"bg-white rounded-[15px] border border-slate-200 shadow-sm overflow-hidden overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[s.jsx("th",{className:"px-10 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Lot ID / Item"}),s.jsx("th",{className:"px-10 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Current Bid"}),s.jsx("th",{className:"px-10 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Bidder Interest"}),s.jsx("th",{className:"px-10 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ends In"}),s.jsx("th",{className:"px-10 py-6"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-50",children:f.map(A=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsxs("td",{className:"px-10 py-8",children:[s.jsx("div",{className:"text-sm font-black text-slate-900",children:A.lotNumber}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase",children:A.commodity})]}),s.jsxs("td",{className:"px-10 py-8",children:[s.jsxs("div",{className:"text-lg font-black text-emerald-600",children:["",A.currentBid]}),s.jsx("div",{className:"text-[9px] text-emerald-400 font-bold uppercase",children:"Per Quintal"})]}),s.jsx("td",{className:"px-10 py-8",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex -space-x-2",children:[Array.from({length:3}).map((E,P)=>s.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-slate-200"},P)),s.jsxs("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-emerald-50 text-[10px] font-bold text-emerald-600 flex items-center justify-center",children:["+",A.biddersCount-3]})]}),s.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tight",children:"Active Bidders"})]})}),s.jsxs("td",{className:"px-10 py-8",children:[s.jsx("div",{className:"text-sm font-black text-slate-900",children:A.endTime}),s.jsx("div",{className:"text-[9px] text-slate-400 font-bold uppercase",children:"Auction Close"})]}),s.jsx("td",{className:"px-10 py-8 text-right",children:s.jsx("button",{className:"px-6 py-2.5 bg-slate-950 text-white rounded-[15px] font-black text-xs uppercase tracking-widest hover:bg-emerald-600 transition-all shadow-lg active:scale-95",children:"Watch Bid"})})]},A.id))})]})})]}),t==="trends"&&s.jsx("div",{className:"space-y-8",children:s.jsxs("div",{className:"bg-white p-12 rounded-[15px] border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-start mb-12",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Regional Price Volatility"}),s.jsxs("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-[0.2em] mt-1",children:["30-Day Modal Rate Trend: ",n]})]}),s.jsxs("div",{className:"p-4 bg-emerald-50 rounded-[15px] border border-emerald-100 text-center",children:[s.jsx("div",{className:"text-[10px] font-black text-emerald-800 uppercase",children:"Trend Index"}),s.jsx("div",{className:"text-xl font-black text-emerald-600",children:"+12.4%"})]})]}),s.jsx("div",{className:"h-80",children:s.jsx(Dt,{width:"100%",height:"100%",children:s.jsxs(Gc,{data:p,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorPrice",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.15}),s.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),s.jsx(gn,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),s.jsx(Lt,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:"bold"}}),s.jsx($t,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10},unit:""}),s.jsx(mt,{contentStyle:{borderRadius:"15px",border:"none",boxShadow:"0 25px 50px -12px rgb(0 0 0 / 0.1)"}}),s.jsx(Xt,{type:"monotone",dataKey:"modalPrice",stroke:"#10b981",strokeWidth:4,fillOpacity:1,fill:"url(#colorPrice)"})]})})})]})}),t==="report"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"w-20 h-20 bg-emerald-50 text-emerald-600 rounded-[15px] flex items-center justify-center",children:s.jsx("i",{"data-lucide":"mic",className:"w-10 h-10"})}),s.jsxs("h2",{className:"text-5xl font-black text-slate-900 tracking-tighter leading-none",children:["Voice-First ",s.jsx("br",{})," Mandi Reports"]}),s.jsx("p",{className:"text-xl text-slate-500 font-medium leading-relaxed",children:"Report your actual sale price to help verify official data. Verified contributors get priority access to advanced harvest timing models."}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-[15px] shadow-sm",children:[s.jsx("div",{className:"text-2xl font-black text-slate-900",children:"450+"}),s.jsx("div",{className:"text-[10px] text-slate-400 font-black uppercase",children:"Reports Today"})]}),s.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-[15px] shadow-sm",children:[s.jsx("div",{className:"text-2xl font-black text-emerald-600",children:"Top 5%"}),s.jsx("div",{className:"text-[10px] text-slate-400 font-black uppercase",children:"Contributor Rank"})]})]})]}),s.jsxs("form",{onSubmit:j,className:"bg-white p-12 rounded-[15px] border border-slate-200 shadow-2xl space-y-8",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Sale Rate ( per Quintal)"}),s.jsx("input",{required:!0,type:"number",value:N.price,onChange:A=>S({...N,price:A.target.value}),className:"w-full p-5 bg-slate-50 border border-slate-100 rounded-[15px] font-black text-xl text-slate-900 focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"e.g. 2400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Crop Variety"}),s.jsxs("select",{value:N.variety,onChange:A=>S({...N,variety:A.target.value}),className:"w-full p-5 bg-slate-50 border border-slate-100 rounded-[15px] font-bold text-slate-700 outline-none focus:ring-2 focus:ring-emerald-500",children:[s.jsx("option",{children:"Regular Hybrid"}),s.jsx("option",{children:"Export Quality (AAA)"}),s.jsx("option",{children:"Small Size (Golta)"}),s.jsx("option",{children:"Double Patti"})]})]}),s.jsxs("button",{type:"submit",className:"w-full py-6 bg-slate-950 text-white rounded-[15px] font-black text-lg hover:bg-emerald-600 transition-all shadow-xl active:scale-95 flex items-center justify-center space-x-3",children:[s.jsx("i",{"data-lucide":"check-circle",className:"w-6 h-6"}),s.jsx("span",{children:"Verify & Submit"})]})]})]})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-slide-up { animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slide-up { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      `})]})},xs={getTodaysMarkets:async t=>{const n=[{id:"1",name:"Lasalgaon APMC",dist:35,base:2450},{id:"2",name:"Pimpalgaon APMC",dist:42,base:2520},{id:"3",name:"Nashik Mandi",dist:12,base:2380},{id:"4",name:"Yeola Mandi",dist:85,base:2600},{id:"5",name:"Niphad Mandi",dist:50,base:2410},{id:"6",name:"Kalwan Mandi",dist:65,base:2480},{id:"7",name:"Vashi (Mumbai)",dist:180,base:3100},{id:"8",name:"Pune Gultekdi",dist:210,base:2950},{id:"9",name:"Surat Mandi",dist:240,base:3050},{id:"10",name:"Dindori Mandi",dist:28,base:2430}].map(r=>{const i=Math.random()*8-3;return{mandiId:r.id,mandiName:r.name,commodity:t,currentPrice:Math.round(r.base+Math.random()*50),changePercent:parseFloat(i.toFixed(1)),distanceKm:r.dist,isBestPrice:r.id==="7",arrivalVolume:`${Math.floor(Math.random()*5e3+1e3)} Quintals`}});return he.wrapSuccess(n)},getMarketNews:async()=>{const t=[{id:"n1",title:"MEP for Onion Exports Removed",source:"Directorate General of Foreign Trade",timestamp:new Date().toISOString(),category:"policy",impactScore:5,summary:"The government has removed the Minimum Export Price on onions, likely boosting demand in Nashik markets."},{id:"n2",title:"UAE Export Demand Surges for Thompson Grapes",source:"APEDA Pulse",timestamp:new Date().toISOString(),category:"export",impactScore:4,summary:"Major retail chains in Dubai increase orders for high-brix Nashik grapes."},{id:"n3",title:"NAFED to Start Buffer Stock Procurement",source:"AgriNews India",timestamp:new Date().toISOString(),category:"policy",impactScore:4,summary:"Government agencies to procure 5 lakh tons of rabi onion to stabilize domestic prices."}];return he.wrapSuccess(t)},getSellRecommendation:async(t,e)=>{const n={action:"Wait 3-5 Days",reasoning:"Removal of export curbs and upcoming Holi festival demand are projected to drive prices up by 8-12%. Supply arrivals in Lasalgaon are dipping due to unseasonal rain in neighboring talukas.",riskLevel:"Medium",projectedPriceChange:10.5,expectedProfit:e*250};return he.wrapSuccess(n)},getMySalesHistory:async t=>{const e=[{id:"s1",date:"2024-03-12",commodity:"Onion",mandiName:"Lasalgaon",quantity:45,unit:"Quintal",pricePerUnit:2350,totalRealization:105750},{id:"s2",date:"2024-01-20",commodity:"Grape",mandiName:"Pimpalgaon",quantity:1200,unit:"Kg",pricePerUnit:68,totalRealization:81600}];return he.wrapSuccess(e)},getAlerts:async t=>{const e=[{id:"al-1",cropType:"Onion",thresholdPrice:3e3,condition:"ABOVE",isActive:!0,createdAt:new Date().toISOString()},{id:"al-2",cropType:"Grape",thresholdPrice:80,condition:"ABOVE",isActive:!1,createdAt:new Date().toISOString()}];return he.wrapSuccess(e)},saveAlert:async t=>he.wrapSuccess({...t,id:Math.random().toString(36).substr(2,9),createdAt:new Date().toISOString()}),getMarketDetails:async t=>he.wrapSuccess({id:t,name:"Lasalgaon APMC",address:"Main Market Yard, Lasalgaon, Nashik, MH 422306",contact:"+91 2550 266 035",hours:"08:00 AM - 06:00 PM (Monday - Saturday)",lat:20.125,lng:74.225,rating:4.8,reviewsCount:1250,photos:["https://images.unsplash.com/photo-1596373809653-e5786a51d8b9?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1589923188900-85dae523342b?auto=format&fit=crop&q=80&w=800"]})},Yie=()=>{const[t,e]=R.useState("markets"),[n,r]=R.useState("Onion"),[i,a]=R.useState([]),[o,c]=R.useState([]),[f,d]=R.useState(null),[p,h]=R.useState([]),[g,y]=R.useState([]),[N,S]=R.useState([]),[w,j]=R.useState(!0),[T,C]=R.useState(""),[A,E]=R.useState(null),[P,O]=R.useState(null),[M,D]=R.useState(!1),[G,B]=R.useState(!1);R.useEffect(()=>{F()},[n]),R.useEffect(()=>{const z=window;z.lucide&&z.lucide.createIcons()},[w,t,i,o,f,p,M,G]);const F=async()=>{j(!0);const[z,W,ee,ne,U,Y]=await Promise.all([xs.getTodaysMarkets(n),xs.getMarketNews(),xs.getSellRecommendation(n,50),xs.getMySalesHistory("u123"),Kn.getHistoricalPrices(n),xs.getAlerts("u123")]);z.success&&a(z.data||[]),W.success&&c(W.data||[]),ee.success&&d(ee.data||null),ne.success&&h(ne.data||[]),U.success&&y(U.data||[]),Y.success&&S(Y.data||[]),j(!1)},K=R.useMemo(()=>{let z=[...i].filter(W=>W.mandiName.toLowerCase().includes(T.toLowerCase()));return A&&z.sort((W,ee)=>W[A.key]<ee[A.key]?A.direction==="asc"?-1:1:W[A.key]>ee[A.key]?A.direction==="asc"?1:-1:0),z},[i,T,A]),J=z=>{let W="asc";A&&A.key===z&&A.direction==="asc"&&(W="desc"),E({key:z,direction:W})},Z=()=>{const z=`data:text/csv;charset=utf-8,Market,Price,Change%,Distance,Volume
`+i.map(ee=>`${ee.mandiName},${ee.currentPrice},${ee.changePercent}%,${ee.distanceKm}km,${ee.arrivalVolume}`).join(`
`),W=encodeURI(z);window.open(W)},H=async z=>{const W=await xs.getMarketDetails(z);W.success&&(O(W.data),D(!0))};return w?s.jsxs("div",{className:"flex flex-col items-center justify-center py-40",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mb-6"}),s.jsx("p",{className:"text-slate-500 font-black uppercase tracking-widest text-xs animate-pulse",children:"Computing Market Probabilities..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-24 animate-fade-in",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:"Market Intelligence"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Real-time commodity data for precision selling"})]}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("select",{value:n,onChange:z=>r(z.target.value),className:"px-6 py-3 bg-white border border-slate-200 rounded-[15px] text-xs font-black uppercase tracking-widest shadow-sm outline-none focus:ring-2 focus:ring-emerald-500",children:[s.jsx("option",{children:"Onion"}),s.jsx("option",{children:"Grape"}),s.jsx("option",{children:"Tomato"})]}),s.jsx("div",{className:"flex bg-slate-100 p-1 rounded-[15px] border border-slate-200 overflow-x-auto no-scrollbar",children:["markets","advisor","alerts","records"].map(z=>s.jsx("button",{onClick:()=>e(z),className:`px-6 py-2 rounded-[15px] text-[10px] font-black uppercase whitespace-nowrap transition-all ${t===z?"bg-white text-emerald-700 shadow-sm":"text-slate-400 hover:text-emerald-600"}`,children:z.replace("_"," ")},z))})]})]}),t==="markets"&&f&&s.jsxs("div",{className:"bg-emerald-600 rounded-[15px] p-10 text-white relative overflow-hidden shadow-2xl animate-slide-up group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-white/10 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/2 group-hover:scale-110 transition-transform duration-1000"}),s.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center gap-10",children:[s.jsxs("div",{className:"shrink-0 flex flex-col items-center",children:[s.jsx("div",{className:"w-24 h-24 bg-white/20 backdrop-blur-md rounded-[15px] flex items-center justify-center mb-4 border border-white/20",children:s.jsx("i",{"data-lucide":"trending-up",className:"w-12 h-12 text-white"})}),s.jsx("div",{className:"px-4 py-1 bg-white/20 rounded-full text-[10px] font-black uppercase tracking-widest",children:"Confidence: 92%"})]}),s.jsxs("div",{className:"flex-1 space-y-4 text-center md:text-left",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-baseline gap-4",children:[s.jsxs("h2",{className:"text-4xl font-black tracking-tighter leading-none",children:["Recommendation: ",f.action]}),s.jsx("span",{className:"px-3 py-1 bg-emerald-500 text-white rounded-[15px] text-[10px] font-black uppercase tracking-widest border border-white/20",children:"Market Insight"})]}),s.jsxs("p",{className:"text-emerald-50 font-medium leading-relaxed max-w-3xl italic",children:['"',f.reasoning,'"']}),s.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-4 pt-4",children:[s.jsxs("div",{className:"p-4 bg-white/10 rounded-[15px] border border-white/10",children:[s.jsx("div",{className:"text-[10px] font-black uppercase opacity-60 mb-1",children:"Expected Upside"}),s.jsxs("div",{className:"text-2xl font-black text-emerald-300",children:["+",f.projectedPriceChange,"%"]})]}),s.jsxs("div",{className:"p-4 bg-white/10 rounded-[15px] border border-white/10",children:[s.jsx("div",{className:"text-[10px] font-black uppercase opacity-60 mb-1",children:"Risk Level"}),s.jsx("div",{className:"text-2xl font-black text-white",children:f.riskLevel})]})]})]}),s.jsx("button",{className:"px-10 py-5 bg-white text-emerald-700 rounded-[15px] font-black text-lg hover:scale-105 active:scale-95 transition-all shadow-xl",children:"Schedule Sale"})]})]}),t==="markets"&&s.jsx("div",{className:"space-y-8 animate-slide-up",children:s.jsxs("div",{className:"bg-white p-10 rounded-[15px] border border-slate-200 shadow-sm space-y-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[s.jsxs("div",{className:"relative w-full md:w-96",children:[s.jsx("i",{"data-lucide":"search",className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),s.jsx("input",{type:"text",placeholder:"Search Mandis...",value:T,onChange:z=>C(z.target.value),className:"w-full bg-slate-50 border border-slate-100 rounded-[15px] py-3 pl-12 pr-4 text-sm font-bold focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),s.jsx("div",{className:"flex gap-4",children:s.jsxs("button",{onClick:Z,className:"px-6 py-3 bg-slate-900 text-white rounded-[15px] font-black text-[10px] uppercase tracking-widest hover:bg-emerald-600 transition-all flex items-center gap-2",children:[s.jsx("i",{"data-lucide":"download",className:"w-4 h-4"}),s.jsx("span",{children:"Export List"})]})})]}),s.jsx("div",{className:"hidden lg:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[s.jsxs("th",{className:"px-6 py-4 cursor-pointer hover:text-emerald-600 transition-colors",onClick:()=>J("mandiName"),children:["Mandi Name ",A?.key==="mandiName"&&(A.direction==="asc"?"":"")]}),s.jsxs("th",{className:"px-6 py-4 cursor-pointer hover:text-emerald-600 transition-colors",onClick:()=>J("currentPrice"),children:["Current Price ",A?.key==="currentPrice"&&(A.direction==="asc"?"":"")]}),s.jsxs("th",{className:"px-6 py-4 cursor-pointer hover:text-emerald-600 transition-colors",onClick:()=>J("changePercent"),children:["24h Change ",A?.key==="changePercent"&&(A.direction==="asc"?"":"")]}),s.jsxs("th",{className:"px-6 py-4 cursor-pointer hover:text-emerald-600 transition-colors",onClick:()=>J("distanceKm"),children:["Distance ",A?.key==="distanceKm"&&(A.direction==="asc"?"":"")]}),s.jsx("th",{className:"px-6 py-4",children:"Status"}),s.jsx("th",{className:"px-6 py-4"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-50",children:K.map(z=>s.jsxs("tr",{className:"group hover:bg-emerald-50/30 transition-colors",children:[s.jsxs("td",{className:"px-6 py-6",children:[s.jsx("div",{className:"font-black text-slate-900",children:z.mandiName}),s.jsxs("div",{className:"text-[10px] font-bold text-slate-400",children:[z.commodity," Hub"]})]}),s.jsxs("td",{className:"px-6 py-6",children:[s.jsxs("div",{className:"text-lg font-black text-slate-900",children:["",z.currentPrice]}),s.jsx("div",{className:"text-[9px] text-slate-400 font-bold uppercase",children:"Per Quintal"})]}),s.jsx("td",{className:"px-6 py-6",children:s.jsxs("div",{className:`flex items-center text-sm font-black ${z.changePercent>=0?"text-emerald-600":"text-rose-600"}`,children:[s.jsx("i",{"data-lucide":z.changePercent>=0?"trending-up":"trending-down",className:"w-4 h-4 mr-2"}),z.changePercent,"%"]})}),s.jsxs("td",{className:"px-6 py-6",children:[s.jsxs("div",{className:"text-sm font-bold text-slate-600",children:[z.distanceKm," KM"]}),s.jsx("div",{className:"text-[9px] text-slate-400 uppercase",children:"Est. Transport 120"})]}),s.jsx("td",{className:"px-6 py-6",children:z.isBestPrice&&s.jsx("span",{className:"px-2 py-0.5 bg-emerald-100 text-emerald-700 text-[8px] font-black uppercase rounded-[15px] shadow-sm",children:"Best Net Rate"})}),s.jsx("td",{className:"px-6 py-6 text-right",children:s.jsx("button",{onClick:()=>H(z.mandiId),className:"p-3 bg-slate-50 text-slate-400 group-hover:bg-emerald-600 group-hover:text-white rounded-[15px] transition-all",children:s.jsx("i",{"data-lucide":"eye",className:"w-5 h-5"})})})]},z.mandiId))})]})}),s.jsx("div",{className:"lg:hidden space-y-4",children:K.map(z=>s.jsxs("div",{className:"p-6 bg-slate-50 rounded-[15px] border border-slate-100 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-black text-slate-900",children:z.mandiName}),s.jsxs("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:[z.distanceKm," KM Away"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-xl font-black text-slate-900",children:["",z.currentPrice]}),s.jsxs("div",{className:`text-[10px] font-black ${z.changePercent>=0?"text-emerald-600":"text-rose-600"}`,children:[z.changePercent,"% 24h"]})]})]}),s.jsx("button",{onClick:()=>H(z.mandiId),className:"w-full py-3 bg-white border border-slate-200 text-slate-400 font-black text-[10px] uppercase tracking-widest rounded-[15px]",children:"View Details"})]},z.mandiId))})]})}),t==="advisor"&&s.jsx("div",{className:"space-y-8 animate-slide-up",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white p-12 rounded-[15px] border border-slate-200 shadow-sm space-y-10",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Price Forecasting Tool"}),s.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-[0.2em] mt-1",children:"Multi-modal AI Simulation"})]}),s.jsx("div",{className:"h-80",children:s.jsx(Dt,{width:"100%",height:"100%",children:s.jsxs(Gc,{data:g,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"trendGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#2563eb",stopOpacity:.1}),s.jsx("stop",{offset:"95%",stopColor:"#2563eb",stopOpacity:0})]})}),s.jsx(gn,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),s.jsx(Lt,{dataKey:"date",hide:!0}),s.jsx($t,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10},unit:""}),s.jsx(mt,{contentStyle:{borderRadius:"15px",border:"none"}}),s.jsx(Xt,{type:"monotone",name:"Historical",dataKey:"modalPrice",stroke:"#2563eb",strokeWidth:4,fill:"url(#trendGradient)"})]})})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-slate-50 rounded-[15px] border border-slate-100",children:[s.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase mb-1",children:"Min. Target"}),s.jsx("div",{className:"text-xl font-black text-slate-900",children:"2,100"})]}),s.jsxs("div",{className:"p-4 bg-emerald-50 rounded-[15px] border border-emerald-100",children:[s.jsx("div",{className:"text-[9px] font-black text-emerald-600 uppercase mb-1",children:"Current"}),s.jsx("div",{className:"text-xl font-black text-emerald-700",children:"2,450"})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-[15px] border border-slate-100",children:[s.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase mb-1",children:"Max. Target"}),s.jsx("div",{className:"text-xl font-black text-slate-900",children:"2,900"})]})]})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-slate-950 p-10 rounded-[15px] text-white shadow-2xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute bottom-0 right-0 w-48 h-48 bg-blue-500/10 rounded-full blur-3xl"}),s.jsx("h3",{className:"text-xl font-black tracking-tight mb-8",children:"Profit Projection Calculator"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Expected Harvest (Quintals)"}),s.jsx("input",{type:"number",defaultValue:"45",className:"w-full bg-white/5 border border-white/10 rounded-[15px] p-4 font-black text-2xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Target Price ()"}),s.jsx("input",{type:"number",defaultValue:"2800",className:"w-full bg-white/5 border border-white/10 rounded-[15px] p-4 font-black text-2xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),s.jsxs("div",{className:"pt-6 border-t border-white/5 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-black text-slate-500 uppercase",children:"Estimated Revenue"}),s.jsx("div",{className:"text-3xl font-black text-emerald-400",children:"1,26,000"})]}),s.jsx("button",{className:"p-4 bg-white/10 rounded-[15px] hover:bg-white/20 transition-all",children:s.jsx("i",{"data-lucide":"refresh-cw",className:"w-6 h-6"})})]})]})]}),s.jsxs("div",{className:"p-8 bg-blue-50 rounded-[15px] border border-blue-100 flex items-start space-x-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 text-blue-600 rounded-[15px] flex items-center justify-center shrink-0",children:s.jsx("i",{"data-lucide":"info",className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-black text-blue-900 uppercase tracking-tight",children:"Market Accuracy History"}),s.jsx("p",{className:"text-xs text-blue-800/70 mt-1 leading-relaxed font-medium",children:'In the last 6 months, our "Wait" recommendations for Onions resulted in an average of +340 higher realization per quintal.'})]})]})]})]})}),t==="alerts"&&s.jsxs("div",{className:"space-y-8 animate-slide-up",children:[s.jsxs("div",{className:"flex justify-between items-center px-4",children:[s.jsx("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em]",children:"Active Price Thresholds"}),s.jsxs("button",{onClick:()=>B(!0),className:"px-8 py-3 bg-emerald-600 text-white rounded-[15px] font-black text-xs uppercase tracking-widest hover:bg-emerald-700 transition-all shadow-xl shadow-emerald-100 active:scale-95 flex items-center gap-2",children:[s.jsx("i",{"data-lucide":"plus-circle",className:"w-4 h-4"}),s.jsx("span",{children:"Set New Alert"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(z=>s.jsxs("div",{className:`p-8 rounded-[15px] border bg-white shadow-sm transition-all group ${z.isActive?"hover:border-emerald-300":"opacity-50"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-slate-50 rounded-[15px] flex items-center justify-center text-slate-400",children:s.jsx("i",{"data-lucide":z.cropType==="Onion"?"sprout":"grape",className:"w-5 h-5"})}),s.jsx("h3",{className:"font-black text-slate-900",children:z.cropType})]}),s.jsx("button",{className:`w-12 h-6 rounded-full transition-all relative ${z.isActive?"bg-emerald-500":"bg-slate-200"}`,children:s.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${z.isActive?"left-7":"left-1"}`})})]}),s.jsxs("div",{className:"space-y-1 mb-8",children:[s.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Alert Condition"}),s.jsxs("div",{className:"text-xl font-black text-slate-900",children:["Notify if Price is ",z.condition," ",z.thresholdPrice]})]}),s.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold text-slate-400 border-t border-slate-50 pt-6",children:[s.jsxs("span",{children:["Created ",new Date(z.createdAt).toLocaleDateString()]}),s.jsx("button",{className:"text-rose-500 hover:text-rose-700",children:"Delete Alert"})]})]},z.id))})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-slide-up { animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-scale-up { animation: scale-up 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slide-up { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes scale-up { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
      `})]})},Jie={getAdvisory:async(t,e)=>{const n=new Date().toISOString().split("T")[0],r=t.cropType==="Onion"?2400:t.cropType==="Grape"?7500:1800,i=t.farmSize*(t.cropType==="Grape"?8:15),a=t.cropType==="Grape"?[{name:"Brix Content",value:16.5,target:18,status:"pending",unit:"Bx"},{name:"Berry Size",value:18,target:18,status:"optimal",unit:"mm"},{name:"Acid Level",value:.8,target:.6,status:"pending",unit:"%"}]:t.cropType==="Onion"?[{name:"Neck Fall",value:"45%",target:"70%",status:"pending",unit:""},{name:"Bulb Size",value:65,target:60,status:"optimal",unit:"mm"},{name:"Skin Curing",value:"Light",target:"Medium",status:"pending",unit:""}]:[{name:"Color Stage",value:"Breaker",target:"Red Ripe",status:"pending",unit:""},{name:"Firmness",value:8.5,target:6,status:"optimal",unit:"kg/cm"}],o=[{date:n,label:"Harvest Now",estimatedPrice:r,estimatedWeight:i,storageCost:0,shrinkageLoss:0,grossReturn:i*r,netReturn:i*r,confidence:.98},{date:new Date(Date.now()+5*864e5).toISOString().split("T")[0],label:"Delay 5 Days",estimatedPrice:r*1.15,estimatedWeight:i*1.05,storageCost:i*250,shrinkageLoss:2,grossReturn:i*1.05*.98*(r*1.15),netReturn:i*1.05*.98*(r*1.15)-i*250,confidence:.82},{date:new Date(Date.now()+10*864e5).toISOString().split("T")[0],label:"Wait 10 Days",estimatedPrice:r*1.25,estimatedWeight:i*1.1,storageCost:i*500,shrinkageLoss:5,grossReturn:i*1.1*.95*(r*1.25),netReturn:i*1.1*.95*(r*1.25)-i*500,confidence:.65}],c={cropId:t.cropId,cropType:t.cropType,optimalWindow:{start:new Date(Date.now()+4*864e5).toISOString().split("T")[0],end:new Date(Date.now()+8*864e5).toISOString().split("T")[0]},harvestIndex:72,maturityMetrics:a,scenarios:o,weatherSuitability:e.rainfall>5?"Poor":"Excellent",weatherReason:e.rainfall>5?"Rain expected. High risk of bunch rot and soil compaction.":"Dry, cool window detected. Ideal for post-harvest shelf life.",laborChecklist:[{item:"Contact 12 picking crew members",completed:!0},{item:"Clean plastic crates (600 units)",completed:!1},{item:"Verify cold storage slot booking",completed:!1},{item:"Book 3-ton transport vehicle",completed:!1}],marketContext:"Upcoming Holi festival is driving demand in Northern mandis. Prices expected to peak within 7 days."};return he.wrapSuccess(c)}},Xie=()=>{const[t,e]=R.useState(null),[n,r]=R.useState([]),[i,a]=R.useState(null),[o,c]=R.useState(!0);R.useEffect(()=>{f()},[]),R.useEffect(()=>{i&&d()},[i]),R.useEffect(()=>{const p=window;p.lucide&&p.lucide.createIcons()},[o,t,i]);const f=async()=>{c(!0);const p=await tr.getByUser("u123");p.success&&p.data&&p.data.length>0&&(r(p.data),a(p.data[0])),c(!1)},d=async()=>{if(!i)return;c(!0);const p=await Da.getForLocation("Nashik");if(p.success){const h=await Jie.getAdvisory(i,p.data);h.success&&e(h.data||null)}c(!1)};return o&&!t?s.jsxs("div",{className:"flex flex-col items-center justify-center py-40",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mb-6"}),s.jsx("p",{className:"text-slate-500 font-black uppercase tracking-widest text-xs animate-pulse",children:"Running Harvest Yield Simulations..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-24 animate-fade-in",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-emerald-50 text-emerald-600 border border-emerald-100 text-[10px] font-black uppercase tracking-widest mb-4",children:[s.jsx("i",{"data-lucide":"clock",className:"w-3 h-3 mr-2"}),"Market-Aware Timing Engine"]}),s.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:"Harvest Timing Optimizer"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Balancing biological maturity with market peak demand"})]}),s.jsx("div",{className:"flex space-x-2",children:n.map(p=>s.jsx("button",{onClick:()=>a(p),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${i?.cropId===p.cropId?"bg-emerald-600 text-white shadow-lg":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:p.variety},p.cropId))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"bg-slate-950 p-10 rounded-[48px] text-white relative overflow-hidden shadow-2xl",children:[s.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-emerald-500/10 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative z-10 space-y-10",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-emerald-500",children:"Readiness Score"}),s.jsxs("div",{className:"text-6xl font-black mt-2 tracking-tighter",children:[t?.harvestIndex,"%"]})]}),s.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-2xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"gauge",className:"w-8 h-8 text-emerald-400"})})]}),s.jsx("div",{className:"space-y-6",children:t?.maturityMetrics.map((p,h)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-[11px] font-black uppercase tracking-tight",children:[s.jsx("span",{className:"text-slate-400",children:p.name}),s.jsxs("span",{className:p.status==="optimal"?"text-emerald-400":"text-amber-400",children:[p.value,p.unit," / ",p.target,p.unit]})]}),s.jsx("div",{className:"w-full bg-white/5 h-2 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${p.status==="optimal"?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${parseFloat(p.value.toString())/parseFloat(p.target.toString())*100}%`}})})]},h))}),s.jsxs("div",{className:"pt-8 border-t border-white/5",children:[s.jsxs("div",{className:"flex items-center space-x-3 text-emerald-400 mb-4",children:[s.jsx("i",{"data-lucide":"info",className:"w-4 h-4"}),s.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest",children:"Model Consensus"})]}),s.jsxs("p",{className:"text-sm text-slate-400 leading-relaxed font-medium italic",children:['"',t?.marketContext,'"']})]})]})]}),s.jsx("div",{className:"lg:col-span-2 space-y-8",children:s.jsxs("div",{className:"bg-white p-10 rounded-[48px] border border-slate-200 shadow-sm relative overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center mb-10",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Financial Scenarios"}),s.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-[0.2em] mt-1",children:"Projected Net Realization (After Losses & Storage)"})]}),s.jsx("div",{className:"flex bg-slate-50 p-1 rounded-2xl",children:["Table","Chart"].map(p=>s.jsx("button",{className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase ${p==="Chart"?"bg-white text-emerald-600 shadow-sm":"text-slate-400"}`,children:p},p))})]}),s.jsx("div",{className:"h-[300px]",children:s.jsx(Dt,{width:"100%",height:"100%",children:s.jsxs(Ba,{data:t?.scenarios,children:[s.jsx(gn,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),s.jsx(Lt,{dataKey:"label",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:"bold"}}),s.jsx($t,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10},unit:""}),s.jsx(mt,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"24px",border:"none",boxShadow:"0 25px 50px -12px rgb(0 0 0 / 0.1)"}}),s.jsx(sn,{name:"Net Return",dataKey:"netReturn",radius:[12,12,0,0],barSize:40,children:t?.scenarios.map((p,h)=>s.jsx(Mr,{fill:h===1?"#10b981":"#cbd5e1"},h))})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-10",children:t?.scenarios.map((p,h)=>s.jsxs("div",{className:`p-6 rounded-[32px] border transition-all ${h===1?"bg-emerald-50 border-emerald-200":"bg-slate-50 border-slate-100"}`,children:[s.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:p.label}),s.jsxs("div",{className:`text-xl font-black ${h===1?"text-emerald-700":"text-slate-900"}`,children:["",Math.round(p.netReturn).toLocaleString()]}),s.jsxs("div",{className:"mt-3 flex justify-between items-center text-[10px] font-bold text-slate-400",children:[s.jsxs("span",{children:["Price: ",p.estimatedPrice]}),s.jsxs("span",{children:["Loss: ",p.shrinkageLoss,"%"]})]})]},h))})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white p-10 rounded-[48px] border border-slate-200 shadow-sm space-y-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Weather Suitability"}),s.jsxs("div",{className:`px-4 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${t?.weatherSuitability==="Excellent"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:[t?.weatherSuitability," Window"]})]}),s.jsxs("div",{className:"flex items-start space-x-6",children:[s.jsx("div",{className:`w-16 h-16 rounded-[32px] flex items-center justify-center shrink-0 ${t?.weatherSuitability==="Excellent"?"bg-emerald-50 text-emerald-500":"bg-rose-50 text-rose-500"}`,children:s.jsx("i",{"data-lucide":t?.weatherSuitability==="Excellent"?"sun":"cloud-rain",className:"w-8 h-8"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-lg font-medium text-slate-600 leading-relaxed italic",children:['"',t?.weatherReason,'"']}),s.jsx("div",{className:"mt-6 flex gap-3 overflow-x-auto no-scrollbar pb-2",children:[1,2,3,4,5].map(p=>s.jsxs("div",{className:"flex-col min-w-[70px] bg-slate-50 p-3 rounded-2xl text-center",children:[s.jsxs("div",{className:"text-[9px] font-black text-slate-400 uppercase",children:["May ",14+p]}),s.jsx("i",{"data-lucide":"sun",className:"w-4 h-4 text-amber-400 mx-auto my-1"}),s.jsx("div",{className:"text-xs font-black text-slate-700",children:"32C"})]},p))})]})]})]}),s.jsxs("div",{className:"bg-white p-10 rounded-[48px] border border-slate-200 shadow-sm space-y-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Logistics Readiness"}),s.jsxs("div",{className:"text-xs font-bold text-slate-400",children:[t?.laborChecklist.filter(p=>p.completed).length,"/",t?.laborChecklist.length," Ready"]})]}),s.jsx("div",{className:"space-y-4",children:t?.laborChecklist.map((p,h)=>s.jsxs("div",{className:"flex items-center space-x-4 group cursor-pointer",children:[s.jsx("div",{className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all ${p.completed?"bg-emerald-500 border-emerald-500 text-white":"border-slate-200 text-transparent group-hover:border-emerald-300"}`,children:s.jsx("i",{"data-lucide":"check",className:"w-4 h-4"})}),s.jsx("span",{className:`text-sm font-bold transition-all ${p.completed?"text-slate-400 line-through":"text-slate-700 group-hover:text-emerald-600"}`,children:p.item})]},h))}),s.jsx("button",{className:"w-full py-4 bg-slate-950 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-emerald-600 transition-all shadow-xl active:scale-95",children:"Notify Logistic Partners"})]})]}),s.jsxs("div",{className:"bg-emerald-600 p-12 rounded-[56px] text-white relative overflow-hidden shadow-2xl shadow-emerald-200",children:[s.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-white/10 rounded-full blur-[120px] -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsxs("h3",{className:"text-4xl font-black tracking-tighter leading-none",children:["Execute Optimal ",s.jsx("br",{})," Harvest Strategy"]}),s.jsx("p",{className:"text-emerald-100 text-lg leading-relaxed font-medium",children:"Model suggests delay until May 18 for peak brix and a +15% price realization. Harvesting today may result in lower export quality grade."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("button",{className:"bg-white text-emerald-700 px-10 py-5 rounded-[32px] font-black text-lg hover:bg-emerald-50 transition-all shadow-xl active:scale-95",children:"Book Storage Space"}),s.jsx("button",{className:"bg-emerald-800 text-white border border-emerald-500/30 px-10 py-5 rounded-[32px] font-black text-lg hover:bg-emerald-900 transition-all shadow-xl active:scale-95",children:"Download Plan"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-8 bg-white/5 rounded-3xl border border-white/10 text-center",children:[s.jsx("div",{className:"text-[10px] font-black uppercase opacity-40 mb-2",children:"ROI Boost"}),s.jsx("div",{className:"text-4xl font-black text-emerald-400",children:"+1.2L"}),s.jsx("div",{className:"text-[9px] text-emerald-200 font-bold uppercase mt-2",children:"Projected vs Now"})]}),s.jsxs("div",{className:"p-8 bg-white/5 rounded-3xl border border-white/10 text-center",children:[s.jsx("div",{className:"text-[10px] font-black uppercase opacity-40 mb-2",children:"Shelf Life"}),s.jsx("div",{className:"text-4xl font-black text-white",children:"+3 Days"}),s.jsx("div",{className:"text-[9px] text-emerald-200 font-bold uppercase mt-2",children:"Extended Window"})]})]})]})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      `})]})};let xa=[{postId:"p1",userId:"u100",userName:"Farmer Ramesh",userAvatar:"https://images.unsplash.com/photo-1595304033282-3e28be636d14?auto=format&fit=crop&q=80&w=100",userReputation:1240,title:"Flowering Stage Nutrients for Tomato",content:"What organic fertilizer is best for tomatoes during the flowering stage? My plants look a bit yellow on the bottom leaves. I have tried using FYM but looking for something more rapid-acting.",snippet:"What organic fertilizer is best for tomatoes during the flowering stage? My plants look a bit yellow...",cropType:"Tomato",category:"Crop Management",location:{village:"Pimpalgaon",district:"Nashik"},tags:["tomato","organic","fertilizer"],upvotes:15,viewCount:240,replyCount:1,isExpertVerified:!0,isFlagged:!1,isBookmarked:!1,isFollowing:!0,createdAt:"2023-10-30T14:20:00Z",imageUrl:"https://images.unsplash.com/photo-1625246333195-78d9c38ad449?auto=format&fit=crop&q=80&w=800",imageGallery:["https://images.unsplash.com/photo-1625246333195-78d9c38ad449?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1595304033282-3e28be636d14?auto=format&fit=crop&q=80&w=800"],replies:[{replyId:"r1",postId:"p1",userId:"exp1",userName:"Dr. Sanjay Patil",userBadge:"Expert",content:"Yellowing of lower leaves usually indicates Nitrogen deficiency. Use a seaweed-based extract or well-decomposed FYM compost tea. You can also try Fish Amino Acids for faster uptake.",createdAt:"2023-10-31T10:00:00Z",upvotes:8,isExpertAnswer:!0,isHelpful:!0,replies:[{replyId:"r1-sub",postId:"p1",userId:"u100",userName:"Farmer Ramesh",content:"Thank you Doctor, will Fish Amino Acid affect the fruit taste?",createdAt:"2023-10-31T12:00:00Z",upvotes:2,isExpertAnswer:!1,isHelpful:!1}]}]},{postId:"p2",userId:"u101",userName:"Vidya Deshmukh",userReputation:850,title:"Downy Mildew Alert in Ozar",content:"Seeing some oil spots on my Thompson Seedless. Has the outbreak reached Ozar taluka yet? I am seeing specific yellow patches on the older leaves.",snippet:"Seeing some oil spots on my Thompson Seedless. Has the outbreak reached Ozar taluka yet?",cropType:"Grape",category:"Pest Control",location:{village:"Ozar",district:"Nashik"},tags:["grape","downy-mildew","alert"],upvotes:28,viewCount:450,replyCount:0,isExpertVerified:!1,isFlagged:!1,isBookmarked:!0,isFollowing:!1,createdAt:new Date(Date.now()-36e5*4).toISOString(),replies:[]}];const zf={getFeed:async(t,e)=>{let n=[...xa];switch(e&&e!=="General"&&(n=n.filter(r=>r.category===e)),t){case"trending":n.sort((r,i)=>i.upvotes-r.upvotes);break;case"unanswered":n=n.filter(r=>r.replyCount===0);break;case"village":n=n.filter(r=>r.location.village==="Pimpalgaon");break;case"my-posts":n=n.filter(r=>r.userId==="u123");break;case"following":n=n.filter(r=>r.isFollowing);break;case"expert":n=n.filter(r=>r.isExpertVerified);break;default:n.sort((r,i)=>new Date(i.createdAt).getTime()-new Date(r.createdAt).getTime())}return he.wrapSuccess(n)},getPost:async t=>{const e=xa.find(n=>n.postId===t);return e?he.wrapSuccess(e):{success:!1,error:"Post not found",timestamp:new Date().toISOString()}},createPost:async t=>{const e={postId:Math.random().toString(36).substr(2,9),userId:"u123",userName:"Current Farmer",userReputation:150,title:t.title||"",content:t.content||"",snippet:(t.content||"").substring(0,100)+"...",cropType:t.cropType||"General",category:t.category||"General",location:{village:"Nashik",district:"Nashik"},tags:t.tags||[],upvotes:0,viewCount:0,replyCount:0,isExpertVerified:!1,isFlagged:!1,createdAt:new Date().toISOString(),replies:[]};return xa.unshift(e),he.wrapSuccess(e)},toggleBookmark:async t=>{const e=xa.find(n=>n.postId===t);return e&&(e.isBookmarked=!e.isBookmarked),he.wrapSuccess(e?.isBookmarked||!1)},replyToPost:async(t,e,n)=>{const r=xa.find(a=>a.postId===t);if(!r)return{success:!1,error:"Post not found",timestamp:new Date().toISOString()};const i={replyId:Math.random().toString(36).substr(2,9),postId:t,userId:"u123",userName:"Current Farmer",content:e,createdAt:new Date().toISOString(),upvotes:0,isExpertAnswer:!1,isHelpful:!1,replies:[]};if(n){const a=r.replies.find(o=>o.replyId===n);a&&(a.replies||(a.replies=[]),a.replies.push(i))}else r.replies.push(i);return r.replyCount++,he.wrapSuccess(i)},upvotePost:async t=>{const e=xa.find(n=>n.postId===t);return e&&e.upvotes++,he.wrapSuccess(void 0)},flagPost:async t=>{const e=xa.find(n=>n.postId===t);return e&&(e.isFlagged=!0),he.wrapSuccess(void 0)}},Zie=()=>{const[t,e]=R.useState([]),[n,r]=R.useState("latest"),[i,a]=R.useState("All"),[o,c]=R.useState(!0),[f,d]=R.useState("feed"),[p,h]=R.useState(null);R.useEffect(()=>{f==="feed"&&g()},[n,i,f]),R.useEffect(()=>{const S=window;S.lucide&&S.lucide.createIcons()},[o,t,f,n,i]);const g=async()=>{c(!0);const S=i==="All"?void 0:i,w=await zf.getFeed(n,S);w.success&&e(w.data||[]),c(!1)},y=S=>{h(S),d("detail")},N=["All","Crop Management","Pest Control","Market Trends","Climate Change","Equipment"];return s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-24 animate-fade-in",children:[f==="feed"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:"Farmer Commons"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Connect, Share, and Learn from the Nashik farming network"})]}),s.jsxs("button",{onClick:()=>d("create"),className:"bg-emerald-600 text-white px-10 py-4 rounded-[15px] font-black text-sm uppercase tracking-widest shadow-xl shadow-emerald-100 hover:bg-emerald-700 transition-all active:scale-95 flex items-center space-x-3",children:[s.jsx("i",{"data-lucide":"plus-circle",className:"w-5 h-5"}),s.jsx("span",{children:"Create Post"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[s.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[s.jsxs("div",{className:"bg-white p-8 rounded-[15px] border border-slate-200 shadow-sm space-y-6",children:[s.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-2",children:"Navigation"}),s.jsx("div",{className:"space-y-1",children:[{id:"latest",label:"Global Feed",icon:"globe"},{id:"trending",label:"Trending Now",icon:"zap"},{id:"following",label:"Following",icon:"users"},{id:"expert",label:"Expert Verified",icon:"shield-check"},{id:"my-posts",label:"My Contributions",icon:"user"}].map(S=>s.jsxs("button",{onClick:()=>r(S.id),className:`w-full flex items-center space-x-4 px-6 py-4 rounded-[15px] text-xs font-black transition-all ${n===S.id?"bg-emerald-50 text-emerald-700":"text-slate-500 hover:bg-slate-50"}`,children:[s.jsx("i",{"data-lucide":S.icon,className:"w-4 h-4"}),s.jsx("span",{children:S.label})]},S.id))})]}),s.jsxs("div",{className:"bg-white p-8 rounded-[15px] border border-slate-200 shadow-sm space-y-6",children:[s.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-2",children:"Explore Categories"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(S=>s.jsx("button",{onClick:()=>a(S),className:`px-4 py-2 rounded-[15px] text-[10px] font-black uppercase transition-all ${i===S?"bg-slate-900 text-white shadow-lg":"bg-slate-50 text-slate-500 hover:bg-slate-100 border border-slate-100"}`,children:S},S))})]})]}),s.jsx("div",{className:"lg:col-span-6 space-y-6",children:o?s.jsxs("div",{className:"py-40 flex flex-col items-center justify-center bg-white rounded-[15px] border border-slate-100 shadow-sm",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mb-6"}),s.jsx("p",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-widest animate-pulse",children:"Syncing Discussions..."})]}):t.length>0?s.jsx("div",{className:"space-y-6",children:t.map(S=>s.jsxs("div",{onClick:()=>y(S.postId),className:"bg-white p-10 rounded-[15px] border border-slate-200 shadow-sm hover:border-emerald-300 hover:shadow-2xl transition-all group cursor-pointer relative overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-start mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("img",{src:S.userAvatar||`https://ui-avatars.com/api/?name=${S.userName}&background=random`,className:"w-14 h-14 rounded-[15px] object-cover shadow-sm",alt:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-base font-black text-slate-900",children:S.userName}),s.jsx("span",{className:"text-[10px] font-black text-slate-300",children:""}),s.jsxs("span",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest",children:[S.userReputation," Rep"]})]}),s.jsxs("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:[S.location.village,"  ",new Date(S.createdAt).toLocaleDateString()]})]})]}),s.jsx("div",{className:`px-3 py-1 rounded-[15px] text-[9px] font-black uppercase tracking-widest border ${S.category==="Pest Control"?"bg-rose-50 text-rose-600 border-rose-100":"bg-emerald-50 text-emerald-600 border-emerald-100"}`,children:S.category})]}),s.jsxs("div",{className:"flex gap-8",children:[s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsx("h2",{className:"text-2xl font-black text-slate-900 tracking-tight leading-tight group-hover:text-emerald-700 transition-colors",children:S.title}),s.jsx("p",{className:"text-base text-slate-500 font-medium leading-relaxed line-clamp-3",children:S.snippet||S.content})]}),S.imageUrl&&s.jsx("div",{className:"w-40 h-40 shrink-0 rounded-[15px] overflow-hidden border border-slate-100 hidden md:block shadow-sm",children:s.jsx("img",{src:S.imageUrl,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",alt:""})})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-8",children:S.tags.map(w=>s.jsxs("span",{className:"px-3 py-1 bg-slate-50 text-slate-500 text-[10px] font-bold uppercase tracking-widest rounded-[15px]",children:["#",w]},w))}),s.jsxs("div",{className:"flex items-center justify-between mt-10 pt-8 border-t border-slate-50",children:[s.jsxs("div",{className:"flex items-center space-x-8",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-slate-400",children:[s.jsx("i",{"data-lucide":"arrow-big-up",className:"w-6 h-6"}),s.jsx("span",{className:"text-sm font-black",children:S.upvotes})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-slate-400",children:[s.jsx("i",{"data-lucide":"message-circle",className:"w-6 h-6"}),s.jsx("span",{className:"text-sm font-black",children:S.replyCount})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-slate-400",children:[s.jsx("i",{"data-lucide":"eye",className:"w-6 h-6"}),s.jsx("span",{className:"text-sm font-black",children:S.viewCount})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{className:`p-3 rounded-[15px] border transition-all ${S.isBookmarked?"bg-amber-50 text-amber-500 border-amber-200":"bg-slate-50 text-slate-400 border-transparent hover:bg-amber-50"}`,children:s.jsx("i",{"data-lucide":"bookmark",className:"w-5 h-5"})}),s.jsxs("button",{className:"px-6 py-3 bg-slate-900 text-white rounded-[15px] font-black text-[10px] uppercase tracking-widest hover:bg-emerald-600 transition-all flex items-center space-x-2",children:[s.jsx("span",{children:"View Discuss"}),s.jsx("i",{"data-lucide":"arrow-right",className:"w-3 h-3"})]})]})]})]},S.postId))}):s.jsxs("div",{className:"py-40 text-center bg-white rounded-[15px] border-2 border-dashed border-slate-200 shadow-sm",children:[s.jsx("div",{className:"w-24 h-24 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-8 text-slate-200",children:s.jsx("i",{"data-lucide":"message-square",className:"w-12 h-12"})}),s.jsx("h3",{className:"text-2xl font-black text-slate-900",children:"No discussions found"}),s.jsx("p",{className:"text-sm text-slate-400 font-medium max-w-xs mx-auto mt-4 leading-relaxed",children:"Try adjusting your filters or be the first to share something with the community."})]})}),s.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[s.jsxs("div",{className:"bg-slate-950 p-10 rounded-[15px] text-white shadow-2xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-emerald-500/10 rounded-full blur-[80px]"}),s.jsx("h3",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-[0.4em] mb-8",children:"Trending Topics"}),s.jsx("div",{className:"space-y-6",children:[{tag:"DownyMildewAlert",count:124,trend:"up"},{tag:"OnionPriceSpike",count:85,trend:"up"},{tag:"DripSubsidyMH",count:42,trend:"down"},{tag:" ThompsonGrapes",count:31,trend:"up"}].map((S,w)=>s.jsxs("div",{className:"flex justify-between items-center group cursor-pointer",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-black group-hover:text-emerald-400 transition-colors",children:["#",S.tag]}),s.jsxs("div",{className:"text-[9px] text-slate-500 font-bold uppercase",children:[S.count," Active Posts"]})]}),s.jsx("i",{"data-lucide":S.trend==="up"?"trending-up":"trending-down",className:`w-4 h-4 ${S.trend==="up"?"text-emerald-400":"text-rose-400"}`})]},w))})]}),s.jsxs("div",{className:"bg-white p-8 rounded-[15px] border border-slate-200 shadow-sm space-y-8",children:[s.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-2",children:"Community Stats"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-5 bg-slate-50 rounded-[15px] text-center",children:[s.jsx("div",{className:"text-2xl font-black text-slate-900",children:"12.4K"}),s.jsx("div",{className:"text-[8px] font-black text-slate-400 uppercase mt-1",children:"Total Members"})]}),s.jsxs("div",{className:"p-5 bg-slate-50 rounded-[15px] text-center",children:[s.jsx("div",{className:"text-2xl font-black text-emerald-600",children:"840"}),s.jsx("div",{className:"text-[8px] font-black text-slate-400 uppercase mt-1",children:"Experts Online"})]})]}),s.jsxs("div",{className:"p-6 bg-blue-50 border border-blue-100 rounded-[15px]",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("i",{"data-lucide":"award",className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-[10px] font-black text-blue-800 uppercase",children:"Top Reviewer Today"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center font-black text-[10px] text-blue-600 shadow-sm",children:"DP"}),s.jsx("span",{className:"text-xs font-black text-slate-800",children:"Dinesh Patil"})]})]})]})]})]})]}),f==="detail"&&p&&s.jsx(Qie,{postId:p,onBack:()=>d("feed")}),f==="create"&&s.jsx(eae,{onCancel:()=>d("feed"),onSuccess:()=>d("feed")}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-slide-up { animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-scale-up { animation: scale-up 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slide-up { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes scale-up { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .line-clamp-3 { display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
      `})]})},Qie=({postId:t,onBack:e})=>{const[n,r]=R.useState(null),[i,a]=R.useState(!0),[o,c]=R.useState(""),[f,d]=R.useState("expert");R.useEffect(()=>{p()},[t]),R.useEffect(()=>{const g=window;g.lucide&&g.lucide.createIcons()},[i,n,o]);const p=async()=>{a(!0);const g=await zf.getPost(t);g.success&&r(g.data||null),a(!1)},h=async()=>{if(!o.trim())return;(await zf.replyToPost(t,o)).success&&(c(""),p())};return i||!n?s.jsxs("div",{className:"py-40 flex flex-col items-center justify-center bg-white rounded-[15px] border border-slate-100 shadow-sm",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mb-6"}),s.jsx("p",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:"Opening Discussion..."})]}):s.jsxs("div",{className:"max-w-4xl mx-auto space-y-12 animate-slide-up",children:[s.jsxs("button",{onClick:e,className:"flex items-center space-x-3 text-slate-400 hover:text-emerald-600 transition-colors group",children:[s.jsx("div",{className:"p-3 bg-white border border-slate-200 rounded-[15px] group-hover:border-emerald-300",children:s.jsx("i",{"data-lucide":"arrow-left",className:"w-5 h-5"})}),s.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Back to Commons"})]}),s.jsxs("article",{className:"bg-white p-12 lg:p-20 rounded-[15px] border border-slate-200 shadow-sm space-y-12",children:[s.jsxs("header",{className:"space-y-10",children:[s.jsxs("div",{className:"flex flex-wrap gap-4 justify-between items-start",children:[s.jsxs("div",{className:"flex items-center space-x-5",children:[s.jsx("img",{src:n.userAvatar||`https://ui-avatars.com/api/?name=${n.userName}&background=random`,className:"w-20 h-20 rounded-[15px] object-cover shadow-sm border-4 border-slate-50",alt:""}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h1",{className:"text-xl font-black text-slate-900",children:n.userName}),s.jsx("span",{className:"px-2 py-0.5 bg-emerald-50 text-emerald-600 text-[8px] font-black uppercase rounded-[15px] tracking-[0.2em] border border-emerald-100",children:"Regional Member"})]}),s.jsxs("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest",children:[n.location.village,", Nashik District  ",new Date(n.createdAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{className:"p-4 bg-slate-50 text-slate-400 rounded-[15px] hover:bg-emerald-50 hover:text-emerald-600 transition-all shadow-sm",children:s.jsx("i",{"data-lucide":"share-2",className:"w-6 h-6"})}),s.jsx("button",{className:"px-8 py-4 bg-slate-900 text-white rounded-[15px] font-black text-xs uppercase tracking-widest hover:bg-emerald-600 transition-all shadow-xl active:scale-95",children:"Follow Author"})]})]}),s.jsx("h2",{className:"text-4xl lg:text-5xl font-black text-slate-900 tracking-tighter leading-[1.1]",children:n.title})]}),s.jsx("div",{className:"prose prose-slate max-w-none",children:s.jsxs("p",{className:"text-lg text-slate-600 leading-[1.8] font-medium whitespace-pre-wrap italic",children:['"',n.content,'"']})}),n.imageGallery&&n.imageGallery.length>0&&s.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.imageGallery.map((g,y)=>s.jsx("div",{className:"aspect-video rounded-[15px] overflow-hidden border border-slate-100 shadow-sm cursor-zoom-in",children:s.jsx("img",{src:g,className:"w-full h-full object-cover",alt:""})},y))}),s.jsxs("div",{className:"pt-10 border-t border-slate-50 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-8",children:[s.jsxs("button",{className:"flex items-center space-x-3 text-slate-400 hover:text-emerald-600 group transition-all",children:[s.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-[15px] flex items-center justify-center group-hover:bg-emerald-50 group-hover:scale-110 transition-all shadow-sm",children:s.jsx("i",{"data-lucide":"arrow-big-up",className:"w-7 h-7"})}),s.jsx("span",{className:"text-base font-black text-slate-900",children:n.upvotes})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-slate-400",children:[s.jsx("i",{"data-lucide":"message-circle",className:"w-7 h-7"}),s.jsx("span",{className:"text-base font-black text-slate-900",children:n.replyCount})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"Share to:"}),s.jsx("button",{className:"w-10 h-10 bg-[#25D366] text-white rounded-[15px] flex items-center justify-center shadow-lg active:scale-90 transition-transform",children:s.jsx("i",{"data-lucide":"phone",className:"w-5 h-5 fill-current"})}),s.jsx("button",{className:"w-10 h-10 bg-[#1DA1F2] text-white rounded-[15px] flex items-center justify-center shadow-lg active:scale-90 transition-transform",children:s.jsx("i",{"data-lucide":"twitter",className:"w-5 h-5 fill-current"})})]})]})]}),s.jsxs("section",{className:"space-y-10",children:[s.jsxs("div",{className:"flex justify-between items-end px-4",children:[s.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Community Answers"}),s.jsx("div",{className:"flex items-center space-x-3 bg-slate-100 p-1 rounded-[15px] border border-slate-200",children:["top","expert","recent"].map(g=>s.jsx("button",{onClick:()=>d(g),className:`px-4 py-2 rounded-[15px] text-[10px] font-black uppercase transition-all ${f===g?"bg-white text-emerald-700 shadow-sm":"text-slate-400"}`,children:g},g))})]}),s.jsx("div",{className:"space-y-8",children:n.replies.map(g=>s.jsx(D5,{reply:g},g.replyId))}),s.jsxs("div",{className:"bg-white p-10 rounded-[15px] border-2 border-emerald-100 shadow-xl shadow-emerald-50 space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[s.jsx("i",{"data-lucide":"message-square",className:"w-6 h-6 text-emerald-600"}),s.jsx("h4",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Your Contribution"})]}),s.jsx("textarea",{value:o,onChange:g=>c(g.target.value),placeholder:"Add your insight or answer here...",className:"w-full bg-slate-50 border border-slate-200 rounded-[15px] p-8 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500 min-h-[150px] leading-relaxed"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"p-3 bg-slate-50 text-slate-400 hover:text-emerald-600 rounded-[15px] transition-colors",children:s.jsx("i",{"data-lucide":"image",className:"w-5 h-5"})}),s.jsx("button",{className:"p-3 bg-slate-50 text-slate-400 hover:text-emerald-600 rounded-[15px] transition-colors",children:s.jsx("i",{"data-lucide":"paperclip",className:"w-5 h-5"})})]}),s.jsx("button",{onClick:h,disabled:!o.trim(),className:"bg-emerald-600 text-white px-10 py-4 rounded-[15px] font-black text-sm uppercase tracking-widest hover:bg-emerald-700 transition-all active:scale-95 disabled:bg-slate-200 shadow-lg shadow-emerald-100",children:"Submit Answer"})]})]})]})]})},D5=({reply:t})=>s.jsxs("div",{className:`space-y-6 animate-fade-in ${t.isExpertAnswer?"bg-emerald-50/30 p-10 rounded-[15px] border border-emerald-100":"bg-white p-10 rounded-[15px] border border-slate-200 shadow-sm"}`,children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("img",{src:t.userAvatar||`https://ui-avatars.com/api/?name=${t.userName}&background=random`,className:"w-12 h-12 rounded-[15px] object-cover shadow-sm",alt:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-black text-slate-900",children:t.userName}),t.userBadge==="Expert"&&s.jsxs("span",{className:"flex items-center space-x-1 px-2 py-0.5 bg-blue-100 text-blue-700 text-[8px] font-black uppercase rounded-[15px] tracking-widest border border-blue-200",children:[s.jsx("i",{"data-lucide":"check-badge",className:"w-2.5 h-2.5"}),s.jsx("span",{children:"Verified Specialist"})]})]}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:new Date(t.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),s.jsx("button",{className:"text-slate-400 hover:text-emerald-600",children:s.jsx("i",{"data-lucide":"more-horizontal",className:"w-5 h-5"})})]}),s.jsxs("p",{className:"text-sm text-slate-600 leading-relaxed font-medium pl-2 italic",children:['"',t.content,'"']}),s.jsxs("div",{className:"flex items-center space-x-8 pt-4 border-t border-slate-50/50",children:[s.jsxs("button",{className:"flex items-center space-x-2 text-slate-400 hover:text-emerald-600 transition-colors",children:[s.jsx("i",{"data-lucide":"arrow-big-up",className:"w-5 h-5"}),s.jsx("span",{className:"text-xs font-black",children:t.upvotes})]}),s.jsx("button",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest",children:"Reply to this"}),s.jsx("button",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-auto hover:text-rose-500",children:"Flag"})]}),t.replies&&t.replies.length>0&&s.jsx("div",{className:"pl-12 pt-6 border-l-2 border-emerald-100 space-y-6",children:t.replies.map(e=>s.jsx(D5,{reply:e},e.replyId))})]}),eae=({onCancel:t,onSuccess:e})=>{const[n,r]=R.useState({title:"",content:"",cropType:"General",category:"General",tags:""}),[i,a]=R.useState(!1),o=async c=>{c.preventDefault(),a(!0),(await zf.createPost({...n,tags:n.tags.split(",").map(d=>d.trim().replace("#",""))})).success&&e(),a(!1)};return s.jsx("div",{className:"max-w-3xl mx-auto animate-scale-up",children:s.jsxs("div",{className:"bg-white rounded-[15px] border border-slate-200 shadow-2xl p-12 lg:p-20 space-y-12",children:[s.jsxs("header",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:"New Discussion"}),s.jsx("p",{className:"text-slate-400 font-medium mt-2 uppercase text-[10px] tracking-[0.3em]",children:"Sharing regional intelligence"})]}),s.jsx("button",{onClick:t,className:"p-4 bg-slate-50 text-slate-400 hover:text-rose-500 rounded-[15px] transition-all",children:s.jsx("i",{"data-lucide":"x",className:"w-8 h-8"})})]}),s.jsxs("form",{onSubmit:o,className:"space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Engaging Title"}),s.jsx("input",{required:!0,type:"text",placeholder:"e.g. Unusual wilting in Thompson Grapes after recent rain",value:n.title,onChange:c=>r({...n,title:c.target.value}),className:"w-full p-6 bg-slate-50 border border-slate-100 rounded-[15px] text-lg font-bold text-slate-900 focus:outline-none focus:ring-4 focus:ring-emerald-500/10 focus:bg-white transition-all"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Primary Topic"}),s.jsxs("select",{value:n.category,onChange:c=>r({...n,category:c.target.value}),className:"w-full p-5 bg-slate-50 border border-slate-100 rounded-[15px] font-bold text-slate-700 outline-none appearance-none cursor-pointer",children:[s.jsx("option",{children:"Crop Management"}),s.jsx("option",{children:"Pest Control"}),s.jsx("option",{children:"Market Trends"}),s.jsx("option",{children:"Climate Change"}),s.jsx("option",{children:"Equipment"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Related Crop"}),s.jsxs("select",{value:n.cropType,onChange:c=>r({...n,cropType:c.target.value}),className:"w-full p-5 bg-slate-50 border border-slate-100 rounded-[15px] font-bold text-slate-700 outline-none appearance-none cursor-pointer",children:[s.jsx("option",{children:"Grape"}),s.jsx("option",{children:"Onion"}),s.jsx("option",{children:"Tomato"}),s.jsx("option",{children:"Pomegranate"}),s.jsx("option",{children:"General"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Content / Observations"}),s.jsx("textarea",{required:!0,rows:6,placeholder:"Describe your situation in detail. Mention variety, DAP, and recent soil applications...",value:n.content,onChange:c=>r({...n,content:c.target.value}),className:"w-full p-8 bg-slate-50 border border-slate-100 rounded-[15px] font-medium text-slate-600 focus:outline-none focus:ring-4 focus:ring-emerald-500/10 focus:bg-white transition-all leading-relaxed"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Search Tags (comma separated)"}),s.jsx("input",{type:"text",placeholder:"e.g. downymildew, ozar, fungicide",value:n.tags,onChange:c=>r({...n,tags:c.target.value}),className:"w-full p-5 bg-slate-50 border border-slate-100 rounded-[15px] font-bold text-slate-900 focus:outline-none"})]})]}),s.jsxs("div",{className:"flex gap-4 p-8 bg-slate-50 rounded-[15px] border border-dashed border-slate-200",children:[s.jsxs("button",{type:"button",className:"flex-1 flex flex-col items-center justify-center p-6 bg-white border-2 border-slate-100 rounded-[15px] hover:border-emerald-300 transition-all group",children:[s.jsx("i",{"data-lucide":"image",className:"w-8 h-8 text-slate-300 group-hover:text-emerald-500 mb-2"}),s.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400",children:"Attach Photos"})]}),s.jsxs("button",{type:"button",className:"flex-1 flex flex-col items-center justify-center p-6 bg-white border-2 border-slate-100 rounded-[15px] hover:border-emerald-300 transition-all group",children:[s.jsx("i",{"data-lucide":"map-pin",className:"w-8 h-8 text-slate-300 group-hover:text-emerald-500 mb-2"}),s.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400",children:"Add Location"})]})]}),s.jsxs("div",{className:"flex gap-6 pt-6",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 py-6 bg-slate-100 text-slate-400 rounded-[15px] font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Discard Draft"}),s.jsx("button",{type:"submit",disabled:i,className:"flex-[2] py-6 bg-emerald-600 text-white rounded-[15px] font-black text-sm uppercase tracking-widest hover:bg-emerald-700 transition-all shadow-2xl shadow-emerald-100 flex items-center justify-center space-x-3 active:scale-95",children:i?s.jsx("i",{"data-lucide":"refresh-cw",className:"w-5 h-5 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx("i",{"data-lucide":"send",className:"w-5 h-5"}),s.jsx("span",{children:"Publish to Commons"})]})})]})]})]})})};let ZI=[{id:"q1",userId:"u123",title:"Severe bunch rot in Early Sweet Grapes",content:"The berries are turning soft and water-soaked despite preventive sprays. Is this Botrytis?",cropType:"Grape",urgency:"Urgent",status:"Answered",createdAt:new Date(Date.now()-864e5).toISOString(),answer:{expertId:"exp1",content:"Based on the soft texture, this is likely Botrytis cinerea. Immediate removal of infected clusters and spray of Iprodione is required. Check for high canopy humidity.",timestamp:new Date().toISOString(),references:[{title:"Grape Disease Mgmt Guide",url:"#"}],isVerifiedSolution:!0}}];const Tl={getExperts:async t=>{const e=[{id:"exp1",name:"Dr. Sanjay Patil",role:"Pathologist",specializations:["Grape Diseases","Fungal Management"],credentials:["PhD Agronomy (MPKV)","ICAR Senior Scientist"],rating:4.9,reviewCount:450,languages:["Marathi","English","Hindi"],responseTime:"< 2 Hours",availability:[{day:"Monday",slots:["10:00","11:00","15:00"]},{day:"Tuesday",slots:["09:00","14:00"]}],verified:!0,bio:"Leading researcher in Downy Mildew resistance for the Nashik export corridor."},{id:"exp2",name:"Ms. Vidya Deshmukh",role:"Soil Scientist",specializations:["Onion Nutrition","Salinity Control"],credentials:["MSc Soil Science","Extension Officer"],rating:4.7,reviewCount:280,languages:["Marathi","Hindi"],responseTime:"< 6 Hours",availability:[{day:"Wednesday",slots:["10:00","11:00"]}],verified:!0,bio:"Helping smallholders optimize N-P-K ratios for Rabi Onion cultivation."}];return t?he.wrapSuccess(e.filter(n=>n.specializations.some(r=>r.includes(t)))):he.wrapSuccess(e)},askQuestion:async t=>{const e={id:Math.random().toString(36).substr(2,9),userId:"u123",title:t.title||"",content:t.content||"",cropType:t.cropType||"General",urgency:t.urgency||"Standard",status:"Pending",createdAt:new Date().toISOString()};return ZI.push(e),he.wrapSuccess(e)},getQuestions:async t=>he.wrapSuccess(ZI.filter(e=>e.userId===t)),bookConsultation:async t=>{const e={id:Math.random().toString(36).substr(2,9),status:"Scheduled",meetingLink:"https://meet.google.com/abc-defg-hij",...t};return he.wrapSuccess(e)}},tae=()=>{const[t,e]=R.useState([]),[n,r]=R.useState([]),[i,a]=R.useState("experts"),[o,c]=R.useState(!0),[f,d]=R.useState(!1),[p,h]=R.useState(null),[g,y]=R.useState({title:"",content:"",cropType:"Grape",urgency:"Standard"});R.useEffect(()=>{N()},[]),R.useEffect(()=>{const j=window;j.lucide&&j.lucide.createIcons()},[o,t,n,i,f,p]);const N=async()=>{c(!0);const[j,T]=await Promise.all([Tl.getExperts(),Tl.getQuestions("u123")]);j.success&&e(j.data||[]),T.success&&r(T.data||[]),c(!1)},S=async j=>{if(j.preventDefault(),(await Tl.askQuestion(g)).success){d(!1);const C=await Tl.getQuestions("u123");r(C.data||[])}},w=async(j,T)=>{(await Tl.bookConsultation({userId:"u123",expertId:j.id,expertName:j.name,date:new Date().toISOString().split("T")[0],timeSlot:T,topic:"Urgent crop inspection"})).success&&(alert(`Consultation booked with ${j.name} at ${T}. Meeting link sent to your phone.`),h(null))};return o?s.jsxs("div",{className:"flex flex-col items-center justify-center py-40",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mb-6"}),s.jsx("p",{className:"text-slate-500 font-black uppercase tracking-widest text-xs animate-pulse",children:"Syncing with Extension Network..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-24 animate-fade-in",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:"Expert Concierge"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Direct access to verified regional agronomists"})]}),s.jsx("div",{className:"flex gap-4",children:s.jsxs("button",{onClick:()=>d(!0),className:"bg-emerald-600 text-white px-8 py-3 rounded-[15px] font-black text-sm uppercase tracking-widest shadow-xl shadow-emerald-100 hover:bg-emerald-700 transition-all flex items-center space-x-3",children:[s.jsx("i",{"data-lucide":"help-circle",className:"w-5 h-5"}),s.jsx("span",{children:"Ask Specialist"})]})})]}),s.jsx("div",{className:"flex bg-slate-100 p-1 rounded-[15px] border border-slate-200 w-fit",children:[{id:"experts",label:"Find Experts",icon:"users"},{id:"my-questions",label:"My Q&A History",icon:"message-square"},{id:"consults",label:"Consultations",icon:"video"}].map(j=>s.jsxs("button",{onClick:()=>a(j.id),className:`flex items-center space-x-2 px-6 py-2.5 rounded-[15px] text-[10px] font-black uppercase transition-all ${i===j.id?"bg-white text-emerald-700 shadow-sm":"text-slate-500 hover:text-emerald-600"}`,children:[s.jsx("i",{"data-lucide":j.icon,className:"w-3.5 h-3.5"}),s.jsx("span",{children:j.label})]},j.id))}),i==="experts"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-slide-up",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:t.map(j=>s.jsxs("div",{className:"bg-white p-8 rounded-[15px] border border-slate-200 shadow-sm hover:border-emerald-300 transition-all group relative overflow-hidden",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[s.jsxs("div",{className:"relative shrink-0",children:[s.jsx("div",{className:"w-24 h-24 bg-slate-100 rounded-[15px] flex items-center justify-center font-black text-3xl text-slate-400",children:j.name.charAt(0)}),j.verified&&s.jsx("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-emerald-500 rounded-[15px] flex items-center justify-center border-4 border-white shadow-lg text-white",children:s.jsx("i",{"data-lucide":"check",className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:j.name}),s.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[s.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-[15px] border border-emerald-100",children:j.role}),s.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tight",children:[j.reviewCount," Reviews"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("i",{"data-lucide":"star",className:"w-4 h-4 fill-amber-400 text-amber-400"}),s.jsx("span",{className:"text-sm font-black text-slate-900",children:j.rating})]})]}),s.jsxs("p",{className:"text-sm text-slate-500 font-medium leading-relaxed italic line-clamp-2",children:['"',j.bio,'"']}),s.jsx("div",{className:"flex flex-wrap gap-2",children:j.specializations.map(T=>s.jsx("span",{className:"px-3 py-1 bg-slate-50 text-slate-500 text-[9px] font-black uppercase tracking-widest rounded-[15px] border border-slate-100",children:T},T))})]})]}),s.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-50 flex flex-wrap gap-4 justify-between items-center",children:[s.jsxs("div",{className:"flex space-x-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Response"}),s.jsx("div",{className:"text-xs font-bold text-slate-700",children:j.responseTime})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Languages"}),s.jsx("div",{className:"text-xs font-bold text-slate-700",children:j.languages.join(", ")})]})]}),s.jsx("button",{onClick:()=>h(j),className:"px-8 py-3 bg-slate-950 text-white rounded-[15px] font-black text-[10px] uppercase tracking-widest hover:bg-emerald-600 transition-all shadow-xl active:scale-95",children:"Book Call"})]})]},j.id))}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-slate-900 p-10 rounded-[15px] text-white space-y-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute bottom-0 right-0 w-48 h-48 bg-emerald-500/10 rounded-full blur-3xl"}),s.jsx("h3",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-[0.3em]",children:"Network Impact"}),s.jsx("div",{className:"space-y-6",children:[{label:"Experts Online",val:"24",icon:"zap",color:"text-emerald-400"},{label:"Active Advice",val:"1.2K",icon:"message-circle",color:"text-blue-400"},{label:"Problem Solved",val:"8.4K",icon:"check-circle",color:"text-amber-400"}].map((j,T)=>s.jsxs("div",{className:"flex items-center space-x-6 p-4 bg-white/5 rounded-[15px] border border-white/10",children:[s.jsx("div",{className:`w-10 h-10 rounded-[15px] bg-white/5 flex items-center justify-center ${j.color}`,children:s.jsx("i",{"data-lucide":j.icon,className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xl font-black",children:j.val}),s.jsx("div",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:j.label})]})]},T))})]}),s.jsxs("div",{className:"p-8 bg-blue-50 rounded-[15px] border border-blue-100 flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-white rounded-[15px] flex items-center justify-center shrink-0 shadow-sm",children:s.jsx("i",{"data-lucide":"award",className:"w-6 h-6 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-[11px] font-black text-blue-900 uppercase tracking-widest",children:"Certified Advice"}),s.jsx("p",{className:"text-[11px] text-blue-800 leading-relaxed font-medium mt-1",children:"All advice tagged as 'Verified Solution' is backed by regional agricultural research stations."})]})]})]})]}),i==="my-questions"&&s.jsx("div",{className:"space-y-6 animate-slide-up",children:n.length>0?n.map(j=>s.jsxs("div",{className:"bg-white p-10 rounded-[15px] border border-slate-200 shadow-sm space-y-8",children:[s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-[15px] flex items-center justify-center ${j.urgency==="Urgent"?"bg-red-50 text-red-600":"bg-slate-50 text-slate-400"}`,children:s.jsx("i",{"data-lucide":"alert-circle",className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:j.title}),s.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[s.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2 py-0.5 rounded-[15px] border ${j.status==="Answered"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-slate-50 text-slate-400"}`,children:j.status}),s.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:new Date(j.createdAt).toLocaleDateString()})]})]})]})}),s.jsxs("p",{className:"text-sm text-slate-600 leading-relaxed font-medium pl-14 italic",children:['"',j.content,'"']}),j.answer&&s.jsxs("div",{className:"pl-10 md:pl-14 border-l-2 border-emerald-100 space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-emerald-600 rounded-[15px] flex items-center justify-center text-white font-black text-sm",children:"SP"}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-black text-slate-900",children:["Dr. Sanjay Patil ",s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-50 text-blue-600 text-[8px] font-black uppercase rounded-[15px] tracking-widest",children:"Expert Answer"})]}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tight",children:new Date(j.answer.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),s.jsxs("div",{className:"p-6 bg-emerald-50 rounded-[15px] border border-emerald-100 text-emerald-900 text-sm leading-relaxed font-medium",children:[j.answer.content,j.answer.references.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-emerald-200/50 flex items-center space-x-4",children:[s.jsx("span",{className:"text-[10px] font-black uppercase text-emerald-700",children:"References:"}),j.answer.references.map((T,C)=>s.jsxs("a",{href:T.url,className:"text-[10px] font-bold text-blue-600 hover:underline flex items-center",children:[s.jsx("i",{"data-lucide":"file-text",className:"w-3 h-3 mr-1"}),T.title]},C))]})]})]})]},j.id)):s.jsxs("div",{className:"py-40 text-center bg-white rounded-[15px] border-2 border-dashed border-slate-200",children:[s.jsx("i",{"data-lucide":"message-square",className:"w-12 h-12 text-slate-200 mx-auto mb-6"}),s.jsx("h3",{className:"text-xl font-black text-slate-900",children:"No questions found"}),s.jsx("p",{className:"text-slate-400 font-medium max-w-xs mx-auto mt-2",children:"Specialist consultation history will appear here."})]})}),f&&s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-950/60 backdrop-blur-md",onClick:()=>d(!1)}),s.jsxs("div",{className:"relative bg-white w-full max-w-2xl rounded-[15px] p-12 shadow-2xl overflow-y-auto max-h-[90vh] animate-scale-up",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Ask a Specialist"}),s.jsx("button",{onClick:()=>d(!1),className:"p-3 bg-slate-50 text-slate-400 hover:text-red-500 rounded-[15px] transition-all",children:s.jsx("i",{"data-lucide":"x",className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:S,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Question Summary"}),s.jsx("input",{required:!0,type:"text",value:g.title,onChange:j=>y({...g,title:j.target.value}),className:"w-full p-5 bg-slate-50 border border-slate-200 rounded-[15px] font-bold text-slate-900",placeholder:"e.g. Unusual wilting in Tomato crop"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Crop"}),s.jsxs("select",{value:g.cropType,onChange:j=>y({...g,cropType:j.target.value}),className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-[15px] font-bold",children:[s.jsx("option",{children:"Grape"}),s.jsx("option",{children:"Onion"}),s.jsx("option",{children:"Tomato"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Urgency"}),s.jsxs("select",{value:g.urgency,onChange:j=>y({...g,urgency:j.target.value}),className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-[15px] font-bold",children:[s.jsx("option",{children:"Standard"}),s.jsx("option",{children:"Urgent"}),s.jsx("option",{children:"Emergency"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Context & Observation"}),s.jsx("textarea",{required:!0,rows:4,value:g.content,onChange:j=>y({...g,content:j.target.value}),className:"w-full p-5 bg-slate-50 border border-slate-200 rounded-[15px] font-medium text-slate-600",placeholder:"Detail the symptoms, recent weather, and any applications you've done..."})]}),s.jsx("button",{type:"submit",className:"w-full py-6 bg-emerald-600 text-white rounded-[15px] font-black text-lg hover:bg-emerald-700 active:scale-95 shadow-xl shadow-emerald-100 transition-all",children:"Route to Extension Officer"})]})]})]}),p&&s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-950/60 backdrop-blur-md",onClick:()=>h(null)}),s.jsxs("div",{className:"relative bg-white w-full max-w-lg rounded-[15px] p-12 shadow-2xl animate-scale-up",children:[s.jsxs("div",{className:"flex justify-between items-center mb-10",children:[s.jsxs("h2",{className:"text-3xl font-black text-slate-900 tracking-tight leading-none",children:["Schedule with ",s.jsx("br",{})," ",p.name]}),s.jsx("button",{onClick:()=>h(null),className:"p-3 bg-slate-50 text-slate-400 hover:text-red-500 rounded-[15px] transition-all",children:s.jsx("i",{"data-lucide":"x",className:"w-6 h-6"})})]}),s.jsx("div",{className:"space-y-8",children:p.availability.map((j,T)=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:j.day}),s.jsx("div",{className:"flex flex-wrap gap-2",children:j.slots.map(C=>s.jsx("button",{onClick:()=>w(p,`${j.day} at ${C}`),className:"px-6 py-2.5 bg-slate-50 border border-slate-100 text-slate-900 rounded-[15px] text-xs font-black hover:bg-emerald-600 hover:text-white transition-all active:scale-95",children:C},C))})]},T))})]})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-slide-up { animation: slide-up 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slide-up { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
      `})]})},nae=({user:t})=>{const[e,n]=R.useState(!1),[r,i]=R.useState(""),[a,o]=R.useState(""),[c,f]=R.useState(!1),[d,p]=R.useState([]),[h,g]=R.useState("idle"),y=R.useRef(null),N=R.useRef(null);R.useEffect(()=>{if(typeof window<"u"&&("webkitSpeechRecognition"in window||"SpeechRecognition"in window)){const C=window.webkitSpeechRecognition||window.SpeechRecognition;y.current=new C,y.current.continuous=!1,y.current.interimResults=!0,y.current.lang=t.language==="mr"?"mr-IN":t.language==="hi"?"hi-IN":"en-US",y.current.onstart=()=>{n(!0),g("listening")},y.current.onresult=A=>{const E=A.resultIndex,P=A.results[E][0].transcript;i(P)},y.current.onend=()=>{n(!1),r?j(r):g("idle")},y.current.onerror=A=>{console.error("Speech recognition error",A.error),g("idle"),n(!1)}}return typeof window<"u"&&"speechSynthesis"in window&&(N.current=window.speechSynthesis),()=>{N.current&&N.current.cancel()}},[t.language]);const S=()=>{if(y.current){i(""),o(""),g("listening");try{y.current.start()}catch(C){console.error("Recognition start error",C)}}else alert("Voice recognition not supported in this browser.")},w=()=>{y.current&&y.current.stop()},j=async C=>{if(C.trim()){g("processing");try{let A="I'm processing your request.";const E=C.toLowerCase();E.includes("weather")||E.includes("rain")?A="The forecast for Nashik indicates scattered showers tomorrow. It's a good time to check your drainage systems.":E.includes("market")||E.includes("price")?A="Onion prices in Lasalgaon are currently stable at 2400 rupees per quintal. Tomato prices are seeing a slight upward trend.":E.includes("crop")||E.includes("disease")?A="Please scan your crop using the camera tool for accurate disease diagnosis. I can help you interpret the results once you scan them.":A=`I heard you say "${C}". As an AI advisor, I can help you with weather, market prices, and crop management. How can I assist you further?`,o(A);const P={id:Date.now().toString(),timestamp:new Date().toISOString(),queryText:C,responseText:A};p(O=>[P,...O]),T(A),g("speaking")}catch(A){console.error("Error processing query",A),g("idle"),o("Sorry, I encountered an error processing your request.")}}},T=C=>{if(N.current){const A=new SpeechSynthesisUtterance(C);A.lang=t.language==="mr"?"mr-IN":t.language==="hi"?"hi-IN":"en-US",A.onend=()=>{f(!1),g("idle")},f(!0),N.current.speak(A)}};return s.jsxs("div",{className:"space-y-6 animate-fade-in pb-24",children:[s.jsx("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:"Voice Advisor"}),s.jsx("p",{className:"text-slate-500 font-medium mt-2",children:"Speak naturally to get instant farming advice."})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-[20px] shadow-xl p-8 flex flex-col items-center justify-center min-h-[400px] border border-slate-200 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-blue-500/5 opacity-50"}),s.jsx("div",{className:"mb-8 relative z-10",children:s.jsx("span",{className:`px-4 py-1.5 rounded-full text-xs font-black uppercase tracking-widest ${h==="listening"?"bg-red-100 text-red-600 animate-pulse":h==="processing"?"bg-blue-100 text-blue-600 animate-bounce":h==="speaking"?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"}`,children:h==="listening"?"Listening...":h==="processing"?"Processing...":h==="speaking"?"Speaking...":"Ready"})}),s.jsxs("button",{onClick:e?w:S,className:`relative z-10 w-24 h-24 rounded-full flex items-center justify-center transition-all duration-300 ${e?"bg-red-500 shadow-lg shadow-red-200 scale-110":"bg-emerald-600 shadow-xl shadow-emerald-200 hover:scale-105 active:scale-95"}`,children:[s.jsx("i",{"data-lucide":e?"mic-off":"mic",className:"w-10 h-10 text-white"}),e&&s.jsx("span",{className:"absolute inset-0 rounded-full border-4 border-red-500/30 animate-ping"})]}),s.jsxs("div",{className:"mt-10 w-full text-center space-y-4 relative z-10 min-h-[100px]",children:[r&&s.jsxs("p",{className:"text-lg font-medium text-slate-700",children:['"',r,'"']}),a&&!e&&s.jsx("div",{className:"bg-emerald-50 p-4 rounded-[15px] border border-emerald-100 inline-block",children:s.jsx("p",{className:"text-emerald-800 font-medium",children:a})}),!r&&!a&&s.jsx("p",{className:"text-slate-400 text-sm",children:"Tap the microphone to start talking"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-black text-slate-900 tracking-tight",children:"Recent Conversations"}),s.jsx("button",{onClick:()=>p([]),className:"text-xs font-bold text-slate-400 hover:text-red-500 uppercase tracking-widest transition-colors",children:"Clear History"})]}),s.jsx("div",{className:"bg-white rounded-[20px] shadow-sm border border-slate-200 overflow-hidden max-h-[500px] overflow-y-auto no-scrollbar",children:d.length===0?s.jsxs("div",{className:"p-10 text-center text-slate-400",children:[s.jsx("i",{"data-lucide":"message-square",className:"w-8 h-8 mx-auto mb-3 opacity-20"}),s.jsx("p",{className:"text-sm font-medium",children:"No recent conversations"})]}):s.jsx("div",{className:"divide-y divide-slate-100",children:d.map(C=>s.jsxs("div",{className:"pt-5 pb-5 pl-5 pr-5 border-b border-b-slate-100 last:border-b-0 hover:bg-slate-50 transition-colors",children:[s.jsx("div",{className:"flex justify-between items-start mb-2",children:s.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:new Date(C.timestamp).toLocaleTimeString()})}),s.jsxs("p",{className:"text-sm font-bold text-slate-800 mb-2",children:["You: ",C.queryText]}),s.jsxs("div",{className:"p-3 bg-emerald-50 border border-emerald-100 rounded-[10px]",children:[s.jsx("span",{className:"font-bold block text-[10px] uppercase text-emerald-600 mb-1",children:"Advisor"}),s.jsx("p",{className:"text-sm font-medium text-emerald-800",children:C.responseText})]})]},C.id))})})]})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .no-scrollbar::-webkit-scrollbar { display: none; }
      `})]})};let $v=[{id:"s1",farmerName:"Vikas Kadam",location:"Niphad, Nashik",cropType:"Grape",category:"Irrigation",title:"Precision Drip for Export Grapes",problem:"Excessive water usage in loamy soil led to bunch rot and high input costs.",solution:"Implemented AgriSmart AI scheduled fertigation and real-time soil moisture monitoring.",result:"Reduced water consumption by 32% while increasing export quality yield by 15%.",metrics:[{label:"Yield Growth",value:"+15%",improvement:"2.4 Tons/Acre increase"},{label:"Water Saved",value:"32%",improvement:"2M Liters per season"},{label:"Export Grade",value:"92%",improvement:"from 78%"}],steps:[{title:"Baseline Audit",description:"Used the platform to map historical soil data and moisture drift."},{title:"Scheduler Setup",description:"Configured automated fertigation intervals based on fruit-set phase."}],imageUrl:"https://images.unsplash.com/photo-1595304033282-3e28be636d14?auto=format&fit=crop&q=80&w=1000",beforeImageUrl:"https://images.unsplash.com/photo-1589923188900-85dae523342b?auto=format&fit=crop&q=80&w=1000",likes:124,shares:45,createdAt:new Date().toISOString()},{id:"s2",farmerName:"Sunita Patil",location:"Dindori, Nashik",cropType:"Onion",category:"Market",title:"Timing the Lasalgaon Peak",problem:"Selling immediately after harvest led to poor price realization during glut.",solution:"Used Price Prediction models to identify a 15-day storage window before festival demand.",result:"Capturing 2,850/quintal vs 1,900/quintal local rate.",metrics:[{label:"Revenue Boost",value:"4.2L",improvement:"+48% higher realization"},{label:"Waste Reduction",value:"12%",improvement:"Proper curing advice used"}],steps:[{title:"Trend Monitor",description:"Watched price volatility index for 3 weeks using Analytics tab."},{title:"Curing Logic",description:"Followed AI curing tips to prevent bulb rot during storage."}],imageUrl:"https://images.unsplash.com/photo-1596373809653-e5786a51d8b9?auto=format&fit=crop&q=80&w=1000",likes:89,shares:32,createdAt:new Date(Date.now()-864e5*5).toISOString()}];const rae={getStories:async t=>{let e=[...$v];return t&&(e=e.filter(n=>n.category===t)),he.wrapSuccess(e)},submitStory:async t=>{const e={id:Math.random().toString(36).substr(2,9),farmerName:"Current User",location:"Nashik, MH",cropType:t.cropType||"General",category:t.category||"Tech Adoption",title:t.title||"",problem:t.problem||"",solution:t.solution||"",result:t.result||"",metrics:t.metrics||[],steps:t.steps||[],imageUrl:"https://images.unsplash.com/photo-1625246333195-78d9c38ad449?auto=format&fit=crop&q=80&w=1000",likes:0,shares:0,createdAt:new Date().toISOString()};return $v.unshift(e),he.wrapSuccess(e)},likeStory:async t=>{const e=$v.find(n=>n.id===t);return e&&e.likes++,he.wrapSuccess(void 0)}},iae=()=>{const[t,e]=R.useState([]),[n,r]=R.useState("All"),[i,a]=R.useState(!0),[o,c]=R.useState(!1),[f,d]=R.useState(null);R.useEffect(()=>{p()},[n]),R.useEffect(()=>{const g=window;g.lucide&&g.lucide.createIcons()},[i,t,n,o,f]);const p=async()=>{a(!0);const g=n==="All"?void 0:n,y=await rae.getStories(g);y.success&&e(y.data||[]),a(!1)},h=["All","Irrigation","Organic","Pest Mgmt","Market","Tech Adoption"];return s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-24 animate-fade-in",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:"Harvest Heros"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Verified success stories and replicable farm blueprints"})]}),s.jsxs("button",{onClick:()=>c(!0),className:"bg-emerald-600 text-white px-8 py-3 rounded-[15px] font-black text-sm uppercase tracking-widest shadow-xl shadow-emerald-100 hover:bg-emerald-700 transition-all active:scale-95 flex items-center space-x-3",children:[s.jsx("i",{"data-lucide":"award",className:"w-5 h-5"}),s.jsx("span",{children:"Share My Impact"})]})]}),s.jsx("div",{className:"flex bg-slate-100 p-1 rounded-[15px] border border-slate-200 w-fit overflow-x-auto no-scrollbar",children:h.map(g=>s.jsx("button",{onClick:()=>r(g),className:`px-6 py-2.5 rounded-[15px] text-xs font-bold whitespace-nowrap transition-all ${n===g?"bg-white text-emerald-700 shadow-sm":"text-slate-500 hover:text-emerald-600"}`,children:g},g))}),i?s.jsxs("div",{className:"py-20 flex flex-col items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mb-4"}),s.jsx("p",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:"Mining success data..."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(g=>s.jsxs("div",{onClick:()=>d(g),className:"bg-white rounded-[15px] border border-slate-200 overflow-hidden shadow-sm hover:border-emerald-300 transition-all group cursor-pointer",children:[s.jsxs("div",{className:"relative h-64",children:[s.jsx("img",{src:g.imageUrl,alt:g.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/60 to-transparent"}),s.jsxs("div",{className:"absolute bottom-6 left-6 right-6",children:[s.jsx("span",{className:"px-2 py-1 bg-emerald-500 text-white text-[9px] font-black uppercase tracking-widest rounded-[15px]",children:g.category}),s.jsx("h3",{className:"text-xl font-black text-white mt-2 leading-tight",children:g.title})]})]}),s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center font-black text-slate-400",children:g.farmerName.charAt(0)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-black text-slate-900",children:g.farmerName}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase",children:g.location})]})]}),s.jsxs("p",{className:"text-sm text-slate-500 font-medium leading-relaxed line-clamp-2 italic",children:['"',g.result,'"']}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:g.metrics.slice(0,2).map((y,N)=>s.jsxs("div",{className:"p-3 bg-emerald-50 rounded-[15px] border border-emerald-100",children:[s.jsx("div",{className:"text-xs font-black text-emerald-700",children:y.value}),s.jsx("div",{className:"text-[9px] text-emerald-600 font-bold uppercase tracking-tight",children:y.label})]},N))}),s.jsxs("div",{className:"pt-6 border-t border-slate-50 flex justify-between items-center",children:[s.jsxs("div",{className:"flex space-x-4 text-slate-400",children:[s.jsxs("span",{className:"flex items-center space-x-1 text-[10px] font-bold",children:[s.jsx("i",{"data-lucide":"heart",className:"w-3 h-3"})," ",s.jsx("span",{children:g.likes})]}),s.jsxs("span",{className:"flex items-center space-x-1 text-[10px] font-bold",children:[s.jsx("i",{"data-lucide":"share-2",className:"w-3 h-3"})," ",s.jsx("span",{children:g.shares})]})]}),s.jsxs("button",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest flex items-center space-x-2",children:[s.jsx("span",{children:"Read Case Study"}),s.jsx("i",{"data-lucide":"arrow-right",className:"w-3 h-3"})]})]})]})]},g.id))}),f&&s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-950/60 backdrop-blur-md",onClick:()=>d(null)}),s.jsxs("div",{className:"relative bg-white w-full max-w-5xl h-[90vh] rounded-[15px] overflow-hidden shadow-2xl flex flex-col lg:flex-row animate-scale-up",children:[s.jsxs("div",{className:"lg:w-2/5 relative h-64 lg:h-auto shrink-0",children:[s.jsx("img",{src:f.imageUrl,className:"w-full h-full object-cover",alt:""}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 to-transparent lg:hidden"}),s.jsx("button",{onClick:()=>d(null),className:"absolute top-8 left-8 p-3 bg-white/20 backdrop-blur-md text-white rounded-[15px] hover:bg-white/40 transition-all",children:s.jsx("i",{"data-lucide":"arrow-left",className:"w-6 h-6"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-8 lg:p-16 space-y-12 no-scrollbar",children:[s.jsxs("header",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-600 rounded-[15px] text-[10px] font-black uppercase tracking-widest border border-emerald-100",children:f.category}),s.jsxs("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:[f.cropType," Focus"]})]}),s.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-tighter leading-tight",children:f.title}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-[15px] flex items-center justify-center font-black text-slate-400",children:f.farmerName.charAt(0)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-base font-black text-slate-900",children:f.farmerName}),s.jsx("div",{className:"text-xs text-slate-400 font-bold uppercase",children:f.location})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:f.metrics.map((g,y)=>s.jsxs("div",{className:"p-6 bg-slate-50 rounded-[15px] border border-slate-100",children:[s.jsx("div",{className:"text-3xl font-black text-emerald-600",children:g.value}),s.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:g.label}),s.jsx("p",{className:"text-[10px] text-slate-500 font-bold leading-tight",children:g.improvement})]},y))}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("section",{className:"space-y-4",children:[s.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"The Challenge"}),s.jsxs("p",{className:"text-lg text-slate-600 font-medium leading-relaxed italic",children:['"',f.problem,'"']})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"The AI Solution"}),s.jsx("p",{className:"text-lg text-slate-800 font-bold leading-relaxed",children:f.solution})]}),f.beforeImageUrl&&s.jsxs("section",{className:"space-y-6",children:[s.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Visual Impact (Before vs After)"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:f.beforeImageUrl,className:"rounded-[15px] h-48 w-full object-cover grayscale opacity-60 group-hover:grayscale-0 group-hover:opacity-100 transition-all",alt:"Before"}),s.jsx("span",{className:"absolute bottom-4 left-4 px-2 py-1 bg-black/40 text-white text-[8px] font-bold uppercase rounded-[15px]",children:"Before Intervention"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:f.imageUrl,className:"rounded-[15px] h-48 w-full object-cover",alt:"After"}),s.jsx("span",{className:"absolute bottom-4 left-4 px-2 py-1 bg-emerald-600 text-white text-[8px] font-bold uppercase rounded-[15px]",children:"After AI Optimization"})]})]})]}),s.jsxs("section",{className:"space-y-6",children:[s.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Implementation Blueprint"}),s.jsx("div",{className:"space-y-4",children:f.steps.map((g,y)=>s.jsxs("div",{className:"flex items-start space-x-6 p-6 bg-slate-50 rounded-[15px]",children:[s.jsxs("div",{className:"w-10 h-10 bg-white rounded-[15px] flex items-center justify-center font-black text-emerald-600 shadow-sm border border-slate-100 shrink-0",children:["0",y+1]}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-black text-slate-900 mb-1",children:g.title}),s.jsx("p",{className:"text-xs text-slate-500 font-medium leading-relaxed",children:g.description})]})]},y))})]})]}),s.jsx("footer",{className:"pt-10 border-t border-slate-100 flex flex-wrap gap-4 justify-between items-center",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{className:"flex items-center space-x-3 px-8 py-4 bg-emerald-600 text-white rounded-[15px] font-black text-xs uppercase tracking-widest shadow-xl shadow-emerald-100 hover:bg-emerald-700 transition-all active:scale-95",children:[s.jsx("i",{"data-lucide":"heart",className:"w-4 h-4"}),s.jsx("span",{children:"Like Story"})]}),s.jsxs("button",{className:"flex items-center space-x-3 px-8 py-4 bg-white border border-slate-200 text-slate-600 rounded-[15px] font-black text-xs uppercase tracking-widest hover:bg-slate-50 transition-all active:scale-95",children:[s.jsx("i",{"data-lucide":"share-2",className:"w-4 h-4"}),s.jsx("span",{children:"Share Blueprint"})]})]})})]})]})]}),o&&s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-950/60 backdrop-blur-md",onClick:()=>c(!1)}),s.jsxs("div",{className:"relative bg-white w-full max-w-2xl rounded-[15px] p-12 shadow-2xl animate-scale-up",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Share Your Success"}),s.jsx("button",{onClick:()=>c(!1),className:"p-3 bg-slate-50 text-slate-400 hover:text-red-500 rounded-2xl transition-all",children:s.jsx("i",{"data-lucide":"x",className:"w-6 h-6"})})]}),s.jsx("p",{className:"text-slate-500 font-medium mb-8",children:"Inspire the Nashik community by sharing how climate-smart tech improved your harvest. We'll help you format it into a replicable blueprint."}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Title of Your Story"}),s.jsx("input",{type:"text",placeholder:"e.g. My journey with automated irrigation",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl font-bold"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Key Improvement (%)"}),s.jsx("input",{type:"number",placeholder:"e.g. 25",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl font-bold"})]}),s.jsx("button",{onClick:()=>c(!1),className:"w-full py-5 bg-emerald-600 text-white rounded-[15px] font-black text-sm uppercase tracking-widest hover:bg-emerald-700 transition-all shadow-xl shadow-emerald-100",children:"Complete Submission"})]})]})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-slide-up { animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-scale-up { animation: scale-up 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slide-up { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes scale-up { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
      `})]})};let Fv=[{id:"sch-1",name:"MahaDBT Drip Irrigation Subsidy",authority:"State",category:"Irrigation",description:"Up to 80% subsidy for small and marginal farmers for installing drip irrigation systems in Nashik region.",subsidyPercent:80,maxBenefit:"65,000 per acre",eligibility:{maxLandSize:5,cropTypes:["Grape","Onion","Tomato","Horticulture"]},documents:["7/12 Extract","Aadhar Card","Bank Passbook","Quotation from Authorized Dealer"],officialUrl:"https://mahadbt.maharashtra.gov.in/",impactScore:5},{id:"sch-2",name:"PM-Kisan Samman Nidhi",authority:"Central",category:"Subsidy",description:"Direct income support of 6,000 per year in three equal installments to all land-holding farmer families.",maxBenefit:"6,000 per year",eligibility:{cropTypes:["All"]},documents:["Land Records","Aadhar","Bank Account"],officialUrl:"https://pmkisan.gov.in/",impactScore:4},{id:"sch-3",name:"Magel Tyala Shet-Tale (Farm Pond)",authority:"State",category:"Irrigation",description:"Assistance for digging farm ponds to ensure protective irrigation during dry spells.",maxBenefit:"50,000 subsidy",eligibility:{maxLandSize:10,cropTypes:["All"]},documents:["7/12","8-A","Caste Certificate (if applicable)"],officialUrl:"https://krishi.maharashtra.gov.in/",impactScore:5},{id:"sch-4",name:"SMAM: Farm Equipment Subsidy",authority:"Central",category:"Equipment",description:"Subsidy for purchasing tractors, tillers, and sprayers for modernizing farm operations.",subsidyPercent:50,maxBenefit:"Up to 2.5 Lakhs",eligibility:{cropTypes:["All"]},documents:["Aadhar","Photo","Land documents","Voter ID"],officialUrl:"https://farmech.dac.gov.in/",impactScore:3}],QI=[{id:"app-1",schemeId:"sch-1",schemeName:"MahaDBT Drip Subsidy",status:"Verified",appliedDate:"2024-02-15",trackingNumber:"MH-NSK-2024-9021",nextStep:"Field Inspection by Taluka Agriculture Officer",lastUpdate:"2024-03-10"}];const wd={getSchemes:async()=>he.wrapSuccess(Fv),getRecommended:async t=>{const e=Fv.filter(n=>{const r=!n.eligibility.maxLandSize||t.farmDetails.size<=n.eligibility.maxLandSize,i=n.eligibility.cropTypes.includes("All")||t.farmDetails.crops.some(a=>n.eligibility.cropTypes.includes(a));return r&&i});return he.wrapSuccess(e.sort((n,r)=>r.impactScore-n.impactScore))},getApplications:async t=>he.wrapSuccess(QI),applyForScheme:async t=>{const e=Fv.find(r=>r.id===t),n={id:Math.random().toString(36).substr(2,9),schemeId:t,schemeName:e?.name||"New Application",status:"Submitted",appliedDate:new Date().toISOString().split("T")[0],lastUpdate:new Date().toISOString().split("T")[0],nextStep:"Document verification by District Office"};return QI.unshift(n),he.wrapSuccess(n)}},aae=({user:t})=>{const[e,n]=R.useState("matches"),[r,i]=R.useState([]),[a,o]=R.useState([]),[c,f]=R.useState([]),[d,p]=R.useState(!0),[h,g]=R.useState(null);R.useEffect(()=>{y()},[]),R.useEffect(()=>{const w=window;w.lucide&&w.lucide.createIcons()},[d,r,a,c,e,h]);const y=async()=>{p(!0);const[w,j,T]=await Promise.all([wd.getSchemes(),wd.getRecommended(t),wd.getApplications(t.userId)]);w.success&&i(w.data||[]),j.success&&o(j.data||[]),T.success&&f(T.data||[]),p(!1)},N=async w=>{(await wd.applyForScheme(w)).success&&(alert("Application successfully submitted to the portal draft. Complete your document upload on the official site."),y(),g(null))},S=w=>{switch(w){case"Approved":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"Verified":return"bg-blue-100 text-blue-700 border-blue-200";case"Submitted":return"bg-amber-100 text-amber-700 border-amber-200";case"Rejected":return"bg-rose-100 text-rose-700 border-rose-200";default:return"bg-slate-100 text-slate-500"}};return d?s.jsxs("div",{className:"flex flex-col items-center justify-center py-40",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mb-6"}),s.jsx("p",{className:"text-slate-500 font-black uppercase tracking-widest text-xs animate-pulse",children:"Scanning Portals for Subsidies..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-24 animate-fade-in",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter leading-none",children:"Scheme Concierge"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Personalized government support and subsidy management"})]}),s.jsx("div",{className:"flex bg-slate-100 p-1 rounded-2xl border border-slate-200 w-fit overflow-x-auto no-scrollbar",children:[{id:"matches",label:"Recommended",icon:"sparkles"},{id:"all",label:"All Schemes",icon:"layout-grid"},{id:"applications",label:"My Requests",icon:"file-text"}].map(w=>s.jsxs("button",{onClick:()=>n(w.id),className:`flex items-center space-x-2 shrink-0 px-6 py-2.5 rounded-xl text-[10px] font-black uppercase transition-all ${e===w.id?"bg-white text-emerald-700 shadow-sm":"text-slate-400 hover:text-emerald-600"}`,children:[s.jsx("i",{"data-lucide":w.icon,className:"w-3.5 h-3.5"}),s.jsx("span",{children:w.label})]},w.id))})]}),e==="matches"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 p-8 rounded-[40px] flex items-center space-x-8",children:[s.jsx("div",{className:"w-16 h-16 bg-white rounded-3xl flex items-center justify-center shadow-sm shrink-0",children:s.jsx("i",{"data-lucide":"check-circle",className:"w-8 h-8 text-emerald-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black text-emerald-900 tracking-tight",children:"Smart Match Active"}),s.jsxs("p",{className:"text-sm text-emerald-800 leading-relaxed font-medium",children:["We've identified ",s.jsxs("span",{className:"font-black underline",children:[a.length," schemes"]})," where you meet 100% of the eligibility criteria based on your ",t.farmDetails.size," acre farm and crops."]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 animate-slide-up",children:a.map(w=>s.jsxs("div",{onClick:()=>g(w),className:"bg-white p-8 rounded-[40px] border border-slate-200 shadow-sm hover:border-emerald-300 transition-all group cursor-pointer relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-emerald-500/5 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase tracking-widest border ${w.authority==="Central"?"bg-orange-50 text-orange-600 border-orange-100":"bg-blue-50 text-blue-600 border-blue-100"}`,children:[w.authority," Scheme"]}),s.jsxs("div",{className:"flex items-center text-emerald-600 space-x-1",children:[s.jsx("i",{"data-lucide":"award",className:"w-3 h-3"}),s.jsx("span",{className:"text-[8px] font-black uppercase",children:"Top Match"})]})]}),s.jsx("h3",{className:"text-xl font-black text-slate-900 leading-tight mb-4 group-hover:text-emerald-700 transition-colors",children:w.name}),s.jsxs("div",{className:"space-y-2 mb-8",children:[s.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Max Benefit"}),s.jsx("div",{className:"text-2xl font-black text-slate-900",children:w.maxBenefit})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:s.jsx("span",{className:"px-3 py-1 bg-slate-50 text-slate-500 text-[9px] font-bold uppercase tracking-widest rounded-lg border border-slate-100",children:w.category})}),s.jsx("button",{className:"w-full py-4 bg-slate-50 text-slate-400 font-black text-[10px] uppercase tracking-widest rounded-2xl group-hover:bg-emerald-600 group-hover:text-white transition-all shadow-sm",children:"Check Requirements"})]},w.id))})]}),e==="all"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 animate-slide-up",children:r.map(w=>s.jsxs("div",{onClick:()=>g(w),className:"bg-white p-8 rounded-[40px] border border-slate-200 shadow-sm hover:border-emerald-300 transition-all group cursor-pointer",children:[s.jsx("div",{className:"flex justify-between items-start mb-6",children:s.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase tracking-widest border ${w.authority==="Central"?"bg-orange-50 text-orange-600 border-orange-100":"bg-blue-50 text-blue-600 border-blue-100"}`,children:w.authority})}),s.jsx("h3",{className:"text-lg font-black text-slate-900 leading-tight mb-4",children:w.name}),s.jsx("p",{className:"text-xs text-slate-500 line-clamp-2 mb-6 font-medium leading-relaxed",children:w.description}),s.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-slate-50",children:[s.jsx("span",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest",children:w.maxBenefit}),s.jsx("i",{"data-lucide":"arrow-right",className:"w-4 h-4 text-slate-300 group-hover:text-emerald-500 transition-all group-hover:translate-x-1"})]})]},w.id))}),e==="applications"&&s.jsx("div",{className:"space-y-6 animate-slide-up",children:c.length>0?s.jsx("div",{className:"bg-white rounded-[48px] border border-slate-200 shadow-sm overflow-hidden overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[s.jsx("th",{className:"px-10 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Application Details"}),s.jsx("th",{className:"px-10 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Current Status"}),s.jsx("th",{className:"px-10 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Next Step"}),s.jsx("th",{className:"px-10 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Applied Date"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-50",children:c.map(w=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsxs("td",{className:"px-10 py-8",children:[s.jsx("div",{className:"text-sm font-black text-slate-900",children:w.schemeName}),s.jsxs("div",{className:"text-[10px] text-slate-400 font-bold tracking-tight",children:["Ref: ",w.trackingNumber||"--"]})]}),s.jsx("td",{className:"px-10 py-8",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${S(w.status)}`,children:w.status})}),s.jsx("td",{className:"px-10 py-8",children:s.jsx("div",{className:"text-xs font-bold text-slate-600 max-w-xs",children:w.nextStep})}),s.jsx("td",{className:"px-10 py-8 text-right",children:s.jsx("div",{className:"text-sm font-black text-slate-400",children:w.appliedDate})})]},w.id))})]})}):s.jsxs("div",{className:"py-40 text-center bg-white rounded-[48px] border-2 border-dashed border-slate-200",children:[s.jsx("i",{"data-lucide":"file-x",className:"w-12 h-12 text-slate-200 mx-auto mb-6"}),s.jsx("h3",{className:"text-xl font-black text-slate-900",children:"No active applications"}),s.jsx("p",{className:"text-slate-400 font-medium max-w-xs mx-auto mt-2",children:"Any applications you start through the Concierge will appear here for tracking."})]})}),h&&s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-950/60 backdrop-blur-md",onClick:()=>g(null)}),s.jsxs("div",{className:"relative bg-white w-full max-w-3xl rounded-[56px] overflow-hidden shadow-2xl animate-scale-up max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"p-12 pb-6 border-b border-slate-50 relative shrink-0",children:[s.jsx("button",{onClick:()=>g(null),className:"absolute top-8 right-8 p-3 bg-slate-50 text-slate-400 hover:text-rose-600 rounded-2xl transition-all",children:s.jsx("i",{"data-lucide":"x",className:"w-6 h-6"})}),s.jsxs("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest border mb-4 inline-block ${h.authority==="Central"?"bg-orange-50 text-orange-600 border-orange-100":"bg-blue-50 text-blue-600 border-blue-100"}`,children:[h.authority," Government"]}),s.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight leading-tight pr-12",children:h.name})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-12 space-y-10 no-scrollbar",children:[s.jsxs("section",{className:"space-y-4",children:[s.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Objective"}),s.jsxs("p",{className:"text-lg text-slate-600 font-medium leading-relaxed italic",children:['"',h.description,'"']})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("section",{className:"space-y-6",children:[s.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Document Checklist"}),s.jsx("div",{className:"space-y-3",children:h.documents.map((w,j)=>s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[s.jsx("div",{className:"w-6 h-6 bg-white rounded-lg flex items-center justify-center border border-slate-200",children:s.jsx("i",{"data-lucide":"file",className:"w-3.5 h-3.5 text-slate-400"})}),s.jsx("span",{className:"text-xs font-bold text-slate-700",children:w})]},j))})]}),s.jsxs("section",{className:"space-y-6",children:[s.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Eligibility Analysis"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs pb-3 border-b border-slate-50",children:[s.jsx("span",{className:"text-slate-500 font-medium",children:"Land Limit"}),s.jsx("span",{className:"font-black text-slate-900",children:h.eligibility.maxLandSize?`${h.eligibility.maxLandSize} Acres`:"No Limit"})]}),s.jsxs("div",{className:"flex justify-between items-center text-xs pb-3 border-b border-slate-50",children:[s.jsx("span",{className:"text-slate-500 font-medium",children:"Crop Types"}),s.jsx("span",{className:"font-black text-slate-900",children:h.eligibility.cropTypes.join(", ")})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-[10px] font-black text-emerald-600 uppercase pt-2",children:[s.jsx("i",{"data-lucide":"check",className:"w-4 h-4"}),s.jsx("span",{children:"You qualify for this scheme"})]})]})]})]}),s.jsxs("div",{className:"bg-slate-900 p-8 rounded-[40px] text-white",children:[s.jsx("h3",{className:"text-lg font-black tracking-tight mb-4",children:"Benefit Projection"}),s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Potential Subsidy"}),s.jsx("div",{className:"text-4xl font-black text-emerald-400",children:h.maxBenefit})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"ROI Boost"}),s.jsx("div",{className:"text-2xl font-black text-white",children:"+24%"})]})]})]})]}),s.jsx("footer",{className:"p-12 pt-0 shrink-0",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>N(h.id),className:"flex-1 py-5 bg-emerald-600 text-white rounded-[32px] font-black text-lg hover:bg-emerald-700 transition-all shadow-xl shadow-emerald-100",children:"Initialize Direct Apply"}),s.jsx("a",{href:h.officialUrl,target:"_blank",rel:"noreferrer",className:"px-10 py-5 border-2 border-slate-100 text-slate-400 rounded-[32px] font-black text-lg hover:bg-slate-50 hover:text-slate-600 transition-all flex items-center justify-center",children:"Portal"})]})})]})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-slide-up { animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-scale-up { animation: scale-up 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slide-up { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes scale-up { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .no-scrollbar::-webkit-scrollbar { display: none; }
      `})]})},sae=()=>{const[t,e]=R.useState("Onion"),[n,r]=R.useState("Regular Hybrid"),[i,a]=R.useState([]),[o,c]=R.useState([]),[f,d]=R.useState([]),[p,h]=R.useState(!0),[g,y]=R.useState("90d");R.useEffect(()=>{N()},[t,n]),R.useEffect(()=>{const w=window;w.lucide&&w.lucide.createIcons()},[p,i,o,f]);const N=async()=>{h(!0);const[w,j,T]=await Promise.all([Kn.getAdvancedTrendData(t,n),Kn.getYoYSeasonality(t),Kn.getMarketArbitrage(t,"Nashik")]);w.success&&a(w.data||[]),j.success&&c(j.data||[]),T.success&&d(T.data||[]),h(!1)},S=()=>{const w=`data:text/csv;charset=utf-8,Date,Price,SMA7,SMA30
`+i.map(C=>`${C.date},${C.modalPrice},${C.sma7},${C.sma30}`).join(`
`),j=encodeURI(w),T=document.createElement("a");T.setAttribute("href",j),T.setAttribute("download",`${t}_Price_Report.csv`),document.body.appendChild(T),T.click(),document.body.removeChild(T)};return p?s.jsxs("div",{className:"flex flex-col items-center justify-center h-96 space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"}),s.jsx("p",{className:"text-slate-500 font-black uppercase tracking-widest text-xs animate-pulse",children:"Running Regression Models..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-24 animate-fade-in",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Price Trend Intelligence"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Statistical analysis of Nashik regional markets"})]}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("select",{value:t,onChange:w=>e(w.target.value),className:"px-6 py-3 bg-white border border-slate-200 rounded-2xl text-xs font-black uppercase tracking-widest shadow-sm outline-none focus:ring-2 focus:ring-emerald-500",children:[s.jsx("option",{children:"Onion"}),s.jsx("option",{children:"Grape"}),s.jsx("option",{children:"Tomato"})]}),s.jsxs("button",{onClick:S,className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-emerald-600 transition-all flex items-center space-x-2",children:[s.jsx("i",{"data-lucide":"download",className:"w-4 h-4"}),s.jsx("span",{children:"Export CSV"})]})]})]}),s.jsxs("div",{className:"bg-white p-12 rounded-[56px] border border-slate-200 shadow-sm relative overflow-hidden group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-emerald-500/5 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"flex justify-between items-start mb-12",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Price Volatility & SMAs"}),s.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-[0.2em] mt-1",children:"90-Day Trend with Moving Average Regression"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-black text-emerald-600",children:"2,450"}),s.jsx("div",{className:"text-[9px] text-slate-400 font-bold uppercase",children:"Current Modal"})]}),s.jsx("div",{className:`p-3 rounded-2xl border ${i[i.length-1].modalPrice>i[i.length-1].sma30?"bg-emerald-50 border-emerald-100 text-emerald-600":"bg-rose-50 border-rose-100 text-rose-600"}`,children:s.jsx("i",{"data-lucide":i[i.length-1].modalPrice>i[i.length-1].sma30?"trending-up":"trending-down",className:"w-6 h-6"})})]})]}),s.jsx("div",{className:"h-[450px]",children:s.jsx(Dt,{width:"100%",height:"100%",children:s.jsxs(Zw,{data:i,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"modalGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.1}),s.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),s.jsx(gn,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),s.jsx(Lt,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:"bold"}}),s.jsx($t,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10},unit:""}),s.jsx(mt,{contentStyle:{borderRadius:"24px",border:"none",boxShadow:"0 25px 50px -12px rgb(0 0 0 / 0.1)"}}),s.jsx(Ir,{verticalAlign:"top",align:"right",wrapperStyle:{paddingBottom:"20px",fontSize:"10px",fontWeight:"900",textTransform:"uppercase"}}),s.jsx(Xt,{type:"monotone",name:"Modal Price",dataKey:"modalPrice",fill:"url(#modalGradient)",stroke:"#10b981",strokeWidth:4}),s.jsx(ci,{type:"monotone",name:"7d SMA",dataKey:"sma7",stroke:"#3b82f6",strokeWidth:2,dot:!1,strokeDasharray:"5 5"}),s.jsx(ci,{type:"monotone",name:"30d SMA",dataKey:"sma30",stroke:"#f59e0b",strokeWidth:2,dot:!1})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white p-10 rounded-[48px] border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-10",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Year-over-Year Shift"}),s.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-1",children:"Comparison with Previous Cycle"})]}),s.jsx("div",{className:"px-3 py-1 bg-amber-50 text-amber-600 rounded-lg text-[9px] font-black uppercase",children:"Seasonal Context"})]}),s.jsx("div",{className:"h-72",children:s.jsx(Dt,{width:"100%",height:"100%",children:s.jsxs(Ba,{data:o,children:[s.jsx(gn,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),s.jsx(Lt,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:"bold"}}),s.jsx($t,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10},unit:""}),s.jsx(mt,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),s.jsx(Ir,{iconType:"circle",wrapperStyle:{fontSize:"9px",fontWeight:"bold"}}),s.jsx(sn,{name:"2024 (Current)",dataKey:"currentYear",fill:"#10b981",radius:[4,4,0,0],barSize:12}),s.jsx(sn,{name:"2023 (Previous)",dataKey:"previousYear",fill:"#cbd5e1",radius:[4,4,0,0],barSize:12})]})})}),s.jsxs("div",{className:"mt-8 p-6 bg-slate-50 rounded-3xl border border-slate-100 flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center shrink-0 shadow-sm",children:s.jsx("i",{"data-lucide":"lightbulb",className:"w-5 h-5 text-amber-500"})}),s.jsxs("p",{className:"text-xs text-slate-600 font-medium leading-relaxed italic",children:['"Historically, ',t,' prices in Nashik peak during Oct-Nov due to post-monsoon supply gaps. Consider storage solutions for 15% higher returns."']})]})]}),s.jsxs("div",{className:"bg-slate-900 p-10 rounded-[48px] text-white shadow-2xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-emerald-500/10 rounded-full blur-[80px]"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-10",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black tracking-tight",children:"Mandi Arbitrage Engine"}),s.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest mt-1",children:"Best Selling Destination (Net After Transport)"})]}),s.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"truck",className:"w-5 h-5 text-emerald-400"})})]}),s.jsx("div",{className:"space-y-4",children:f.sort((w,j)=>j.netPrice-w.netPrice).map((w,j)=>s.jsxs("div",{className:`p-5 rounded-3xl border transition-all flex items-center justify-between ${j===0?"bg-emerald-500/10 border-emerald-500/30":"bg-white/5 border-white/10"}`,children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-black text-xs ${j===0?"bg-emerald-500 text-white":"bg-white/10 text-slate-400"}`,children:j+1}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-black",children:w.mandiName}),s.jsxs("div",{className:"text-[9px] text-slate-400 font-bold uppercase",children:[w.distanceKm," km away"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-lg font-black ${j===0?"text-emerald-400":"text-white"}`,children:["",w.netPrice]}),s.jsx("div",{className:"text-[9px] text-slate-500 font-bold uppercase",children:"Estimated Net"})]})]},j))}),s.jsx("button",{className:"w-full mt-10 py-5 bg-white text-slate-950 rounded-3xl font-black text-sm uppercase tracking-widest hover:bg-emerald-400 transition-all active:scale-95 shadow-xl",children:"Book Transport Partner"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{label:"Volatility Index",value:"High",sub:"Fluctuation > 12%",icon:"activity",color:"text-rose-400",bg:"bg-rose-500/10"},{label:"Demand Signal",value:"Strong",sub:"High Buyer Interest",icon:"zap",color:"text-emerald-400",bg:"bg-emerald-500/10"},{label:"Best Time to Sell",value:"7 Days",sub:"Projected Peak",icon:"clock",color:"text-blue-400",bg:"bg-blue-500/10"}].map((w,j)=>s.jsxs("div",{className:"bg-slate-950 p-8 rounded-[40px] text-white space-y-4",children:[s.jsx("div",{className:`w-12 h-12 ${w.bg} ${w.color} rounded-2xl flex items-center justify-center mb-6`,children:s.jsx("i",{"data-lucide":w.icon,className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-black uppercase opacity-40 mb-1",children:w.label}),s.jsx("div",{className:"text-2xl font-black tracking-tight",children:w.value}),s.jsx("div",{className:"text-[10px] font-bold text-slate-500 mt-2",children:w.sub})]})]},j))}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-slide-up { animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slide-up { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
      `})]})},oae={getForecast:async(t,e)=>{const n=e==="7d"?7:15,r=t==="Onion"?2450:t==="Grape"?7500:1800,i=[{feature:"Export Demand (UAE/Europe)",weight:.42,impact:"positive"},{feature:"Lasalgaon Mandi Arrivals",weight:.28,impact:"negative"},{feature:"Fuel Prices (Transport Cost)",weight:.15,impact:"negative"},{feature:"Monsoon Soil Moisture (Crop Stress)",weight:.1,impact:"positive"},{feature:"Festival Proximity (Diwali/Holi)",weight:.05,impact:"positive"}],a=Array.from({length:n}).map((c,f)=>{const d=new Date(Date.now()+(f+1)*864e5).toISOString().split("T")[0],p=Math.sin(f*.5)*(r*.05),h=r+p+Math.random()*50;return{date:d,predictedPrice:Math.round(h),confidenceUpper:Math.round(h*1.08),confidenceLower:Math.round(h*.92)}}),o={cropId:"c-predict-99",cropType:t,timeframe:e,predictions:a,metrics:{mape:4.8,baselineMape:12.5,lastRetrained:new Date(Date.now()-864e5*2).toISOString()},explainability:i};return he.wrapSuccess(o)}},lae=()=>{const[t,e]=R.useState(null),[n,r]=R.useState("Onion"),[i,a]=R.useState("15d"),[o,c]=R.useState(!0);R.useEffect(()=>{f()},[n,i]),R.useEffect(()=>{const d=window;d.lucide&&d.lucide.createIcons()},[o,t]);const f=async()=>{c(!0);const d=await oae.getForecast(n,i);d.success&&e(d.data||null),c(!1)};return o?s.jsxs("div",{className:"flex flex-col items-center justify-center py-40",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mb-6"}),s.jsx("p",{className:"text-slate-500 font-black uppercase tracking-widest text-xs animate-pulse",children:"Running Vertex AI AutoML Inference..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-24 animate-fade-in",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-blue-50 text-blue-600 border border-blue-100 text-[10px] font-black uppercase tracking-widest mb-4",children:[s.jsx("i",{"data-lucide":"cpu",className:"w-3 h-3 mr-2"}),"Vertex AI Prediction Active"]}),s.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:"Market Price Forecast"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Predictive time-series modeling for Nashik Mandis"})]}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("select",{value:n,onChange:d=>r(d.target.value),className:"px-6 py-3 bg-white border border-slate-200 rounded-2xl text-xs font-black uppercase tracking-widest shadow-sm outline-none focus:ring-2 focus:ring-emerald-500",children:[s.jsx("option",{children:"Onion"}),s.jsx("option",{children:"Grape"}),s.jsx("option",{children:"Tomato"})]}),s.jsx("div",{className:"flex bg-slate-100 p-1 rounded-2xl border border-slate-200",children:["7d","15d"].map(d=>s.jsxs("button",{onClick:()=>a(d),className:`px-6 py-2 rounded-xl text-[10px] font-black uppercase transition-all ${i===d?"bg-white text-emerald-700 shadow-sm":"text-slate-400 hover:text-emerald-600"}`,children:[d," Forecast"]},d))})]})]}),s.jsxs("div",{className:"bg-white p-12 rounded-[56px] border border-slate-200 shadow-sm relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-blue-500/5 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"flex justify-between items-start mb-12",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Price Trajectory"}),s.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-[0.2em] mt-1",children:"95% Confidence Interval Band ( per Quintal)"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase",children:"Model Accuracy (MAPE)"}),s.jsxs("div",{className:"text-3xl font-black text-emerald-600",children:[t?.metrics.mape,"%"]})]})]}),s.jsx("div",{className:"h-[450px]",children:s.jsx(Dt,{width:"100%",height:"100%",children:s.jsxs(Zw,{data:t?.predictions,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"confidenceBand",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.1}),s.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.02})]})}),s.jsx(gn,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),s.jsx(Lt,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:"bold"}}),s.jsx($t,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10},unit:""}),s.jsx(mt,{contentStyle:{borderRadius:"24px",border:"none",boxShadow:"0 25px 50px -12px rgb(0 0 0 / 0.1)"}}),s.jsx(Ir,{verticalAlign:"top",align:"right",wrapperStyle:{paddingBottom:"20px",fontSize:"10px",fontWeight:"900",textTransform:"uppercase"}}),s.jsx(Xt,{name:"95% Confidence",dataKey:"confidenceUpper",fill:"url(#confidenceBand)",stroke:"none"}),s.jsx(Xt,{name:"95% Confidence",dataKey:"confidenceLower",fill:"#fff",stroke:"none"}),s.jsx(ci,{type:"monotone",name:"Predicted Price",dataKey:"predictedPrice",stroke:"#2563eb",strokeWidth:4,dot:{r:4,fill:"#2563eb",strokeWidth:2,stroke:"#fff"}})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white p-10 rounded-[48px] border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-10",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Model Explainability"}),s.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-1",children:"Factors Driving this Forecast"})]}),s.jsx("div",{className:"p-3 bg-slate-50 rounded-xl",children:s.jsx("i",{"data-lucide":"eye",className:"w-5 h-5 text-slate-400"})})]}),s.jsx("div",{className:"space-y-6",children:t?.explainability.map((d,p)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-[11px] font-black uppercase tracking-tight",children:[s.jsx("span",{className:"text-slate-600",children:d.feature}),s.jsxs("span",{className:d.impact==="positive"?"text-emerald-600":"text-rose-600",children:[d.impact==="positive"?"+":"-",Math.round(d.weight*100),"%"]})]}),s.jsx("div",{className:"w-full bg-slate-50 h-2 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${d.impact==="positive"?"bg-emerald-400":"bg-rose-400"}`,style:{width:`${d.weight*100}%`}})})]},p))}),s.jsxs("div",{className:"mt-8 p-6 bg-blue-50 rounded-3xl border border-blue-100 flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center shrink-0 shadow-sm",children:s.jsx("i",{"data-lucide":"zap",className:"w-5 h-5 text-blue-500"})}),s.jsxs("p",{className:"text-xs text-blue-700 font-medium leading-relaxed",children:[s.jsx("strong",{children:"AI Insight:"})," UAE export demand is offsetting local arrival spikes. Prices likely to remain resilient despite increased Lasalgaon volume."]})]})]}),s.jsxs("div",{className:"bg-slate-900 p-10 rounded-[48px] text-white shadow-2xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-emerald-500/10 rounded-full blur-[80px]"}),s.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[s.jsxs("div",{className:"flex justify-between items-center mb-10",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black tracking-tight",children:"Governance & Drift"}),s.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest mt-1",children:"Continuous Training Pipeline"})]}),s.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"shield-check",className:"w-5 h-5 text-emerald-400"})})]}),s.jsxs("div",{className:"flex-1 space-y-10",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-6 bg-white/5 rounded-3xl border border-white/10",children:[s.jsx("div",{className:"text-[10px] font-black uppercase opacity-40 mb-2",children:"Vertex vs Baseline"}),s.jsx("div",{className:"text-3xl font-black text-emerald-400",children:"2.6x"}),s.jsx("div",{className:"text-[9px] text-slate-400 font-bold uppercase mt-1",children:"Precision Gain"})]}),s.jsxs("div",{className:"p-6 bg-white/5 rounded-3xl border border-white/10",children:[s.jsx("div",{className:"text-[10px] font-black uppercase opacity-40 mb-2",children:"Last Retrained"}),s.jsx("div",{className:"text-xl font-black text-white",children:"48h Ago"}),s.jsx("div",{className:"text-[9px] text-slate-400 font-bold uppercase mt-1",children:"Automated Cycle"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"ML Pipeline Status"}),s.jsx("div",{className:"space-y-3",children:[{label:"Data Ingestion",status:"Healthy",color:"bg-emerald-400"},{label:"Feature Engineering",status:"Healthy",color:"bg-emerald-400"},{label:"Hyperparameter Tuning",status:"Optimized",color:"bg-blue-400"},{label:"Model Evaluation",status:"94.2% Acc",color:"bg-emerald-400"}].map((d,p)=>s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"text-slate-400 font-medium",children:d.label}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-bold",children:d.status}),s.jsx("div",{className:`w-2 h-2 rounded-full ${d.color} animate-pulse`})]})]},p))})]})]}),s.jsx("button",{className:"w-full mt-12 py-5 bg-white text-slate-950 rounded-3xl font-black text-sm uppercase tracking-widest hover:bg-emerald-400 transition-all active:scale-95 shadow-xl",children:"Download Evaluation Report (PDF)"})]})]})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
      `})]})},cae={getAnalysis:async t=>{const e=Array.from({length:10}).map((r,i)=>{const a=2014+i,c=23.8+i*.12+(Math.random()*1.2-.6),f=650+(Math.random()*500-200);return{year:a,avgTemp:c,totalRainfall:f,extremeEvents:Math.floor(Math.random()*5)+(i>7?2:0),monthlyRainfall:Array.from({length:12}).map((d,p)=>p>=5&&p<=8?f*.2+Math.random()*50:p===9||p===10?Math.random()*30:Math.random()*10)}}),n={tempShift:e[9].avgTemp-e[0].avgTemp,rainfallChange:(e[9].totalRainfall-e[0].totalRainfall)/e[0].totalRainfall*100,anomalyCount:e.reduce((r,i)=>r+(i.extremeEvents>5?1:0),0),forecastedRisk:"high"};return he.wrapSuccess({yearlyTrends:e,indicators:n})}},e2=(t,e)=>{const n=[];for(let r=0;r<t.length;r++){if(r<e-1){n.push(t[r]);continue}const a=t.slice(r-e+1,r+1).reduce((o,c)=>o+c,0)/e;n.push(a)}return n},uae=t=>t.map(e=>({year:e.year.toString(),temp:e.avgTemp,rain:e.totalRainfall,extremes:e.extremeEvents})),dae=()=>{const[t,e]=R.useState("historical"),[n,r]=R.useState("Nashik, Maharashtra"),[i,a]=R.useState("Thompson Seedless Grapes"),[o,c]=R.useState(!1),[f,d]=R.useState(null),[p,h]=R.useState(null);R.useEffect(()=>{g()},[n]),R.useEffect(()=>{window.lucide&&window.lucide.createIcons()},[f,o,p,t]);const g=async()=>{c(!0);const w=await cae.getAnalysis(n);w.success&&h(w.data||null),c(!1)},y=async()=>{c(!0);try{const w=await QB(n,i);d(w)}catch(w){console.error(w),alert("Simulation failed.")}finally{c(!1)}},N=R.useMemo(()=>{if(!p)return[];const w=uae(p.yearlyTrends),j=w.map(E=>E.temp),T=w.map(E=>E.rain),C=e2(j,3),A=e2(T,3);return w.map((E,P)=>({...E,smaTemp:C[P],smaRain:A[P]}))},[p]),S=R.useMemo(()=>p?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((j,T)=>{const C=p.yearlyTrends.reduce((A,E)=>A+E.monthlyRainfall[T],0)/p.yearlyTrends.length;return{month:j,avgRain:Math.round(C)}}):[],[p]);return s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-20 md:pb-0 animate-fade-in",children:[s.jsxs("header",{className:"flex flex-col md:flex-row md:justify-between md:items-end gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-slate-950 tracking-tight",children:"Regional Climate Insights"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Nashik District: Decadal Trends & AI Projections"})]}),s.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-2xl border border-slate-200",children:[s.jsx("button",{onClick:()=>e("historical"),className:`px-6 py-2.5 rounded-xl text-xs font-bold transition-all ${t==="historical"?"bg-white text-emerald-700 shadow-sm":"text-slate-500"}`,children:"Baseline Trends"}),s.jsx("button",{onClick:()=>e("projection"),className:`px-6 py-2.5 rounded-xl text-xs font-bold transition-all ${t==="projection"?"bg-white text-emerald-700 shadow-sm":"text-slate-500"}`,children:"Resilience Forecast"})]})]}),t==="historical"?s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Temp Shift",value:`+${p?.indicators.tempShift.toFixed(2)}C`,icon:"thermometer",sub:"Decadal Warming",color:"text-orange-600",bg:"bg-orange-50"},{label:"Rainfall Drift",value:`${p?.indicators.rainfallChange.toFixed(1)}%`,icon:"cloud-rain",sub:"Variability vs 2014",color:"text-blue-600",bg:"bg-blue-50"},{label:"Hazard Count",value:p?.indicators.anomalyCount.toString(),icon:"zap",sub:"Extreme Event Years",color:"text-red-600",bg:"bg-red-50"},{label:"Risk Factor",value:p?.indicators.forecastedRisk.toUpperCase(),icon:"shield-alert",sub:"Model Assessment",color:"text-emerald-600",bg:"bg-emerald-50"}].map((w,j)=>s.jsxs("div",{className:"bg-white p-8 rounded-[40px] border border-slate-200 shadow-sm group hover:border-emerald-200 transition-all",children:[s.jsx("div",{className:`w-12 h-12 ${w.bg} ${w.color} rounded-2xl flex items-center justify-center mb-6`,children:s.jsx("i",{"data-lucide":w.icon,className:"w-6 h-6"})}),s.jsx("div",{className:"text-3xl font-black text-slate-900 leading-none",children:w.value}),s.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-2",children:w.label})]},j))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white p-10 rounded-[48px] border border-slate-200 shadow-sm",children:[s.jsx("h3",{className:"text-xl font-black text-slate-950 mb-1",children:"Temperature Variance"}),s.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-[0.2em] mb-10",children:"Actual vs 3-Year Moving Average"}),s.jsx("div",{className:"h-80",children:s.jsx(Dt,{width:"100%",height:"100%",children:s.jsxs(Zw,{data:N,children:[s.jsx(gn,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),s.jsx(Lt,{dataKey:"year",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:"bold"}}),s.jsx($t,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10},unit:"C"}),s.jsx(mt,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),s.jsx(Xt,{type:"monotone",dataKey:"temp",fill:"#fef3c7",stroke:"none"}),s.jsx(ci,{type:"monotone",name:"SMA (3yr)",dataKey:"smaTemp",stroke:"#f59e0b",strokeWidth:3,dot:!1})]})})})]}),s.jsxs("div",{className:"bg-white p-10 rounded-[48px] border border-slate-200 shadow-sm",children:[s.jsx("h3",{className:"text-xl font-black text-slate-950 mb-1",children:"Seasonal Distribution"}),s.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-[0.2em] mb-10",children:"Average Monthly Rainfall (Nashik Dist.)"}),s.jsx("div",{className:"h-80",children:s.jsx(Dt,{width:"100%",height:"100%",children:s.jsxs(Ba,{data:S,children:[s.jsx(gn,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),s.jsx(Lt,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:"bold"}}),s.jsx($t,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10},unit:"mm"}),s.jsx(mt,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),s.jsx(sn,{dataKey:"avgRain",fill:"#3b82f6",radius:[8,8,0,0],barSize:28})]})})})]})]}),s.jsxs("div",{className:"bg-slate-950 p-12 rounded-[56px] text-white relative overflow-hidden shadow-2xl",children:[s.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-blue-500/10 rounded-full blur-[120px] -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"inline-flex px-4 py-1.5 bg-white/10 text-emerald-400 rounded-full text-[10px] font-black uppercase tracking-widest border border-white/10 tracking-[0.2em]",children:"Annual Resilience Audit"}),s.jsx("h3",{className:"text-4xl font-black tracking-tighter leading-none",children:"Your 2024 Climate Strategy Report"}),s.jsxs("p",{className:"text-slate-400 leading-relaxed font-medium",children:["Nashik's pre-monsoon temperature peaks are arriving 12 days earlier on average. We recommend shifting your ",i," pruning schedule to mitigate early heat stress."]}),s.jsx("button",{className:"px-10 py-4 bg-white text-slate-950 rounded-2xl font-black text-sm hover:bg-slate-100 transition-all shadow-xl active:scale-95",children:"Download Full PDF Report"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-6 bg-white/5 rounded-3xl border border-white/10",children:[s.jsx("div",{className:"text-[10px] font-black uppercase opacity-40 mb-2",children:"Trend Accuracy"}),s.jsx("div",{className:"text-3xl font-black text-emerald-400",children:"98.2%"})]}),s.jsxs("div",{className:"p-6 bg-white/5 rounded-3xl border border-white/10",children:[s.jsx("div",{className:"text-[10px] font-black uppercase opacity-40 mb-2",children:"Data Points"}),s.jsx("div",{className:"text-3xl font-black text-blue-400",children:"1.2M+"})]})]})]})]})]}):s.jsx("div",{className:"space-y-6 animate-fade-in",children:f?s.jsx("div",{className:"space-y-8",children:s.jsxs("div",{className:"bg-white p-12 rounded-[56px] border border-slate-200 shadow-sm relative overflow-hidden",children:[s.jsxs("h2",{className:"text-3xl font-black text-slate-950 mb-10 border-b border-slate-50 pb-10 flex items-center tracking-tighter",children:[s.jsx("i",{"data-lucide":"sparkles",className:"w-8 h-8 mr-4 text-emerald-500"}),"AI Resilience Forecast (2024-2029)"]}),s.jsx("div",{className:"prose prose-slate max-w-none text-slate-600 font-medium leading-[2] text-lg",children:s.jsx("div",{className:"whitespace-pre-wrap",children:f.text})}),f.sources&&f.sources.length>0&&s.jsxs("div",{className:"mt-10 pt-10 border-t border-slate-100",children:[s.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center",children:[s.jsx("i",{"data-lucide":"link",className:"w-3 h-3 mr-2"}),"Grounding Sources"]}),s.jsx("div",{className:"flex flex-wrap gap-3",children:f.sources.map((w,j)=>w.web&&s.jsx("a",{href:w.web.uri,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-[10px] font-bold text-emerald-700 hover:bg-emerald-50 transition-colors",children:w.web.title||w.web.uri},j))})]})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-40 text-center bg-white rounded-[56px] border border-dashed border-slate-200",children:[s.jsx("div",{className:"w-24 h-24 bg-emerald-50 text-emerald-600 rounded-full flex items-center justify-center mb-8",children:s.jsx("i",{"data-lucide":"bot",className:"w-12 h-12"})}),s.jsx("h3",{className:"text-2xl font-black text-slate-950",children:"AI Resilience Simulation"}),s.jsxs("p",{className:"text-slate-500 max-w-md mt-4",children:["Generate long-term agricultural insights for ",i," in ",n,"."]}),s.jsx("button",{onClick:y,className:"mt-10 px-12 py-5 bg-emerald-600 text-white rounded-3xl font-black text-lg hover:bg-emerald-700 transition-all shadow-2xl active:scale-95",children:"Initiate Simulation"})]})}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
      `})]})},fae={getRainfallForecast:async(t,e)=>{const n=e==="24h"?24:e==="48h"?48:168,r=e==="7d"?24:1,i=Math.ceil(n/r),a=Array.from({length:i}).map((c,f)=>{const d=new Date(Date.now()+f*r*36e5),p=Math.random()*5,h=p+(Math.random()*2-1);return{timestamp:d.toLocaleTimeString([],e==="7d"?{weekday:"short"}:{hour:"2-digit"}),predictedRainfall:Math.max(0,parseFloat(h.toFixed(2))),baselineRainfall:Math.max(0,parseFloat(p.toFixed(2))),probability:.2+Math.random()*.6,confidenceInterval:[Math.max(0,h-.5),h+.5]}}),o={timeframe:e,predictions:a,evaluation:{modelId:"vertex-rain-forecaster-v2",version:"2.4.1-alpha",rmse:.42,mae:.31,accuracyScore:.94,lastRetrained:new Date(Date.now()-864e5*3).toISOString()},explanation:"Model detected a localized low-pressure trough combined with an 18% spike in tropospheric humidity. High correlation with historical rainfall events in the Nashik sub-region."};return he.wrapSuccess(o)}},pae=()=>{const[t,e]=R.useState(null),[n,r]=R.useState("24h"),[i,a]=R.useState(!1),[o,c]=R.useState("forecast");R.useEffect(()=>{f()},[n]),R.useEffect(()=>{window.lucide&&window.lucide.createIcons()},[t,i,o]);const f=async()=>{a(!0);const d=await fae.getRainfallForecast("Nashik, MH",n);d.success&&e(d.data||null),a(!1)};return s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 pb-20 md:pb-0",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-blue-200",children:s.jsx("i",{"data-lucide":"cloud-rain",className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Vertex AI Prediction"}),s.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest mt-1",children:"Localized Rainfall Engine v2.4"})]})]}),s.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-2xl border border-slate-200",children:[s.jsx("button",{onClick:()=>c("forecast"),className:`px-6 py-2 rounded-xl text-xs font-bold transition-all ${o==="forecast"?"bg-white text-blue-700 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Smart Forecast"}),s.jsx("button",{onClick:()=>c("evaluation"),className:`px-6 py-2 rounded-xl text-xs font-bold transition-all ${o==="evaluation"?"bg-white text-blue-700 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Model Performance"})]})]}),o==="forecast"?s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-fade-in",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white p-8 rounded-[40px] border border-slate-200 shadow-sm relative overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-black text-slate-900",children:"Precipitation Intensity"}),s.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-[0.2em] mt-1",children:"Comparison: ML Model vs IMD Baseline"})]}),s.jsx("div",{className:"flex bg-slate-50 p-1 rounded-xl",children:["24h","48h","7d"].map(d=>s.jsx("button",{onClick:()=>r(d),className:`px-4 py-1.5 rounded-lg text-[10px] font-black uppercase transition-all ${n===d?"bg-white text-blue-600 shadow-sm shadow-blue-100":"text-slate-400 hover:text-slate-600"}`,children:d},d))})]}),s.jsx("div",{className:"h-[400px]",children:s.jsx(Dt,{width:"100%",height:"100%",children:s.jsxs(Gc,{data:t?.predictions||[],children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorPred",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#2563eb",stopOpacity:.15}),s.jsx("stop",{offset:"95%",stopColor:"#2563eb",stopOpacity:0})]})}),s.jsx(gn,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),s.jsx(Lt,{dataKey:"timestamp",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:"bold"}}),s.jsx($t,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10},unit:"mm"}),s.jsx(mt,{contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),s.jsx(Ir,{iconType:"circle",wrapperStyle:{paddingTop:"20px",fontSize:"10px",fontWeight:"bold",textTransform:"uppercase"}}),s.jsx(Xt,{type:"monotone",name:"AgriSmart Prediction",dataKey:"predictedRainfall",stroke:"#2563eb",strokeWidth:3,fillOpacity:1,fill:"url(#colorPred)"}),s.jsx(ci,{type:"monotone",name:"IMD Baseline",dataKey:"baselineRainfall",stroke:"#94a3b8",strokeDasharray:"5 5",strokeWidth:2,dot:!1})]})})})]}),s.jsxs("div",{className:"bg-blue-600 p-8 rounded-[40px] text-white shadow-xl shadow-blue-100 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-white/5 rounded-full -translate-y-1/2 translate-x-1/2 blur-2xl"}),s.jsxs("div",{className:"relative z-10 flex items-start space-x-6",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center shrink-0",children:s.jsx("i",{"data-lucide":"bot",className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-black uppercase tracking-[0.3em] opacity-60 mb-2",children:"Model Explanation"}),s.jsxs("p",{className:"text-lg font-medium leading-relaxed italic",children:['"',t?.explanation,'"']}),s.jsxs("div",{className:"mt-4 inline-flex items-center text-[10px] font-black uppercase tracking-widest bg-white/10 px-3 py-1 rounded-lg",children:["Confidence Level: ",t?.predictions[0]?Math.round(t.predictions[0].probability*100):"--","%"]})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-[32px] border border-slate-200 shadow-sm space-y-6",children:[s.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Active Model Artifacts"}),s.jsx("div",{className:"space-y-4",children:[{label:"Model ID",value:t?.evaluation.modelId,icon:"database"},{label:"Hyperparams",value:"Auto-Tuned (Bayesian)",icon:"settings-2"},{label:"Retraining Cycle",value:"72h Recurring",icon:"refresh-ccw"},{label:"Last Deployed",value:t?.evaluation.lastRetrained?new Date(t.evaluation.lastRetrained).toLocaleDateString():"--",icon:"calendar"}].map((d,p)=>s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-8 h-8 bg-slate-50 text-slate-400 rounded-lg flex items-center justify-center",children:s.jsx("i",{"data-lucide":d.icon,className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:d.label}),s.jsx("div",{className:"text-xs font-black text-slate-700",children:d.value})]})]},p))}),s.jsx("button",{className:"w-full py-4 border-2 border-slate-100 text-slate-400 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] hover:bg-slate-50 transition-all",children:"Access Vertex Dashboard"})]}),s.jsxs("div",{className:"bg-slate-900 p-8 rounded-[40px] text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h3",{className:"text-xs font-black uppercase tracking-[0.3em] opacity-40",children:"Live A/B Testing"}),s.jsx("div",{className:"px-2 py-0.5 bg-emerald-500/20 text-emerald-400 rounded text-[8px] font-black uppercase",children:"Champion"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-end mb-2",children:[s.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Model V2.4 (Active)"}),s.jsx("span",{className:"text-xl font-black text-emerald-400",children:"94.2%"})]}),s.jsx("div",{className:"w-full bg-slate-800 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-400 rounded-full",style:{width:"94.2%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-end mb-2",children:[s.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Legacy V2.3 (Control)"}),s.jsx("span",{className:"text-xl font-black text-slate-500",children:"88.7%"})]}),s.jsx("div",{className:"w-full bg-slate-800 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-slate-600 rounded-full",style:{width:"88.7%"}})})]}),s.jsx("p",{className:"text-[10px] text-slate-500 leading-relaxed pt-2",children:"V2.4 shows a 5.5% improvement in F1-score for unseasonable monsoon event detection."})]})]})]})]}):s.jsxs("div",{className:"space-y-8 animate-fade-in",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{label:"RMSE (Error)",value:t?.evaluation.rmse,icon:"target",sub:"Root Mean Square Error",color:"text-red-600",bg:"bg-red-50"},{label:"MAE (Deviance)",value:t?.evaluation.mae,icon:"compass",sub:"Mean Absolute Error",color:"text-blue-600",bg:"bg-blue-50"},{label:"Accuracy",value:`${t?.evaluation.accuracyScore?t.evaluation.accuracyScore*100:"--"}%`,icon:"shield-check",sub:"Overall Reliability",color:"text-emerald-600",bg:"bg-emerald-50"}].map((d,p)=>s.jsxs("div",{className:"bg-white p-10 rounded-[40px] border border-slate-200 shadow-sm group hover:border-blue-200 transition-all",children:[s.jsx("div",{className:`w-14 h-14 ${d.bg} ${d.color} rounded-2xl flex items-center justify-center mb-8`,children:s.jsx("i",{"data-lucide":d.icon,className:"w-7 h-7"})}),s.jsx("div",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:d.value}),s.jsx("div",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mt-4",children:d.label}),s.jsx("p",{className:"text-[10px] text-slate-300 font-medium mt-1",children:d.sub})]},p))}),s.jsx("div",{className:"bg-white p-12 rounded-[48px] border border-slate-200 shadow-sm",children:s.jsxs("div",{className:"max-w-3xl space-y-8",children:[s.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Continuous Retraining Pipeline"}),s.jsx("p",{className:"text-slate-500 font-medium leading-relaxed",children:"The model is automatically retrained every 72 hours on the Vertex AI platform using the latest Ground Truth labels from ground-based weather stations across Maharashtra. This pipeline prevents feature drift and maintains accuracy during climatic shifts."}),s.jsx("div",{className:"flex flex-wrap gap-4",children:["Data Collection","Preprocessing","AutoML Training","Evaluation","Canary Deployment"].map((d,p)=>s.jsxs("div",{className:"flex items-center space-x-3 bg-slate-50 px-5 py-3 rounded-2xl border border-slate-100",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-lg flex items-center justify-center text-[10px] font-black",children:p+1}),s.jsx("span",{className:"text-xs font-bold text-slate-600",children:d}),p<4&&s.jsx("i",{"data-lucide":"arrow-right",className:"w-3 h-3 text-slate-300"})]},p))})]})})]}),s.jsx("style",{children:`
        .animate-fade-in {
          animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})},hae=()=>{const[t,e]=R.useState([]),[n,r]=R.useState([]),[i,a]=R.useState(!0),[o,c]=R.useState(null);R.useEffect(()=>{f()},[]),R.useEffect(()=>{window.lucide&&window.lucide.createIcons()},[i,t,n]);const f=async()=>{a(!0);const g="demo-user-123",[y,N,S]=await Promise.all([tr.getByUser(g),Da.getForLocation("Nashik"),jd.getUsageHistory(g)]);if(y.success&&N.success){const w=await jd.getRecommendations(y.data,N.data);e(w.data||[])}S.success&&r(S.data||[]),a(!1)},d=async g=>{c(g),(await jd.applyIrrigation(g)).success&&e(N=>N.map(S=>S.id===g?{...S,isApplied:!0}:S)),c(null)},p=g=>{switch(g){case"IRRIGATE":return"text-blue-600 bg-blue-50 border-blue-100";case"SKIP":return"text-amber-600 bg-amber-50 border-amber-100";case"DELAY":return"text-slate-600 bg-slate-50 border-slate-100";default:return"text-slate-600 bg-slate-50"}},h=[...n].reverse().map(g=>({date:new Date(g.date).toLocaleDateString([],{weekday:"short"}),liters:Math.round(g.amountLiters)}));return i?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Calculating water requirements..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-20 md:pb-0 animate-fade-in",children:[s.jsxs("header",{className:"flex flex-col md:flex-row md:justify-between md:items-end gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-slate-950 tracking-tight",children:"Irrigation Intelligence"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Optimizing water usage with precision weather data"})]}),s.jsxs("div",{className:"flex items-center space-x-3 px-4 py-2 bg-blue-50 text-blue-700 rounded-2xl border border-blue-100 font-bold text-xs uppercase tracking-widest",children:[s.jsx("i",{"data-lucide":"droplet",className:"w-4 h-4"}),s.jsx("span",{children:"Drip Network: Optimized"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em]",children:"Daily Recommendations"}),s.jsx("div",{className:"space-y-4",children:t.map(g=>s.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-200 p-8 shadow-sm group hover:border-blue-300 transition-all",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[s.jsxs("div",{className:"flex items-start space-x-6",children:[s.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center border-2 ${p(g.action)}`,children:s.jsx("i",{"data-lucide":g.action==="IRRIGATE"?"play-circle":g.action==="SKIP"?"slash":"clock",className:"w-7 h-7"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:g.cropName}),s.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[s.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest px-2 py-0.5 rounded-full border ${p(g.action)}`,children:g.action}),s.jsxs("span",{className:"text-xs text-slate-400 font-bold flex items-center",children:[s.jsx("i",{"data-lucide":"moisture",className:"w-3 h-3 mr-1"})," ",g.moistureLevel.toFixed(0),"% Moisture"]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-6 w-full md:w-auto",children:[s.jsxs("div",{className:"text-right hidden md:block",children:[s.jsx("div",{className:"text-sm font-black text-slate-900",children:g.durationMinutes>0?`${g.durationMinutes} mins`:"--"}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Run Time"})]}),g.action==="IRRIGATE"&&!g.isApplied?s.jsx("button",{onClick:()=>d(g.id),disabled:o===g.id,className:"flex-1 md:flex-none px-8 py-3 bg-blue-600 text-white rounded-2xl font-black text-sm hover:bg-blue-700 transition-all shadow-lg shadow-blue-100 flex items-center justify-center",children:o===g.id?s.jsx("i",{"data-lucide":"refresh-cw",className:"w-4 h-4 animate-spin"}):"Apply Now"}):g.isApplied?s.jsxs("div",{className:"flex items-center space-x-2 text-emerald-600 font-bold text-sm",children:[s.jsx("i",{"data-lucide":"check-circle",className:"w-5 h-5"}),s.jsx("span",{children:"Applied"})]}):s.jsx("div",{className:"text-xs text-slate-400 font-medium italic",children:"Logic: Automatically Managed"})]})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-50 flex flex-col md:flex-row gap-6 md:items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-slate-500 font-medium leading-relaxed max-w-lg",children:[s.jsx("i",{"data-lucide":"info",className:"w-4 h-4 inline mr-2 text-blue-500"}),g.reason]}),s.jsx("div",{className:"flex space-x-4",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-sm font-black text-slate-800",children:[g.evapotranspiration,"mm"]}),s.jsx("div",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest",children:"ETc (Loss)"})]})})]})]},g.id))}),s.jsxs("div",{className:"bg-blue-600 p-10 rounded-[48px] text-white relative overflow-hidden shadow-2xl shadow-blue-200",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-[60px] -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"inline-flex px-3 py-1 bg-white/20 text-blue-100 rounded-full text-[10px] font-black uppercase tracking-widest",children:"Efficiency Insight"}),s.jsxs("h3",{className:"text-3xl font-black tracking-tight leading-tight",children:["Your Water Footprint ",s.jsx("br",{})," has decreased by 18%"]}),s.jsx("p",{className:"text-blue-100 leading-relaxed font-medium",children:"By strictly following the AI-predicted rainfall delays, you saved approximately 12,400 liters of water this cycle."}),s.jsx("button",{className:"px-8 py-3 bg-white text-blue-600 rounded-2xl font-bold text-sm hover:bg-blue-50 transition-all",children:"View Full Report"})]}),s.jsxs("div",{className:"bg-white/10 p-6 rounded-[32px] backdrop-blur-sm border border-white/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("span",{className:"text-xs font-black uppercase",children:"Sensor Mesh Status"}),s.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-white/10 rounded-xl",children:[s.jsx("div",{className:"text-2xl font-black",children:"12"}),s.jsx("div",{className:"text-[9px] font-bold uppercase opacity-60",children:"Active Nodes"})]}),s.jsxs("div",{className:"p-3 bg-white/10 rounded-xl",children:[s.jsx("div",{className:"text-2xl font-black",children:"98%"}),s.jsx("div",{className:"text-[9px] font-bold uppercase opacity-60",children:"Connectivity"})]})]})]})]})]})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsx("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em]",children:"Usage Tracking"}),s.jsxs("div",{className:"bg-white p-8 rounded-[40px] border border-slate-200 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-black text-slate-900 mb-6",children:"7-Day Water Consumption"}),s.jsx("div",{className:"h-64",children:s.jsx(Dt,{width:"100%",height:"100%",children:s.jsxs(Ba,{data:h,children:[s.jsx(gn,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),s.jsx(Lt,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:"bold"}}),s.jsx($t,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10},unit:"L"}),s.jsx(mt,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),s.jsx(sn,{dataKey:"liters",radius:[6,6,0,0],barSize:24,children:h.map((g,y)=>s.jsx(Mr,{fill:y===h.length-1?"#2563eb":"#94a3b8"},`cell-${y}`))})]})})}),s.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl",children:[s.jsx("div",{className:"text-sm font-black text-slate-900",children:"1,450 L"}),s.jsx("div",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest",children:"Avg Daily"})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl",children:[s.jsx("div",{className:"text-sm font-black text-blue-600",children:"85%"}),s.jsx("div",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest",children:"Target Met"})]})]})]}),s.jsxs("div",{className:"bg-white p-8 rounded-[40px] border border-slate-200 shadow-sm space-y-6",children:[s.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{className:"w-full flex items-center justify-between p-4 bg-slate-50 hover:bg-blue-50 rounded-2xl transition-all group",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("i",{"data-lucide":"settings",className:"w-5 h-5 text-slate-400 group-hover:text-blue-600"}),s.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Pump Calibration"})]}),s.jsx("i",{"data-lucide":"chevron-right",className:"w-4 h-4 text-slate-300"})]}),s.jsxs("button",{className:"w-full flex items-center justify-between p-4 bg-slate-50 hover:bg-blue-50 rounded-2xl transition-all group",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("i",{"data-lucide":"plus-circle",className:"w-5 h-5 text-slate-400 group-hover:text-blue-600"}),s.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Manual Log Entry"})]}),s.jsx("i",{"data-lucide":"chevron-right",className:"w-4 h-4 text-slate-300"})]}),s.jsxs("button",{className:"w-full flex items-center justify-between p-4 bg-slate-50 hover:bg-red-50 rounded-2xl transition-all group",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("i",{"data-lucide":"alert-octagon",className:"w-5 h-5 text-red-400"}),s.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Emergency Shutoff"})]}),s.jsx("i",{"data-lucide":"chevron-right",className:"w-4 h-4 text-slate-300"})]})]})]})]})]}),s.jsx("style",{children:`
        .animate-fade-in {
          animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})},t2={getAssessment:async(t,e)=>{let n=15;const r=[];t.cropType==="Grape"&&(e.temperature<6&&(n+=45,r.push({factor:"Frost Burn",description:"Nashik winter dip below 6C risks dormant bud damage.",impact:"High"})),e.alerts.some(o=>o.type==="hail")&&(n+=55,r.push({factor:"Berry Cracking",description:"Physical hail impact on maturing Thompson bunches.",impact:"High"}))),t.cropType==="Onion"&&e.hourlyForecast.slice(0,24).reduce((c,f)=>c+f.rainfall,0)>40&&(n+=40,r.push({factor:"Bulb Rot",description:"Heavy rain in black soil causes waterlogging and fungal infection.",impact:"High"})),t.cropType==="Tomato"&&e.temperature>39&&(n+=35,r.push({factor:"Flower Drop",description:"Pollen sterility due to extreme afternoon heat.",impact:"Medium"}));const i=n>70?"Critical":n>45?"High":n>20?"Moderate":"Low",a={cropId:t.cropId,cropName:`${t.cropType} (${t.variety})`,riskScore:Math.min(n,100),riskLevel:i,potentialYieldLoss:Math.round(n*.7),vulnerabilities:r,protectiveMeasures:["Apply Boron-based sprays to strengthen cell walls","Use plastic mulch to prevent soil splashing","Secure anti-hail nets over primary vineyard blocks"],recoverySteps:["Light dosage of foliar Urea for vegetative recovery","Apply curative systemic fungicide within 24h of impact","Clear silt from drainage channels immediately"]};return he.wrapSuccess(a)},reportDamage:async t=>he.request("/api/damage-reports","POST",{id:Math.random().toString(36).substr(2,9),status:"Pending",...t}),getReports:async t=>he.wrapSuccess([{id:"dr-n-01",cropId:"c1",incidentDate:"2024-01-15",weatherType:"Frost",estimatedLoss:12,notes:"Frost recorded in Niphad sub-district block.",status:"Verified"}])},mae=()=>{const[t,e]=R.useState([]),[n,r]=R.useState([]),[i,a]=R.useState(!0),[o,c]=R.useState("assessments"),[f,d]=R.useState(!1);R.useEffect(()=>{p()},[]),R.useEffect(()=>{window.lucide&&window.lucide.createIcons()},[i,t,n,o,f]);const p=async()=>{a(!0);const g="u123",[y,N,S]=await Promise.all([tr.getByUser(g),Da.getForLocation("Nashik"),t2.getReports(g)]);if(y.success&&N.success){const w=y.data.map(T=>t2.getAssessment(T,N.data)),j=await Promise.all(w);e(j.map(T=>T.data))}S.success&&r(S.data||[]),a(!1)},h=g=>{switch(g){case"Critical":return"text-red-600 bg-red-50 border-red-200";case"High":return"text-orange-600 bg-orange-50 border-orange-200";case"Moderate":return"text-amber-600 bg-amber-50 border-amber-200";default:return"text-emerald-600 bg-emerald-50 border-emerald-200"}};return i?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Running Nashik vulnerability models..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-20 md:pb-0 animate-fade-in",children:[s.jsxs("header",{className:"flex flex-col md:flex-row md:justify-between md:items-end gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-slate-950 tracking-tight",children:"Weather Impact Center"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Monitoring extreme climatic risks for Nashik belts"})]}),s.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-2xl border border-slate-200 shadow-sm",children:[s.jsx("button",{onClick:()=>c("assessments"),className:`px-6 py-2.5 rounded-xl text-xs font-bold transition-all ${o==="assessments"?"bg-white text-red-700 shadow-sm":"text-slate-500"}`,children:"Real-time Risk"}),s.jsx("button",{onClick:()=>c("reports"),className:`px-6 py-2.5 rounded-xl text-xs font-bold transition-all ${o==="reports"?"bg-white text-red-700 shadow-sm":"text-slate-500"}`,children:"Damage Audit"})]})]}),o==="assessments"?s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.map((g,y)=>s.jsxs("div",{className:"bg-white rounded-[40px] border border-slate-200 p-10 shadow-sm space-y-8 relative overflow-hidden group hover:border-red-200 transition-all",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:g.cropName}),s.jsxs("div",{className:`mt-2 inline-flex items-center px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${h(g.riskLevel)}`,children:[g.riskLevel," Hazard"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-4xl font-black text-slate-900",children:[g.riskScore,"%"]}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Risk Score"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-6 bg-slate-50 rounded-3xl border border-slate-100",children:[s.jsx("div",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mb-1",children:"Potential Loss"}),s.jsxs("div",{className:"text-2xl font-black text-red-600",children:["-",g.potentialYieldLoss,"%"]})]}),s.jsxs("div",{className:"p-6 bg-slate-50 rounded-3xl border border-slate-100",children:[s.jsx("div",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mb-1",children:"Risk Factors"}),s.jsx("div",{className:"text-2xl font-black text-slate-900",children:g.vulnerabilities.length})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Regional Vulnerabilities"}),s.jsx("div",{className:"space-y-3",children:g.vulnerabilities.map((N,S)=>s.jsxs("div",{className:"flex items-start p-4 bg-white border border-slate-100 rounded-2xl",children:[s.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center mr-4 shrink-0 ${N.impact==="High"?"bg-red-50 text-red-600":"bg-amber-50 text-amber-600"}`,children:s.jsx("i",{"data-lucide":"alert-triangle",className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-black text-slate-900 uppercase tracking-tight",children:N.factor}),s.jsx("p",{className:"text-[11px] text-slate-500 leading-relaxed font-medium",children:N.description})]})]},S))})]}),s.jsx("div",{className:"pt-6 border-t border-slate-50 flex gap-4",children:s.jsx("button",{className:"flex-1 py-4 bg-slate-950 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-red-700 transition-all",children:"Protective Protocol"})})]},y)),s.jsxs("div",{className:"lg:col-span-2 bg-emerald-950 p-12 rounded-[48px] text-white relative overflow-hidden shadow-2xl",children:[s.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-red-500/10 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"inline-flex px-3 py-1 bg-red-500/20 text-red-400 rounded-full text-[10px] font-black uppercase tracking-widest border border-red-500/10",children:"PMFBY Support"}),s.jsxs("h2",{className:"text-4xl font-black tracking-tighter leading-none",children:["Crop Insurance ",s.jsx("br",{})," Claims Helper"]}),s.jsx("p",{className:"text-emerald-100/70 leading-relaxed font-medium",children:"Our AI compiles decadal weather snapshots and localized alerts to help you file insurance claims under Pradhan Mantri Fasal Bima Yojana."})]}),s.jsxs("div",{className:"bg-white/5 p-8 rounded-[40px] border border-white/10 backdrop-blur-md",children:[s.jsx("h4",{className:"font-bold text-lg mb-6",children:"Claim Readiness Audit"}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs border-b border-white/10 pb-2",children:[s.jsx("span",{className:"opacity-60",children:"Weather Logs"}),s.jsx("span",{className:"text-emerald-400 font-black",children:"SYNCED"})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs border-b border-white/10 pb-2",children:[s.jsx("span",{className:"opacity-60",children:"Anomaly Proof"}),s.jsx("span",{className:"text-emerald-400 font-black",children:"VALIDATED"})]})]}),s.jsx("button",{className:"w-full py-4 bg-white text-slate-950 rounded-2xl font-black text-sm hover:bg-slate-100 transition-all shadow-xl",children:"Generate Documentation"})]})]})]})]}):s.jsxs("div",{className:"space-y-8 animate-fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center px-4",children:[s.jsx("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em]",children:"Recent Damage Logs"}),s.jsx("button",{onClick:()=>d(!0),className:"px-6 py-2.5 bg-red-600 text-white rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-red-700 transition-all shadow-lg",children:"Log Incident"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(g=>s.jsxs("div",{className:"bg-white p-8 rounded-[32px] border border-slate-200 shadow-sm space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-50 text-red-500 rounded-xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"cloud-lightning",className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-black text-slate-900 uppercase tracking-tight",children:g.weatherType}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold",children:g.incidentDate})]})]}),s.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase tracking-widest ${g.status==="Verified"?"bg-emerald-50 text-emerald-600":"bg-slate-50 text-slate-400"}`,children:g.status})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mb-1",children:"Yield Impact"}),s.jsxs("div",{className:"text-3xl font-black text-red-600",children:["-",g.estimatedLoss,"%"]})]}),s.jsxs("p",{className:"text-xs text-slate-500 font-medium italic leading-relaxed",children:['"',g.notes,'"']})]},g.id))})]}),f&&s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-950/60 backdrop-blur-md",onClick:()=>d(!1)}),s.jsxs("div",{className:"relative bg-white w-full max-w-lg rounded-[48px] p-12 shadow-2xl",children:[s.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight mb-8",children:"Report Farm Damage"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Crop Impacted"}),s.jsxs("select",{className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl font-bold",children:[s.jsx("option",{children:"Grapes (Thompson Seedless)"}),s.jsx("option",{children:"Onion (Baswant 780)"}),s.jsx("option",{children:"Tomato (Abhinav)"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Incident Date"}),s.jsx("input",{type:"date",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl font-bold"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Climate Event"}),s.jsxs("select",{className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl font-bold",children:[s.jsx("option",{children:"Hail"}),s.jsx("option",{children:"Frost"}),s.jsx("option",{children:"Waterlogging"}),s.jsx("option",{children:"Wind Damage"})]})]})]}),s.jsx("button",{className:"w-full py-5 bg-red-600 text-white rounded-3xl font-black text-lg shadow-xl shadow-red-100 active:scale-95 transition-all",children:"File Claim Report"})]})]})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
      `})]})},gae=["Niphad","Nashik","Dindori","Sinnar","Chandwad","Yeola","Nandgaon","Satana","Kalwan","Baglan","Malegaon","Surgana","Peint","Igatpuri","Trimbakeshwar"],n2=[{id:"Grape",label:"Grapes",icon:"grape",color:"bg-purple-50 text-purple-600",varieties:["Thompson Seedless","Sharad Seedless","Manik Chaman","Jumbo Purple"],desc:"Export quality viticulture."},{id:"Onion",label:"Onions",icon:"sprout",color:"bg-amber-50 text-amber-600",varieties:["Bhima Super","Bhima Red","Agrifound Dark Red","N-2-4-1"],desc:"High-yield Kharif/Rabi."},{id:"Tomato",label:"Tomatoes",icon:"cherry",color:"bg-rose-50 text-rose-600",varieties:["Abhinav Hybrid","SH-20","Pusa Ruby","Local Selection"],desc:"Disease-resistant hybrids."}],xae=({onComplete:t})=>{const[e,n]=R.useState(1),[r,i]=R.useState(!1),[a,o]=R.useState("idle"),[c,f]=R.useState("acre"),[d,p]=R.useState({name:"",language:"en",role:qv.FARMER,location:{village:"",ward:""},farmDetails:{crops:[],size:0,irrigation:"drip",soilType:"Black"},preferences:{notifications:!0,notificationChannels:{push:!0,sms:!0,voice:!1},alertThresholds:{critical:!0,warning:!0,advisory:!0},quietHours:{enabled:!1,start:"22:00",end:"06:00"},categorySettings:{weather:!0,market:!0,community:!0,advisory:!0},units:"metric"},unit:"acre"}),[h,g]=R.useState(null),[y,N]=R.useState("");R.useEffect(()=>{window.lucide&&window.lucide.createIcons()},[e,r,a,d,h]);const S=()=>n(A=>A+1),w=()=>n(A=>A-1),j=()=>{if(o("detecting"),!navigator.geolocation){o("error");return}navigator.geolocation.getCurrentPosition(A=>{p(E=>({...E,location:{village:"Pimpalgaon Baswant",ward:"Niphad Taluka"}})),o("success")},()=>o("error"))},T=()=>{const A=c==="hectare"?(d.farmDetails?.size||0)*2.471:d.farmDetails?.size||0,E={userId:"u"+Math.random().toString(36).substr(2,5),name:d.name||"Agri User",phone:"+91 98"+Math.floor(1e7+Math.random()*9e7),language:d.language,role:qv.FARMER,location:d.location||{village:"Nashik",ward:"District"},farmDetails:{crops:h?[h]:[],size:A,irrigation:d.farmDetails?.irrigation||"drip",soilType:d.farmDetails?.soilType||"Black"},preferences:d.preferences,createdAt:new Date().toISOString()};t(E)},C=()=>{switch(e){case 1:return s.jsxs("div",{className:"space-y-8 animate-fade-in",children:[s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("div",{className:"w-16 h-16 bg-emerald-100 text-emerald-600 rounded-[15px] flex items-center justify-center mx-auto mb-4 shadow-sm",children:s.jsx("i",{"data-lucide":"sprout",className:"w-8 h-8"})}),s.jsx("h2",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Welcome to AgriSmart"}),s.jsx("p",{className:"text-sm text-slate-500 font-medium max-w-xs mx-auto",children:"Digitizing climate resilience for Nashik farmers."})]}),s.jsx("div",{className:"space-y-3",children:[{icon:"zap",title:"Smart Alerts",desc:"Frost & pest warnings per ward."},{icon:"trending-up",title:"Mandi Pulse",desc:"Predictive pricing for your harvest."},{icon:"camera",title:"AI Diagnostics",desc:"Instant crop disease identification."}].map((A,E)=>s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-slate-50 rounded-[15px] border border-slate-100 transition-colors hover:bg-slate-100/50",children:[s.jsx("div",{className:"w-10 h-10 bg-white rounded-[15px] flex items-center justify-center shrink-0 shadow-sm text-emerald-600",children:s.jsx("i",{"data-lucide":A.icon,className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-tight",children:A.title}),s.jsx("p",{className:"text-[11px] text-slate-500 font-medium",children:A.desc})]})]},E))}),s.jsx("button",{onClick:S,className:"w-full py-4 bg-emerald-600 text-white rounded-[15px] font-bold text-base shadow-lg shadow-emerald-100 hover:bg-emerald-700 active:scale-[0.98] transition-all",children:"Get Started"})]});case 2:return s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Language Preference"}),s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Select for advice and critical alerts."})]}),s.jsx("div",{className:"grid grid-cols-1 gap-3",children:[{id:"mr",label:"",sub:"Marathi",flag:""},{id:"hi",label:"",sub:"Hindi",flag:""},{id:"en",label:"English",sub:"Global",flag:""}].map(A=>s.jsxs("button",{onClick:()=>p({...d,language:A.id}),className:`flex items-center justify-between p-5 border rounded-[15px] text-left transition-all group ${d.language===A.id?"border-emerald-600 bg-emerald-50/50":"border-slate-100 hover:border-slate-200"}`,children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-xl",children:A.flag}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-slate-900",children:A.label}),s.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:A.sub})]})]}),s.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${d.language===A.id?"bg-emerald-600 border-emerald-600 text-white":"border-slate-200 text-transparent"}`,children:s.jsx("i",{"data-lucide":"check",className:"w-3 h-3"})})]},A.id))}),s.jsxs("div",{className:"flex flex-col space-y-3 pt-4",children:[s.jsx("button",{onClick:S,disabled:!d.language,className:"w-full py-4 bg-emerald-600 text-white rounded-[15px] font-bold text-base shadow-lg shadow-emerald-100 hover:bg-emerald-700 active:scale-[0.98] transition-all disabled:bg-slate-200",children:"Continue"}),s.jsx("button",{onClick:w,className:"w-full py-2 text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Go Back"})]})]});case 3:return s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Your Location"}),s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Used for ward-level climate tracking."})]}),s.jsxs("button",{onClick:j,className:`w-full p-6 rounded-[15px] border-2 border-dashed transition-all flex flex-col items-center justify-center space-y-2 ${a==="detecting"?"bg-blue-50 border-blue-200":a==="success"?"bg-emerald-50 border-emerald-300":"bg-slate-50 border-slate-200 hover:border-blue-400"}`,children:[s.jsx("div",{className:`w-12 h-12 rounded-[15px] flex items-center justify-center shadow-sm ${a==="detecting"?"bg-blue-100 text-blue-600 animate-pulse":a==="success"?"bg-emerald-500 text-white":"bg-white text-blue-600"}`,children:s.jsx("i",{"data-lucide":a==="success"?"check":"map-pin",className:"w-6 h-6"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-sm font-bold text-slate-900 block",children:a==="detecting"?"Detecting...":a==="success"?"Location Synced":"Auto-Detect Location"}),s.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5 block",children:"Nashik Regional Nodes"})]})]}),s.jsxs("div",{className:"relative py-2 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-slate-100"})}),s.jsx("span",{className:"relative bg-white px-3 text-[10px] font-black uppercase text-slate-300 tracking-widest",children:"Or Manual"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Taluka (Block)"}),s.jsxs("select",{className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-[15px] font-bold text-slate-700 outline-none focus:ring-2 focus:ring-emerald-500",value:d.location?.ward||"",onChange:A=>p({...d,location:{...d.location,ward:A.target.value}}),children:[s.jsx("option",{value:"",children:"Select Taluka"}),gae.map(A=>s.jsx("option",{value:A,children:A},A))]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Village Name"}),s.jsx("input",{type:"text",placeholder:"e.g. Ozar",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-[15px] font-bold text-slate-900 outline-none focus:ring-2 focus:ring-emerald-500",value:d.location?.village||"",onChange:A=>p({...d,location:{...d.location,village:A.target.value}})})]})]}),s.jsxs("div",{className:"flex flex-col space-y-3 pt-4",children:[s.jsx("button",{onClick:S,disabled:!d.location?.village,className:"w-full py-4 bg-emerald-600 text-white rounded-[15px] font-bold text-base shadow-lg shadow-emerald-100 hover:bg-emerald-700 active:scale-[0.98] transition-all disabled:bg-slate-200",children:"Proceed"}),s.jsx("button",{onClick:w,className:"w-full py-2 text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Go Back"})]})]});case 4:return s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Farm Profile"}),s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Select your primary cultivation focus."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:n2.map(A=>s.jsxs("button",{onClick:()=>{g(A.id),N(A.varieties[0])},className:`p-4 rounded-[15px] border text-left transition-all relative group ${h===A.id?"border-emerald-600 bg-emerald-50/50 ring-1 ring-emerald-600":"border-slate-100 hover:border-slate-200 bg-white"}`,children:[s.jsx("div",{className:`w-10 h-10 ${A.color} rounded-[15px] flex items-center justify-center mb-3 group-hover:scale-105 transition-transform`,children:s.jsx("i",{"data-lucide":A.icon,className:"w-5 h-5"})}),s.jsx("div",{className:"font-bold text-slate-900 text-sm",children:A.label}),s.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tight leading-tight mt-1",children:A.desc})]},A.id))}),h&&s.jsxs("div",{className:"space-y-4 animate-slide-up bg-slate-50 p-5 rounded-[15px] border border-slate-100",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Variety"}),s.jsx("select",{className:"w-full p-3 bg-white border border-slate-100 rounded-[15px] font-bold text-slate-700 outline-none",value:y,onChange:A=>N(A.target.value),children:n2.find(A=>A.id===h)?.varieties.map(A=>s.jsx("option",{value:A,children:A},A))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Area"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",placeholder:"0.0",className:"w-full p-3 bg-white border border-slate-100 rounded-[15px] font-black text-slate-900 pr-12 outline-none",onChange:A=>p({...d,farmDetails:{...d.farmDetails,size:parseFloat(A.target.value)}})}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[9px] font-black text-slate-300 uppercase",children:"Acres"})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Soil Type"}),s.jsxs("select",{className:"w-full p-3 bg-white border border-slate-100 rounded-[15px] font-bold text-slate-700 outline-none",onChange:A=>p({...d,farmDetails:{...d.farmDetails,soilType:A.target.value}}),children:[s.jsx("option",{value:"Black",children:"Black Cotton"}),s.jsx("option",{value:"Loamy",children:"Loamy"}),s.jsx("option",{value:"Sandy",children:"Sandy"})]})]})]})]}),s.jsxs("div",{className:"flex flex-col space-y-3 pt-4",children:[s.jsx("button",{onClick:S,disabled:!h||!d.farmDetails?.size,className:"w-full py-4 bg-emerald-600 text-white rounded-[15px] font-bold text-base shadow-lg shadow-emerald-100 hover:bg-emerald-700 transition-all disabled:bg-slate-200",children:"Complete Profile"}),s.jsx("button",{onClick:w,className:"w-full py-2 text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Go Back"})]})]});case 5:return s.jsxs("div",{className:"space-y-6 animate-fade-in text-center",children:[s.jsxs("div",{className:"w-16 h-16 bg-emerald-500 text-white rounded-[15px] flex items-center justify-center mx-auto mb-4 shadow-xl relative",children:[s.jsx("div",{className:"absolute inset-0 rounded-[15px] bg-emerald-500/20 animate-ping"}),s.jsx("i",{"data-lucide":"award",className:"w-8 h-8 relative z-10"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Configuration Complete"}),s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Verify your details before launching."})]}),s.jsxs("div",{className:"bg-slate-50 p-6 rounded-[15px] border border-slate-100 text-left space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Primary Focus"}),s.jsxs("div",{className:"text-sm font-black text-slate-800",children:[h," (",y,")"]})]}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Plot Scale"}),s.jsxs("div",{className:"text-sm font-black text-slate-800",children:[d.farmDetails?.size," Acres"]})]}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Local Zone"}),s.jsxs("div",{className:"text-sm font-black text-slate-800",children:[d.location?.village,", ",d.location?.ward]})]}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Language"}),s.jsxs("div",{className:"text-sm font-black text-slate-800 uppercase",children:[d.language," Mode"]})]})]}),s.jsxs("div",{className:"pt-4 border-t border-slate-200 flex items-start space-x-3",children:[s.jsx("i",{"data-lucide":"info",className:"w-4 h-4 text-blue-500 mt-0.5"}),s.jsx("p",{className:"text-[10px] text-slate-500 font-medium italic leading-relaxed",children:"Initializing historical climate logs for Nashik region..."})]})]}),s.jsxs("div",{className:"flex flex-col space-y-3 pt-6",children:[s.jsx("button",{onClick:T,className:"w-full py-4 bg-slate-900 text-white rounded-[15px] font-bold text-lg shadow-xl hover:bg-black active:scale-[0.98] transition-all",children:"Launch Dashboard"}),s.jsx("button",{onClick:w,className:"w-full py-2 text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Edit Details"})]})]});default:return null}};return s.jsxs("div",{className:"min-h-screen bg-[#f8fafc] flex flex-col items-center justify-center p-6",children:[s.jsxs("div",{className:"w-full max-w-md bg-white rounded-[15px] shadow-[0_32px_80px_-16px_rgba(0,0,0,0.08)] border border-slate-100 overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-slate-50",children:s.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-700 ease-out",style:{width:`${e/5*100}%`}})}),s.jsxs("div",{className:"p-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-2.5",children:[s.jsx("div",{className:"w-8 h-8 bg-emerald-600 rounded-[15px] flex items-center justify-center text-white shadow-sm",children:s.jsx("i",{"data-lucide":"sprout",className:"w-5 h-5"})}),s.jsx("span",{className:"font-black text-lg text-emerald-950 tracking-tighter",children:"AgriSmart AI"})]}),s.jsxs("div",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.2em]",children:["Step 0",e," / 05"]})]}),C()]})]}),s.jsxs("div",{className:"mt-8 text-center space-y-1 opacity-40",children:[s.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Next Generation Agriculture Infrastructure"}),s.jsx("p",{className:"text-[9px] font-bold text-slate-400",children:" 2024 Climate-Smart AI Initiative"})]}),s.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slide-up {
          from { opacity: 0; transform: translateY(15px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }
        .animate-slide-up { animation: slide-up 0.5s ease-out forwards; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
      `})]})},vae={logout:()=>{localStorage.removeItem("agri_smart_token"),window.location.reload()}},Rb={getProfile:async()=>he.request("/api/user/profile"),updateProfile:async t=>he.request("/api/user/profile","PUT",t),deleteAccount:async()=>(localStorage.removeItem("agri_smart_token"),he.wrapSuccess(void 0)),exportData:async()=>he.wrapSuccess({url:"#"})},yae=({user:t,onUpdate:e,setView:n})=>{const r=async()=>{(await Rb.exportData()).success&&alert("Data export started. Check your email.")},i=async()=>{window.confirm("Are you sure? This will delete all your farm history.")&&(await Rb.deleteAccount(),window.location.reload())};return s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 pb-20 md:pb-0 animate-fade-in",children:[s.jsxs("header",{className:"flex items-center space-x-6 mb-12",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-24 h-24 bg-emerald-100 text-emerald-600 rounded-[32px] flex items-center justify-center text-3xl font-black shadow-lg shadow-emerald-50",children:t.name.charAt(0)}),s.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-emerald-600 border-4 border-white rounded-full flex items-center justify-center text-white",children:s.jsx("i",{"data-lucide":"check",className:"w-4 h-4"})})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:t.name}),s.jsx("p",{className:"text-slate-500 font-medium",children:t.phone}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest bg-emerald-50 text-emerald-700 border border-emerald-100",children:t.role}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest bg-blue-50 text-blue-700 border border-blue-100",children:"Pro Tier"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-[40px] border border-slate-200 p-8 shadow-sm grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl",children:[s.jsx("div",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest mb-1",children:"Scale"}),s.jsxs("div",{className:"text-2xl font-black text-slate-900",children:[t.farmDetails.size," Acres"]})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl",children:[s.jsx("div",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest mb-1",children:"Language"}),s.jsx("div",{className:"text-2xl font-black text-slate-900 uppercase",children:t.language})]})]}),s.jsx("div",{className:"bg-white rounded-[40px] border border-slate-200 overflow-hidden shadow-sm",children:s.jsxs("div",{className:"p-2 space-y-1",children:[s.jsxs("button",{onClick:()=>n(pe.NOTIFICATION_SETTINGS),className:"w-full flex items-center justify-between p-6 hover:bg-slate-50 rounded-[32px] transition-all group",children:[s.jsxs("div",{className:"flex items-center space-x-5",children:[s.jsx("div",{className:"w-12 h-12 bg-emerald-50 text-emerald-600 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:s.jsx("i",{"data-lucide":"bell",className:"w-6 h-6"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-base font-black text-slate-900",children:"Alert Profile"}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Manage channels & quiet hours"})]})]}),s.jsx("i",{"data-lucide":"chevron-right",className:"w-5 h-5 text-slate-300 group-hover:text-emerald-500 transition-colors"})]}),s.jsxs("button",{onClick:()=>n(pe.OFFLINE_SETTINGS),className:"w-full flex items-center justify-between p-6 hover:bg-slate-50 rounded-[32px] transition-all group",children:[s.jsxs("div",{className:"flex items-center space-x-5",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:s.jsx("i",{"data-lucide":"database",className:"w-6 h-6"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-base font-black text-slate-900",children:"Offline Cache"}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Control local data & storage"})]})]}),s.jsx("i",{"data-lucide":"chevron-right",className:"w-5 h-5 text-slate-300 group-hover:text-blue-500 transition-colors"})]})]})}),s.jsxs("div",{className:"bg-white rounded-[40px] border border-slate-200 overflow-hidden shadow-sm",children:[s.jsx("div",{className:"p-8 border-b border-slate-50",children:s.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Account & Safety"})}),s.jsxs("div",{className:"p-2 space-y-1",children:[s.jsx("button",{onClick:r,className:"w-full flex items-center justify-between p-6 hover:bg-slate-50 rounded-[32px] transition-all group",children:s.jsxs("div",{className:"flex items-center space-x-5",children:[s.jsx("div",{className:"w-12 h-12 bg-slate-100 text-slate-400 rounded-2xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"download",className:"w-6 h-6"})}),s.jsx("span",{className:"text-base font-black text-slate-700",children:"Export All Farm Records"})]})}),s.jsx("button",{onClick:vae.logout,className:"w-full flex items-center justify-between p-6 hover:bg-rose-50 rounded-[32px] transition-all group",children:s.jsxs("div",{className:"flex items-center space-x-5 text-rose-600",children:[s.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-2xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"log-out",className:"w-6 h-6"})}),s.jsx("span",{className:"text-base font-black",children:"Secure Sign Out"})]})}),s.jsx("button",{onClick:i,className:"w-full flex items-center justify-between p-6 hover:bg-red-500 hover:text-white rounded-[32px] transition-all group text-slate-300",children:s.jsxs("div",{className:"flex items-center space-x-5",children:[s.jsx("div",{className:"w-12 h-12 bg-transparent border-2 border-slate-100 rounded-2xl flex items-center justify-center group-hover:border-white/20",children:s.jsx("i",{"data-lucide":"trash-2",className:"w-6 h-6"})}),s.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Permanent Account Deletion"})]})})]})]})]})]})},bae="/assets/MH-gov-DUKZNmQB.png",wae="/assets/Kumbhathon-DIIHZmFg.webp",Nae=({onGetStarted:t,onLogin:e})=>s.jsxs("div",{className:"min-h-screen bg-white font-sans text-slate-900 selection:bg-emerald-100 selection:text-emerald-900",children:[s.jsx("nav",{className:"fixed top-0 w-full z-50 bg-white/80 backdrop-blur-xl border-b border-slate-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-20 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2 group cursor-pointer",children:[s.jsx("div",{className:"w-10 h-10 bg-emerald-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-emerald-200 group-hover:rotate-12 transition-transform",children:s.jsx("i",{"data-lucide":"sprout",className:"w-6 h-6"})}),s.jsxs("span",{className:"font-black text-2xl text-emerald-950 tracking-tighter",children:["AgriSmart ",s.jsx("span",{className:"text-emerald-500",children:"Nashik"})]})]}),s.jsxs("div",{className:"hidden md:flex space-x-10 text-sm font-bold text-slate-500",children:[s.jsx("a",{href:"#features",className:"hover:text-emerald-600 transition-colors",children:"Technology"}),s.jsx("a",{href:"#process",className:"hover:text-emerald-600 transition-colors",children:"How it Works"}),s.jsx("a",{href:"#impact",className:"hover:text-emerald-600 transition-colors",children:"Impact"})]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx("button",{onClick:e,className:"text-sm font-bold text-slate-600 hover:text-emerald-600 transition-colors",children:"Sign In"}),s.jsx("button",{onClick:t,className:"bg-emerald-600 text-white px-8 py-3 rounded-full font-bold text-sm hover:bg-emerald-700 shadow-xl shadow-emerald-100 hover:shadow-emerald-200 active:scale-95 transition-all",children:"Get Started Free"})]})]})}),s.jsxs("section",{className:"pt-40 pb-24 px-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-[800px] bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-emerald-50/50 via-white to-white -z-10"}),s.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[s.jsxs("div",{className:"space-y-10",children:[s.jsxs("div",{className:"inline-flex items-center space-x-3 bg-white px-4 py-2 rounded-2xl shadow-sm border border-slate-100 animate-fade-in",children:[s.jsx("div",{className:"flex -space-x-2",children:[1,2,3].map(n=>s.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-emerald-100"},n))}),s.jsx("span",{className:"text-xs font-bold text-slate-600 tracking-tight",children:"Trusted by 12,000+ Nashik Farmers"})]}),s.jsxs("h1",{className:"text-6xl lg:text-8xl font-black text-slate-950 leading-[0.9] tracking-tighter",children:["The Future of ",s.jsx("br",{}),s.jsx("span",{className:"bg-gradient-to-r from-emerald-600 to-teal-500 bg-clip-text text-transparent",children:"Nashik's Farming."})]}),s.jsx("p",{className:"text-xl text-slate-500 leading-relaxed max-w-xl font-medium",children:"Empowering Nashik's farmers with Gemini 1.5 to predict climate shifts, diagnose disease in Grapes, Onions, & Tomatoes, and maximize yield."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[s.jsxs("button",{onClick:t,className:"bg-slate-950 text-white px-10 py-5 rounded-2xl font-bold text-lg hover:bg-emerald-950 transition-all shadow-2xl flex items-center justify-center group",children:["Launch Your Dashboard",s.jsx("i",{"data-lucide":"arrow-right",className:"ml-3 w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),s.jsxs("button",{className:"flex items-center justify-center space-x-3 px-8 py-5 rounded-2xl font-bold text-slate-600 hover:bg-slate-50 transition-colors border border-slate-100",children:[s.jsx("i",{"data-lucide":"play-circle",className:"w-6 h-6 text-emerald-600"}),s.jsx("span",{children:"See Case Studies"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-8 border-t border-slate-100 pt-10",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-black text-slate-950",children:"24%"}),s.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Yield Increase"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-black text-slate-950",children:"40+"}),s.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Crops Supported"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-black text-slate-950",children:"98%"}),s.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Scan Accuracy"})]})]})]}),s.jsxs("div",{className:"relative lg:ml-10",children:[s.jsx("div",{className:"absolute -top-10 -right-10 w-64 h-64 bg-emerald-400/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-10 -left-10 w-64 h-64 bg-teal-400/10 rounded-full blur-3xl"}),s.jsxs("div",{className:"relative bg-white p-4 rounded-[40px] shadow-[0_32px_64px_-16px_rgba(0,0,0,0.1)] border border-slate-100 animate-float",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-emerald-500/10 to-transparent rounded-[40px] pointer-events-none"}),s.jsx("img",{src:"https://images.unsplash.com/photo-1625246333195-78d9c38ad449?auto=format&fit=crop&q=80&w=1000",alt:"Smart Farming",className:"rounded-[32px] w-full h-[580px] object-cover"}),s.jsxs("div",{className:"absolute top-10 -right-12 bg-white/90 backdrop-blur-md p-6 rounded-3xl shadow-xl border border-white/50 space-y-3 w-64 animate-float-slow",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-xs font-black text-slate-400 uppercase",children:"Live Analysis"}),s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-ping"})]}),s.jsx("div",{className:"text-lg font-bold text-slate-800",children:"Moisture Index"}),s.jsx("div",{className:"text-3xl font-black text-emerald-600",children:"82.4%"}),s.jsx("div",{className:"flex gap-1 h-2",children:[40,70,90,60,80].map((n,r)=>s.jsx("div",{className:"flex-1 bg-emerald-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"bg-emerald-500 h-full",style:{height:`${n}%`}})},r))})]}),s.jsxs("div",{className:"absolute bottom-12 -left-12 bg-white p-5 rounded-2xl shadow-xl border border-slate-100 flex items-center space-x-4 animate-float",children:[s.jsx("div",{className:"w-12 h-12 bg-amber-50 text-amber-600 rounded-xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"zap",className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tighter",children:"AI Prediction"}),s.jsx("div",{className:"text-sm font-black text-slate-800",children:"Storm Warning: 48h"})]})]})]})]})]})]}),s.jsx("div",{className:"py-12 border-y border-slate-100 bg-slate-50/50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsx("p",{className:"text-center text-xs font-bold text-slate-400 uppercase tracking-[0.2em] mb-8",children:"Supported by District Administration & Global Standards"}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-12 opacity-60 grayscale hover:grayscale-0 transition-all",children:[s.jsx("div",{className:"flex items-center space-x-2 font-black text-xl",children:"IMD India"}),s.jsx("div",{className:"flex items-center space-x-2 font-black text-xl",children:"FAO Global"}),s.jsx("div",{className:"flex items-center space-x-2 font-black text-xl",children:"CGIAR Labs"}),s.jsx("div",{className:"flex items-center space-x-2 font-black text-xl",children:"Mandi Connect"}),s.jsx("img",{src:bae,alt:"Government of Maharashtra",className:"h-16 w-auto object-contain"}),s.jsx("img",{src:wae,alt:"Kumbhathon",className:"h-16 w-auto object-contain"})]})]})}),s.jsx("section",{id:"process",className:"py-32 px-4 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center space-y-4 mb-20",children:[s.jsx("h2",{className:"text-4xl lg:text-5xl font-black text-slate-950 tracking-tight",children:"The Precision Journey"}),s.jsx("p",{className:"text-slate-500 max-w-2xl mx-auto text-lg",children:"Three steps to a more resilient, profitable harvest. Driven by Gemini's multi-modal understanding."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 relative",children:[s.jsx("div",{className:"hidden md:block absolute top-1/2 left-1/4 right-1/4 h-px border-t border-dashed border-emerald-200 -z-10"}),[{step:"01",title:"Scan & Capture",desc:"Use your smartphone to capture high-res images of your crops or soil samples.",icon:"camera"},{step:"02",title:"Gemini Analysis",desc:"Our AI processes visuals and climate data to detect early signs of stress or disease.",icon:"cpu"},{step:"03",title:"Actionable Advice",desc:"Receive spoken instructions on irrigation, fertilizer, and optimal harvest windows.",icon:"check-circle"}].map((n,r)=>s.jsxs("div",{className:"relative group p-10 bg-slate-50 rounded-[32px] hover:bg-emerald-50 transition-colors",children:[s.jsx("div",{className:"text-6xl font-black text-emerald-100 absolute top-6 right-8 group-hover:text-emerald-200 transition-colors",children:n.step}),s.jsx("div",{className:"w-16 h-16 bg-emerald-600 text-white rounded-2xl flex items-center justify-center mb-8 shadow-lg shadow-emerald-100",children:s.jsx("i",{"data-lucide":n.icon,className:"w-8 h-8"})}),s.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-4",children:n.title}),s.jsx("p",{className:"text-slate-500 leading-relaxed font-medium",children:n.desc})]},r))]})]})}),s.jsxs("section",{id:"features",className:"py-32 px-4 bg-slate-950 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-emerald-500/10 rounded-full blur-[120px]"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-teal-500/10 rounded-full blur-[120px]"}),s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-8 mb-20",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-emerald-500 font-bold tracking-widest uppercase text-sm",children:"Technology Stack"}),s.jsxs("h2",{className:"text-4xl lg:text-5xl font-black text-white tracking-tight",children:["Built for the Modern ",s.jsx("br",{})," Ag-Industrial Revolution."]})]}),s.jsx("button",{className:"text-white font-bold border-b-2 border-emerald-500 pb-2 hover:text-emerald-400 transition-colors",children:"Explore All Capabilities"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{title:"Disease Detection",desc:"Identify blight, rust, and pests with 98.7% computer vision accuracy.",icon:"search"},{title:"Market Pulse",desc:"Live commodity pricing from 500+ Mandis across the subcontinent.",icon:"bar-chart-3"},{title:"Hyperlocal Weather",desc:"Ward-level forecasts with precision irrigation timing advice.",icon:"cloud-lightning"},{title:"Voice Concierge",desc:"Full multi-lingual support via high-fidelity text-to-speech.",icon:"mic"}].map((n,r)=>s.jsxs("div",{className:"bg-white/5 border border-white/10 p-10 rounded-[32px] hover:bg-white/10 transition-all group",children:[s.jsx("div",{className:"w-12 h-12 bg-emerald-500/20 text-emerald-400 rounded-xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform",children:s.jsx("i",{"data-lucide":n.icon,className:"w-6 h-6"})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:n.title}),s.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:n.desc})]},r))})]})]}),s.jsx("section",{className:"py-32 px-4",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"bg-emerald-600 rounded-[48px] p-12 lg:p-24 text-center relative overflow-hidden shadow-[0_48px_100px_-20px_rgba(16,185,129,0.3)]",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-black/10 rounded-full translate-y-1/2 -translate-x-1/2"}),s.jsxs("div",{className:"relative z-10 space-y-8",children:[s.jsxs("h2",{className:"text-4xl lg:text-6xl font-black text-white leading-tight",children:["Ready to transform ",s.jsx("br",{})," your harvest?"]}),s.jsx("p",{className:"text-emerald-50 text-xl font-medium max-w-xl mx-auto",children:"Join the digital agriculture movement today. No complex setup required."}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-6",children:[s.jsx("button",{onClick:t,className:"bg-white text-emerald-600 px-12 py-5 rounded-2xl font-black text-lg hover:bg-emerald-50 transition-all shadow-xl active:scale-95",children:"Create Your Free Account"}),s.jsx("button",{className:"bg-emerald-700 text-white px-12 py-5 rounded-2xl font-black text-lg hover:bg-emerald-800 transition-all border border-emerald-500/30",children:"Talk to an Expert"})]})]})]})})}),s.jsxs("footer",{className:"py-20 bg-white border-t border-slate-100 px-4",children:[s.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-12 text-sm",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-emerald-600 rounded-lg flex items-center justify-center text-white",children:s.jsx("i",{"data-lucide":"sprout",className:"w-5 h-5"})}),s.jsx("span",{className:"font-bold text-xl text-emerald-950 tracking-tighter",children:"AgriSmart Nashik"})]}),s.jsx("p",{className:"text-slate-400 font-medium leading-relaxed",children:"Pioneering climate-smart agriculture through multi-modal artificial intelligence."}),s.jsx("div",{className:"flex space-x-4",children:["twitter","linkedin","github"].map(n=>s.jsx("div",{className:"w-10 h-10 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center hover:bg-emerald-50 hover:text-emerald-600 transition-all cursor-pointer",children:s.jsx("i",{"data-lucide":n,className:"w-5 h-5"})},n))})]}),[{title:"Platform",links:["Dashboard","Crop Analysis","Climate Insights","Market Trends"]},{title:"Resources",links:["Documentation","Research Papers","API Status","Community Forum"]},{title:"Company",links:["About Us","Sustainability","Partners","Contact"]}].map((n,r)=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("h4",{className:"font-black text-slate-900 uppercase tracking-widest text-xs",children:n.title}),s.jsx("ul",{className:"space-y-4",children:n.links.map(i=>s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-slate-500 font-medium hover:text-emerald-600 transition-colors",children:i})},i))})]},r))]}),s.jsxs("div",{className:"max-w-7xl mx-auto mt-20 pt-8 border-t border-slate-50 flex flex-col md:flex-row justify-between items-center gap-4 text-slate-400 font-medium",children:[s.jsx("p",{children:" 2024 AgriSmart AI Platform. A Next-Gen Agritech Initiative."}),s.jsxs("div",{className:"flex space-x-8",children:[s.jsx("a",{href:"#",className:"hover:text-emerald-600",children:"Privacy Policy"}),s.jsx("a",{href:"#",className:"hover:text-emerald-600",children:"Terms"}),s.jsx("a",{href:"#",className:"hover:text-emerald-600",children:"Cookie Settings"})]})]})]}),s.jsx("style",{children:`
        @keyframes float {
          0% { transform: translateY(0px) rotate(0deg); }
          50% { transform: translateY(-20px) rotate(1deg); }
          100% { transform: translateY(0px) rotate(0deg); }
        }
        @keyframes float-slow {
          0% { transform: translateY(0px) rotate(0deg); }
          50% { transform: translateY(-30px) rotate(-1deg); }
          100% { transform: translateY(0px) rotate(0deg); }
        }
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-float {
          animation: float 6s ease-in-out infinite;
        }
        .animate-float-slow {
          animation: float-slow 8s ease-in-out infinite;
        }
        .animate-fade-in {
          animation: fade-in 1s ease-out forwards;
        }
        html {
          scroll-behavior: smooth;
        }
      `})]});let Nd=[{id:"n1",userId:"u123",title:"Welcome to AgriSmart",message:"Your farm profile is now active. Explore climate insights to get started.",type:"system",severity:"advisory",isRead:!0,channel:"in-app",createdAt:new Date(Date.now()-36e5).toISOString()}],El={sent:1240,delivered:1215,opened:840,clicked:310,failed:25};const Wl={getHistory:async t=>he.wrapSuccess([...Nd].sort((e,n)=>new Date(n.createdAt).getTime()-new Date(e.createdAt).getTime())),markAsRead:async t=>{const e=Nd.find(n=>n.id===t);return e&&(e.isRead=!0,e.openedAt=new Date().toISOString(),El.opened++),he.wrapSuccess(void 0)},markAllAsRead:async t=>(Nd.forEach(e=>{e.userId===t&&!e.isRead&&(e.isRead=!0,e.openedAt=new Date().toISOString(),El.opened++)}),he.wrapSuccess(void 0)),getAnalytics:async()=>he.wrapSuccess(El),send:async(t,e)=>{const n=new Date,r=n.getHours();if(e&&e.preferences.quietHours.enabled){const[c,f]=e.preferences.quietHours.start.split(":").map(Number),[d,p]=e.preferences.quietHours.end.split(":").map(Number),h=r*60+n.getMinutes(),g=c*60+f,y=d*60+p;if((g<y?h>=g&&h<=y:h>=g||h<=y)&&t.severity!=="critical")return console.log(`[Priority Queue] Delaying non-critical alert during Quiet Hours: ${t.title}`),he.wrapSuccess({...t,id:"queued-"+Math.random().toString(36).substr(2,5),isRead:!1,createdAt:n.toISOString(),message:`${t.message} (Queued for morning)`})}let i=t.channel;!(Math.random()>.1)&&i==="push"&&(console.log("[FCM] Push failed. Routing to SMS Fallback..."),i="sms");const o={id:Math.random().toString(36).substr(2,9),isRead:!1,createdAt:n.toISOString(),deliveredAt:n.toISOString(),...t,channel:i};return Nd.push(o),El.sent++,El.delivered++,i==="sms"?console.log(`[Twilio/MSG91] Sending SMS: ${t.message}`):i==="voice"&&console.log(`[Voice API] Ringing user for critical alert: ${t.title}`),he.wrapSuccess(o)}},Sae=({userId:t,isOpen:e,onClose:n})=>{const[r,i]=R.useState([]),[a,o]=R.useState(!0);R.useEffect(()=>{e&&c()},[e]),R.useEffect(()=>{window.lucide&&window.lucide.createIcons()},[r,a]);const c=async()=>{o(!0);const g=await Wl.getHistory(t);g.success&&i(g.data||[]),o(!1)},f=async g=>{await Wl.markAsRead(g),i(y=>y.map(N=>N.id===g?{...N,isRead:!0}:N))},d=async()=>{await Wl.markAllAsRead(t),i(g=>g.map(y=>({...y,isRead:!0})))};if(!e)return null;const p={critical:"bg-red-50 border-red-200 text-red-900",warning:"bg-amber-50 border-amber-200 text-amber-900",advisory:"bg-emerald-50 border-emerald-200 text-emerald-900"},h={critical:"zap",warning:"alert-triangle",advisory:"info"};return s.jsxs("div",{className:"fixed inset-0 z-[60] flex justify-end",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:n}),s.jsxs("div",{className:"relative w-full max-w-md bg-white h-full shadow-2xl flex flex-col animate-slide-in-right",children:[s.jsxs("header",{className:"px-6 py-6 border-b border-slate-100 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Notifications"}),s.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest mt-1",children:"Updates & Farm Alerts"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:d,className:"text-xs font-bold text-emerald-600 hover:bg-emerald-50 px-3 py-1.5 rounded-[15px] transition-colors",children:"Mark all read"}),s.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:bg-slate-50 rounded-full transition-colors",children:s.jsx("i",{"data-lucide":"x",className:"w-6 h-6"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar",children:a?s.jsxs("div",{className:"flex flex-col items-center justify-center h-40 space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),s.jsx("p",{className:"text-sm text-slate-400 font-medium tracking-tight",children:"Syncing farm alerts..."})]}):r.length>0?r.map(g=>s.jsxs("div",{onClick:()=>!g.isRead&&f(g.id),className:`relative p-4 rounded-[15px] border transition-all cursor-pointer group ${p[g.severity]} ${g.isRead?"opacity-70 grayscale-[0.5]":"shadow-sm ring-1 ring-emerald-500/10"}`,children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"mt-1 p-2 rounded-[15px] bg-white shadow-sm flex items-center justify-center shrink-0",children:s.jsx("i",{"data-lucide":h[g.severity],className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h4",{className:"text-sm font-black tracking-tight truncate pr-4",children:g.title}),s.jsx("span",{className:"text-[10px] font-bold opacity-40 shrink-0",children:new Date(g.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),s.jsx("p",{className:"text-xs leading-relaxed opacity-80 mb-2",children:g.message}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded-[15px] bg-white/50 border border-white/50",children:g.channel}),s.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded-[15px] bg-white/50 border border-white/50",children:g.type})]})]})]}),!g.isRead&&s.jsx("div",{className:"absolute top-4 right-4 w-2 h-2 bg-emerald-500 rounded-full"})]},g.id)):s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center space-y-4 px-10",children:[s.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center text-slate-200",children:s.jsx("i",{"data-lucide":"bell-off",className:"w-8 h-8"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-slate-800",children:"Clear Skies"}),s.jsx("p",{className:"text-xs text-slate-400 font-medium leading-relaxed",children:"No new alerts or advisories for your farm currently."})]})]})}),s.jsx("footer",{className:"p-4 border-t border-slate-50 bg-slate-50/30",children:s.jsx("button",{className:"w-full py-4 bg-emerald-600 text-white rounded-[15px] font-black text-sm hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-100 active:scale-95",children:"Manage Preferences"})})]}),s.jsx("style",{children:`
        @keyframes slide-in-right {
          from { transform: translateX(100%); }
          to { transform: translateX(0); }
        }
        .animate-slide-in-right {
          animation: slide-in-right 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }
      `})]})},_ae=()=>{const[t,e]=R.useState(navigator.onLine),[n,r]=R.useState(!1);return R.useEffect(()=>{const i=()=>{e(!0),setTimeout(()=>r(!1),3e3)},a=()=>{e(!1),r(!0)};return window.addEventListener("online",i),window.addEventListener("offline",a),navigator.onLine||r(!0),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",a)}},[]),n?s.jsxs("div",{className:`fixed bottom-24 left-1/2 -translate-x-1/2 z-[100] px-6 py-4 rounded-[28px] border shadow-2xl flex items-center space-x-4 transition-all duration-500 animate-slide-up ${t?"bg-emerald-50 border-emerald-200 text-emerald-800":"bg-amber-950 border-amber-800 text-amber-50"}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center shrink-0 ${t?"bg-emerald-200":"bg-amber-900/50"}`,children:s.jsx("i",{"data-lucide":t?"wifi":"wifi-off",className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-black uppercase tracking-widest",children:t?"Back Online":"You are Offline"}),s.jsx("p",{className:"text-[10px] font-bold opacity-70 leading-tight",children:t?"Synchronizing farm data...":"Working in Lite Mode. Some AI features disabled."})]}),t?s.jsx("div",{className:"w-4 h-4 bg-emerald-500 rounded-full animate-pulse ml-2"}):s.jsx("button",{onClick:()=>r(!1),className:"p-2 hover:bg-white/10 rounded-lg",children:s.jsx("i",{"data-lucide":"x",className:"w-4 h-4"})}),s.jsx("style",{children:`
        .animate-slide-up { animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1); }
        @keyframes slide-up { from { transform: translate(-50%, 20px); opacity: 0; } to { transform: translate(-50%, 0); opacity: 1; } }
      `})]}):null},jae=()=>{const[t,e]=R.useState("0 MB"),[n,r]=R.useState(!1),[i,a]=R.useState(0);R.useEffect(()=>{o();const d=window;d.lucide&&d.lucide.createIcons()},[n,i]);const o=async()=>{if("storage"in navigator&&"estimate"in navigator.storage){const p=((await navigator.storage.estimate()).usage||0)/(1024*1024);e(`${p.toFixed(2)} MB`)}},c=()=>{r(!0),a(0);const d=setInterval(()=>{a(p=>p>=100?(clearInterval(d),r(!1),alert("Nashik Farm Blueprints downloaded for offline use."),100):p+10)},400)},f=async()=>{if(window.confirm("Clear all offline farm data? You will need internet to reload your dashboard.")){const d=await caches.keys();await Promise.all(d.map(p=>caches.delete(p))),o(),alert("Cache cleared.")}};return s.jsxs("div",{className:"max-w-3xl mx-auto space-y-8 pb-24 animate-fade-in",children:[s.jsxs("header",{children:[s.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:"Offline & Storage"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Manage how AgriSmart works without network access"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-8 rounded-[40px] border border-slate-200 shadow-sm space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-emerald-50 text-emerald-600 rounded-2xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"database",className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-black text-slate-900",children:t}),s.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Local Data Used"})]})]}),s.jsx("button",{onClick:f,className:"w-full py-4 bg-slate-50 text-slate-500 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-rose-50 hover:text-rose-600 transition-all border border-slate-100",children:"Purge Local Cache"})]}),s.jsxs("div",{className:"bg-slate-950 p-8 rounded-[40px] text-white space-y-6 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/10 rounded-full blur-3xl"}),s.jsx("h3",{className:"text-lg font-black tracking-tight",children:"Offline Persistence"}),s.jsx("p",{className:"text-xs text-slate-400 leading-relaxed font-medium",children:"Auto-sync caches your last 5 viewed market reports and 7-day weather snapshots automatically."}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),s.jsx("span",{className:"text-[10px] font-black uppercase text-emerald-400",children:"Sync Engine: Active"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-[48px] border border-slate-200 p-12 shadow-sm space-y-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Selective Blueprint Download"}),s.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Download high-res agronomy guides and disease patterns for deep-field work."})]}),s.jsx("button",{onClick:c,disabled:n,className:"px-10 py-5 bg-emerald-600 text-white rounded-[32px] font-black text-sm uppercase tracking-widest shadow-xl shadow-emerald-100 hover:bg-emerald-700 transition-all active:scale-95 disabled:bg-slate-200",children:n?"Downloading...":"Download All Guides"})]}),n&&s.jsxs("div",{className:"space-y-3 animate-fade-in",children:[s.jsxs("div",{className:"flex justify-between text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[s.jsx("span",{children:"Syncing Regional Data..."}),s.jsxs("span",{children:[i,"%"]})]}),s.jsx("div",{className:"w-full bg-slate-100 h-3 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-500",style:{width:`${i}%`}})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{id:"weather",label:"7-Day Forecast",status:"Cached"},{id:"market",label:"Mandi Archives",status:"In Sync"},{id:"crops",label:"My Farm Blueprints",status:"Available Offline"}].map(d=>s.jsxs("div",{className:"p-6 bg-slate-50 rounded-3xl border border-slate-100 flex flex-col justify-between",children:[s.jsx("div",{className:"text-sm font-black text-slate-900 mb-2",children:d.label}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),s.jsx("span",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest",children:d.status})]})]},d.id))})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
      `})]})},kae=()=>{const{user:t,setUser:e}=Vf(),[n,r]=R.useState(t?.preferences||null),[i,a]=R.useState(!1);if(R.useEffect(()=>{const f=window;f.lucide&&f.lucide.createIcons()},[n,i]),!n)return null;const o=async f=>{const d={...n,...f};r(d)},c=async()=>{if(!t)return;a(!0);const f={...t,preferences:n};(await Rb.updateProfile(f)).success&&(e(f),alert("Notification profile updated successfully.")),a(!1)};return s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 pb-24 animate-fade-in",children:[s.jsxs("header",{className:"flex justify-between items-end",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:"Alert Profile"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Customize how and when AgriSmart reaches you"})]}),s.jsxs("button",{onClick:c,disabled:i,className:"px-8 py-3 bg-emerald-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-emerald-100 hover:bg-emerald-700 active:scale-95 transition-all flex items-center space-x-3 disabled:bg-slate-200",children:[i?s.jsx("i",{"data-lucide":"refresh-cw",className:"w-4 h-4 animate-spin"}):s.jsx("i",{"data-lucide":"save",className:"w-4 h-4"}),s.jsx("span",{children:"Apply Changes"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[s.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[s.jsxs("div",{className:`p-8 rounded-[40px] border-2 transition-all flex items-center justify-between ${n.notifications?"bg-white border-emerald-500 shadow-xl shadow-emerald-50":"bg-slate-50 border-slate-100 opacity-60"}`,children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center ${n.notifications?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-400"}`,children:s.jsx("i",{"data-lucide":"bell",className:"w-8 h-8"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Active Surveillance"}),s.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Enable AI-driven farm alerts and market updates"})]})]}),s.jsx("button",{onClick:()=>o({notifications:!n.notifications}),className:`w-14 h-7 rounded-full transition-all relative ${n.notifications?"bg-emerald-500":"bg-slate-300"}`,children:s.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full transition-all ${n.notifications?"left-8":"left-1"}`})})]}),n.notifications&&s.jsxs("div",{className:"space-y-8 animate-slide-up",children:[s.jsxs("div",{className:"bg-white p-10 rounded-[48px] border border-slate-200 shadow-sm space-y-8",children:[s.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-2",children:"Delivery Channels"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{id:"push",label:"Push",icon:"smartphone",desc:"App Banner"},{id:"sms",label:"SMS",icon:"message-square",desc:"Carrier SMS"},{id:"voice",label:"Voice",icon:"phone",desc:"Call Fallback"}].map(f=>s.jsxs("button",{onClick:()=>{const d={...n.notificationChannels,[f.id]:!n.notificationChannels[f.id]};o({notificationChannels:d})},className:`p-6 rounded-[32px] border-2 text-left transition-all ${n.notificationChannels[f.id]?"bg-emerald-50 border-emerald-500":"bg-slate-50 border-slate-100 opacity-60"}`,children:[s.jsx("i",{"data-lucide":f.icon,className:`w-6 h-6 mb-4 ${n.notificationChannels[f.id]?"text-emerald-600":"text-slate-400"}`}),s.jsx("div",{className:"font-black text-slate-900 uppercase text-[10px] tracking-widest",children:f.label}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold mt-1",children:f.desc})]},f.id))})]}),s.jsxs("div",{className:"bg-white p-10 rounded-[48px] border border-slate-200 shadow-sm space-y-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-2",children:"Smart Timing (Quiet Hours)"}),s.jsx("button",{onClick:()=>o({quietHours:{...n.quietHours,enabled:!n.quietHours.enabled}}),className:`w-10 h-5 rounded-full relative transition-all ${n.quietHours.enabled?"bg-emerald-500":"bg-slate-300"}`,children:s.jsx("div",{className:`absolute top-0.5 w-4 h-4 bg-white rounded-full transition-all ${n.quietHours.enabled?"left-5.5":"left-0.5"}`})})]}),n.quietHours.enabled&&s.jsxs("div",{className:"flex items-center space-x-12 p-8 bg-slate-50 rounded-[32px] border border-slate-100",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-2",children:"Start Time (DND)"}),s.jsx("input",{type:"time",value:n.quietHours.start,onChange:f=>o({quietHours:{...n.quietHours,start:f.target.value}}),className:"w-full p-4 bg-white border border-slate-200 rounded-2xl font-black text-xl text-slate-700 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),s.jsx("div",{className:"w-10 h-px bg-slate-200 shrink-0"}),s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-2",children:"Wake Up (End)"}),s.jsx("input",{type:"time",value:n.quietHours.end,onChange:f=>o({quietHours:{...n.quietHours,end:f.target.value}}),className:"w-full p-4 bg-white border border-slate-200 rounded-2xl font-black text-xl text-slate-700 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]})]}),s.jsx("p",{className:"text-[10px] text-slate-400 font-bold italic text-center",children:"Note: Critical weather warnings (Hail/Frost) will always bypass quiet hours."})]}),s.jsxs("div",{className:"bg-white p-10 rounded-[48px] border border-slate-200 shadow-sm space-y-8",children:[s.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-2",children:"Surveillance Categories"}),s.jsx("div",{className:"space-y-4",children:[{id:"weather",label:"Climate & Hazards",desc:"Hail, Frost, Rain projections",icon:"cloud-lightning"},{id:"market",label:"Market Fluctuations",desc:"Price peaks, Mandi arrivals",icon:"trending-up"},{id:"community",label:"Commons Discussions",desc:"New replies to your posts",icon:"users"},{id:"advisory",label:"AI Daily Plan",desc:"Your personalized task list",icon:"sparkles"}].map(f=>s.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-50 rounded-[32px] group hover:bg-white border border-transparent hover:border-emerald-200 transition-all",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center text-slate-400 group-hover:text-emerald-500 transition-colors shadow-sm",children:s.jsx("i",{"data-lucide":f.icon,className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-black text-slate-900",children:f.label}),s.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase",children:f.desc})]})]}),s.jsx("button",{onClick:()=>{const d={...n.categorySettings,[f.id]:!n.categorySettings[f.id]};o({categorySettings:d})},className:`w-10 h-10 rounded-xl border-2 flex items-center justify-center transition-all ${n.categorySettings[f.id]?"bg-emerald-500 border-emerald-500 text-white":"border-slate-200 text-transparent"}`,children:s.jsx("i",{"data-lucide":"check",className:"w-5 h-5"})})]},f.id))})]})]})]}),s.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[s.jsxs("div",{className:"bg-slate-950 p-10 rounded-[48px] text-white shadow-2xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-emerald-500/10 rounded-full blur-3xl"}),s.jsx("h3",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-[0.4em] mb-8",children:"System Health"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-end mb-2",children:[s.jsx("span",{className:"text-[10px] font-black uppercase text-slate-500",children:"Push Status"}),s.jsx("span",{className:"text-sm font-bold text-emerald-400",children:"Connected"})]}),s.jsx("div",{className:"w-full bg-white/5 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-400",style:{width:"100%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-end mb-2",children:[s.jsx("span",{className:"text-[10px] font-black uppercase text-slate-500",children:"Carrier Fallback (SMS)"}),s.jsx("span",{className:"text-sm font-bold text-emerald-400",children:"98% Ready"})]}),s.jsx("div",{className:"w-full bg-white/5 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-400",style:{width:"98%"}})})]}),s.jsx("p",{className:"text-[10px] text-slate-500 leading-relaxed font-medium italic",children:'"AgriSmart uses a multi-layered delivery approach. If data is unavailable, we fallback to SMS for critical alerts."'})]})]}),s.jsxs("div",{className:"p-8 bg-blue-50 border border-blue-100 rounded-[40px] space-y-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 text-blue-600 rounded-2xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"shield-check",className:"w-6 h-6"})}),s.jsx("h4",{className:"text-sm font-black text-blue-900 uppercase tracking-tight",children:"Data Policy"}),s.jsx("p",{className:"text-xs text-blue-800/70 leading-relaxed font-medium",children:"AgriSmart never shares your phone number with 3rd party marketers. All SMS and Voice alerts are strictly agricultural."})]})]})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-slide-up { animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slide-up { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
      `})]})},Aae=()=>{const[t,e]=R.useState(null),[n,r]=R.useState(!0);R.useEffect(()=>{i()},[]),R.useEffect(()=>{const o=window;o.lucide&&o.lucide.createIcons()},[n,t]);const i=async()=>{r(!0);const o=await Wl.getAnalytics();o.success&&e(o.data||null),r(!1)},a=t?[{name:"Opened",value:t.opened,color:"#10b981"},{name:"Ignored",value:t.delivered-t.opened,color:"#94a3b8"},{name:"Failed",value:t.failed,color:"#ef4444"}]:[];return n||!t?s.jsxs("div",{className:"flex flex-col items-center justify-center py-40",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mb-6"}),s.jsx("p",{className:"text-slate-500 font-black uppercase tracking-widest text-xs",children:"Auditing Delivery Nodes..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-24 animate-fade-in",children:[s.jsxs("header",{children:[s.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:"Delivery Console"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Real-time notification metrics & pipeline status"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Total Sent",val:t.sent,icon:"send",color:"text-blue-600",bg:"bg-blue-50"},{label:"Delivered",val:t.delivered,icon:"check-circle",color:"text-emerald-600",bg:"bg-emerald-50"},{label:"Open Rate",val:`${Math.round(t.opened/t.delivered*100)}%`,icon:"eye",color:"text-purple-600",bg:"bg-purple-50"},{label:"Failures",val:t.failed,icon:"alert-octagon",color:"text-rose-600",bg:"bg-rose-50"}].map((o,c)=>s.jsxs("div",{className:"bg-white p-8 rounded-[40px] border border-slate-200 shadow-sm group",children:[s.jsx("div",{className:`w-12 h-12 ${o.bg} ${o.color} rounded-2xl flex items-center justify-center mb-6`,children:s.jsx("i",{"data-lucide":o.icon,className:"w-6 h-6"})}),s.jsx("div",{className:"text-3xl font-black text-slate-900 leading-none",children:o.val}),s.jsx("div",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mt-2",children:o.label})]},c))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white p-12 rounded-[56px] border border-slate-200 shadow-sm space-y-10",children:[s.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Pipeline Conversion"}),s.jsxs("div",{className:"h-80 relative",children:[s.jsx(Dt,{width:"100%",height:"100%",children:s.jsxs(Xw,{children:[s.jsx(wr,{data:a,cx:"50%",cy:"50%",innerRadius:80,outerRadius:120,paddingAngle:5,dataKey:"value",children:a.map((o,c)=>s.jsx(Mr,{fill:o.color},`cell-${c}`))}),s.jsx(mt,{})]})}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[s.jsxs("div",{className:"text-4xl font-black text-slate-900",children:[Math.round(t.opened/t.delivered*100),"%"]}),s.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase",children:"CTR Avg"})]})]}),s.jsx("div",{className:"grid grid-cols-3 gap-4",children:a.map((o,c)=>s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:o.color}}),s.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400",children:o.name})]}),s.jsx("div",{className:"text-lg font-black text-slate-800",children:o.value})]},c))})]}),s.jsxs("div",{className:"bg-slate-900 p-12 rounded-[56px] text-white shadow-2xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-emerald-500/10 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative z-10 space-y-10",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-black tracking-tight",children:"Channel Efficiency"}),s.jsx("div",{className:"px-3 py-1 bg-white/10 rounded-lg text-[9px] font-black uppercase tracking-widest border border-white/10",children:"Real-time"})]}),s.jsx("div",{className:"space-y-8",children:[{label:"Push Notifications (FCM)",rate:94,success:98},{label:"SMS Gateway (Twilio)",rate:82,success:99},{label:"Voice Alert (Automated)",rate:76,success:95}].map((o,c)=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-xs font-black uppercase tracking-tight",children:[s.jsx("span",{className:"text-slate-400",children:o.label}),s.jsxs("span",{className:"text-emerald-400",children:[o.rate,"% Engagement"]})]}),s.jsx("div",{className:"w-full bg-white/5 h-2 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-400 rounded-full",style:{width:`${o.rate}%`}})}),s.jsxs("div",{className:"flex justify-between text-[9px] font-bold opacity-40 uppercase",children:[s.jsx("span",{children:"Throughput Healthy"}),s.jsxs("span",{children:[o.success,"% Success Rate"]})]})]},c))}),s.jsxs("div",{className:"pt-8 border-t border-white/10 flex gap-4",children:[s.jsx("button",{className:"flex-1 py-4 bg-white text-slate-950 rounded-[32px] font-black text-xs uppercase tracking-widest hover:bg-emerald-400 transition-all",children:"View Delivery Logs"}),s.jsx("button",{className:"px-8 py-4 bg-white/10 border border-white/10 rounded-[32px] hover:bg-white/20 transition-all",children:s.jsx("i",{"data-lucide":"download",className:"w-5 h-5"})})]})]})]})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
      `})]})};let r2=[{id:"job-1",name:"Weather Sync (Nashik)",description:"Polls regional AWS nodes for Ward-level weather telemetry.",schedule:"0 */6 * * *",status:"IDLE",lastRun:new Date(Date.now()-36e5*2).toISOString(),nextRun:new Date(Date.now()+36e5*4).toISOString(),avgDurationMs:1240,successRate:99.8},{id:"job-2",name:"Mandi Price Crawler",description:"Aggregates modal prices from eNAM and Agmarknet for MH region.",schedule:"0 8-18/2 * * *",status:"IDLE",lastRun:new Date(Date.now()-36e5).toISOString(),nextRun:new Date(Date.now()+36e5).toISOString(),avgDurationMs:4500,successRate:98.5},{id:"job-3",name:"Bulk Advisory Gen",description:"Triggers Gemini 1.5 Pro personalized advisory generation for all active farmers.",schedule:"0 5 * * *",status:"IDLE",lastRun:new Date(new Date().setHours(5,0,0,0)).toISOString(),nextRun:new Date(new Date().setHours(5,0,0,0)+864e5).toISOString(),avgDurationMs:12e4,successRate:94.2},{id:"job-4",name:"ML Model Retraining",description:"Weekly Vertex AI AutoML cycle for price prediction models.",schedule:"0 0 * * 0",status:"IDLE",lastRun:new Date(Date.now()-864e5*3).toISOString(),nextRun:new Date(Date.now()+864e5*4).toISOString(),avgDurationMs:18e5,successRate:100},{id:"job-5",name:"DB Cleanup & Archival",description:"Moves historical sensor data > 1yr to Coldline Storage.",schedule:"0 0 1 * *",status:"IDLE",lastRun:"2024-05-01T00:00:00Z",nextRun:"2024-06-01T00:00:00Z",avgDurationMs:6e5,successRate:100}],Uv=[{id:"evt-1",timestamp:new Date().toISOString(),type:"CLIMATE_ALERT",message:"Extreme Temperature Trigger (38C) detected in Niphad block.",source:"WeatherEngine-V2",severity:"CRITICAL"}];const Bv={getJobs:async()=>he.wrapSuccess(r2),getEvents:async()=>he.wrapSuccess([...Uv].reverse()),triggerJob:async t=>{const e=r2.find(n=>n.id===t);return e&&(e.status="RUNNING",setTimeout(()=>{e.status="SUCCESS",e.lastRun=new Date().toISOString(),Uv.push({id:Math.random().toString(36).substr(2,5),timestamp:new Date().toISOString(),type:"USER_ACTION",message:`Manual trigger: ${e.name} completed successfully.`,source:"AdminPortal",severity:"INFO"})},2e3)),he.wrapSuccess(void 0)},pushEvent:async t=>{const e={...t,id:Math.random().toString(36).substr(2,9),timestamp:new Date().toISOString()};return Uv.push(e),he.wrapSuccess(e)}},Tae=()=>{const[t,e]=R.useState([]),[n,r]=R.useState([]),[i,a]=R.useState(!0),[o,c]=R.useState("ALL"),f=R.useRef(null);R.useEffect(()=>{d();const N=setInterval(d,1e4);return()=>clearInterval(N)},[]),R.useEffect(()=>{const N=window;N.lucide&&N.lucide.createIcons(),f.current&&(f.current.scrollTop=0)},[i,t,n]);const d=async()=>{const[N,S]=await Promise.all([Bv.getJobs(),Bv.getEvents()]);N.success&&e(N.data||[]),S.success&&r(S.data||[]),a(!1)},p=async N=>{await Bv.triggerJob(N),d()},h=n.filter(N=>o==="ALL"?!0:N.severity===o),g=N=>{switch(N){case"RUNNING":return"bg-blue-500 animate-pulse text-white";case"SUCCESS":return"bg-emerald-500 text-white";case"FAILED":return"bg-rose-500 text-white";default:return"bg-slate-200 text-slate-500"}},y=[{name:"00:00",load:12},{name:"04:00",load:85},{name:"08:00",load:45},{name:"12:00",load:30},{name:"16:00",load:60},{name:"20:00",load:25}];return i&&t.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-40",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mb-6"}),s.jsx("p",{className:"text-slate-500 font-black uppercase tracking-widest text-xs",children:"Connecting to Cloud Resource Manager..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-24 animate-fade-in",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-slate-900 text-emerald-400 border border-emerald-500/20 text-[10px] font-black uppercase tracking-widest mb-4",children:[s.jsx("i",{"data-lucide":"cloud",className:"w-3 h-3 mr-2"}),"GCP Cloud Scheduler: Active"]}),s.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:"System Automations"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Monitoring recurring pipelines and event-driven functions"})]}),s.jsx("div",{className:"flex gap-4",children:s.jsxs("div",{className:"p-4 bg-white border border-slate-200 rounded-[32px] flex items-center space-x-6 shadow-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl font-black text-slate-900",children:"99.9%"}),s.jsx("div",{className:"text-[8px] font-black text-slate-400 uppercase",children:"Uptime"})]}),s.jsx("div",{className:"w-px h-8 bg-slate-100"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl font-black text-emerald-600",children:"Active"}),s.jsx("div",{className:"text-[8px] font-black text-slate-400 uppercase",children:"Worker Node"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[s.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-[48px] border border-slate-200 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"px-10 py-8 border-b border-slate-50 flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Cloud Scheduler Tasks"}),s.jsx("button",{onClick:d,className:"p-2 hover:bg-slate-50 rounded-lg text-slate-400 transition-colors",children:s.jsx("i",{"data-lucide":"refresh-cw",className:"w-4 h-4"})})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[s.jsx("th",{className:"px-10 py-5",children:"Pipeline Name"}),s.jsx("th",{className:"px-10 py-5",children:"Schedule (Cron)"}),s.jsx("th",{className:"px-10 py-5 text-center",children:"Status"}),s.jsx("th",{className:"px-10 py-5",children:"Last Run"}),s.jsx("th",{className:"px-10 py-5"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-50",children:t.map(N=>s.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[s.jsxs("td",{className:"px-10 py-8",children:[s.jsx("div",{className:"font-black text-slate-900",children:N.name}),s.jsx("div",{className:"text-[9px] text-slate-400 font-medium max-w-[200px] truncate",children:N.description})]}),s.jsx("td",{className:"px-10 py-8",children:s.jsx("code",{className:"px-2 py-1 bg-slate-100 rounded text-[10px] font-mono text-slate-600",children:N.schedule})}),s.jsx("td",{className:"px-10 py-8 text-center",children:s.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[8px] font-black uppercase tracking-widest ${g(N.status)}`,children:N.status})}),s.jsxs("td",{className:"px-10 py-8",children:[s.jsx("div",{className:"text-[10px] font-bold text-slate-600",children:new Date(N.lastRun).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),s.jsxs("div",{className:"text-[8px] text-slate-400 font-black uppercase tracking-tight",children:["Success: ",N.successRate,"%"]})]}),s.jsx("td",{className:"px-10 py-8 text-right",children:s.jsx("button",{onClick:()=>p(N.id),disabled:N.status==="RUNNING",className:"p-3 bg-white border border-slate-200 text-slate-400 hover:text-emerald-600 hover:border-emerald-200 rounded-xl transition-all shadow-sm active:scale-90",children:s.jsx("i",{"data-lucide":"play",className:"w-4 h-4 fill-current"})})})]},N.id))})]})})]}),s.jsxs("div",{className:"bg-slate-950 rounded-[48px] p-10 text-white shadow-2xl relative overflow-hidden flex flex-col h-[500px]",children:[s.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-emerald-500/5 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8 shrink-0",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black tracking-tight",children:"Cloud Functions Log"}),s.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.3em] mt-1",children:"Event-Driven Execution Stream"})]}),s.jsx("div",{className:"flex bg-white/5 p-1 rounded-xl",children:["ALL","CRITICAL"].map(N=>s.jsx("button",{onClick:()=>c(N),className:`px-4 py-1.5 rounded-lg text-[9px] font-black transition-all ${o===N?"bg-emerald-500 text-white":"text-slate-500"}`,children:N},N))})]}),s.jsxs("div",{ref:f,className:"flex-1 overflow-y-auto no-scrollbar font-mono text-[11px] space-y-4 pb-4",children:[h.map(N=>s.jsxs("div",{className:"animate-fade-in flex space-x-4 border-l-2 border-white/5 pl-4 hover:border-emerald-500/50 transition-colors",children:[s.jsxs("span",{className:"text-slate-600 shrink-0",children:["[",new Date(N.timestamp).toLocaleTimeString(),"]"]}),s.jsx("span",{className:`font-black shrink-0 ${N.severity==="CRITICAL"?"text-rose-400":N.severity==="WARNING"?"text-amber-400":"text-emerald-400"}`,children:N.type}),s.jsx("span",{className:"text-slate-400 leading-relaxed",children:N.message}),s.jsxs("span",{className:"text-[9px] text-slate-700 italic ml-auto uppercase tracking-tighter",children:["src:",N.source]})]},N.id)),h.length===0&&s.jsx("div",{className:"text-slate-600 italic",children:"No events currently being processed..."})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[s.jsxs("div",{className:"bg-white p-10 rounded-[48px] border border-slate-200 shadow-sm space-y-8",children:[s.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Resource Monitoring"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-end mb-2",children:[s.jsx("span",{className:"text-[10px] font-black uppercase text-slate-500",children:"Instance CPU (Auto-scaling)"}),s.jsx("span",{className:"text-sm font-black text-slate-900",children:"42%"})]}),s.jsx("div",{className:"w-full bg-slate-50 h-2 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-500",style:{width:"42%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-end mb-2",children:[s.jsx("span",{className:"text-[10px] font-black uppercase text-slate-500",children:"Active Function Queues"}),s.jsx("span",{className:"text-sm font-black text-slate-900",children:"12 / 100"})]}),s.jsx("div",{className:"w-full bg-slate-50 h-2 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500",style:{width:"12%"}})})]})]}),s.jsx("div",{className:"h-40",children:s.jsx(Dt,{width:"100%",height:"100%",children:s.jsxs(Gc,{data:y,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"loadGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.1}),s.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),s.jsx(Xt,{type:"monotone",dataKey:"load",stroke:"#10b981",fill:"url(#loadGradient)",strokeWidth:2,dot:!1})]})})}),s.jsx("p",{className:"text-[10px] text-slate-400 leading-relaxed font-medium italic text-center",children:"Peak activity at 05:00 AM due to global advisory generation window."})]}),s.jsxs("div",{className:"bg-emerald-950 p-10 rounded-[48px] text-white space-y-8 relative overflow-hidden shadow-2xl",children:[s.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-emerald-400/10 rounded-full blur-3xl"}),s.jsxs("div",{className:"relative z-10 space-y-6",children:[s.jsx("h4",{className:"text-lg font-black tracking-tight",children:"Vertex AI Hub Connection"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-xl flex items-center justify-center",children:s.jsx("i",{"data-lucide":"cpu",className:"w-5 h-5 text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-black uppercase",children:"Model Artifacts"}),s.jsx("div",{className:"text-sm font-bold text-emerald-400",children:"Nashik-Ensemble-v4"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase opacity-60",children:[s.jsx("span",{children:"Predictive Confidence"}),s.jsx("span",{children:"94.8%"})]}),s.jsx("div",{className:"w-full bg-white/10 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-400",style:{width:"94.8%"}})})]}),s.jsx("button",{className:"w-full py-4 bg-white text-slate-950 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-emerald-400 transition-all",children:"Access Training Logs"})]})]})]})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-slide-up { animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slide-up { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
      `})]})},Ll={logEvent:async(t,e)=>{console.log(`[Analytics] Logging: ${t}`,e)},getBusinessMetrics:async()=>he.wrapSuccess({dau:1240,mau:8500,retentionRate:68.5,avgSessionMinutes:8.2,totalUsers:12450}),getFeatureUsage:async()=>he.wrapSuccess([{feature:"Daily Advisory",count:4500,growth:12},{feature:"Crop Scanner",count:2800,growth:24},{feature:"Mandi Rates",count:3200,growth:5},{feature:"Expert Hub",count:850,growth:18},{feature:"Voice Assistant",count:1200,growth:42}]),getImpactMetrics:async()=>he.wrapSuccess({yieldIncreasePercent:24.5,waterSavedLiters:125e4,incomeGrowthPercent:18.2,advisoryCompliance:74}),getPerformanceStats:async()=>he.wrapSuccess({p50:120,p95:450,p99:1200,errorRate:.04})},Eae=()=>{const[t,e]=R.useState(null),[n,r]=R.useState([]),[i,a]=R.useState(null),[o,c]=R.useState(null),[f,d]=R.useState(!0);R.useEffect(()=>{p()},[]),R.useEffect(()=>{const y=window;y.lucide&&y.lucide.createIcons()},[f,t,n,i,o]);const p=async()=>{d(!0);const[y,N,S,w]=await Promise.all([Ll.getBusinessMetrics(),Ll.getFeatureUsage(),Ll.getImpactMetrics(),Ll.getPerformanceStats()]);y.success&&e(y.data||null),N.success&&r(N.data||[]),S.success&&a(S.data||null),w.success&&c(w.data||null),d(!1)},h=[{name:"Mon",active:1100},{name:"Tue",active:1250},{name:"Wed",active:1150},{name:"Thu",active:1300},{name:"Fri",active:1420},{name:"Sat",active:1100},{name:"Sun",active:1050}],g=i?[{name:"Yield Gain",value:i.yieldIncreasePercent,color:"#10b981"},{name:"Income Growth",value:i.incomeGrowthPercent,color:"#3b82f6"},{name:"Efficiency",value:i.advisoryCompliance,color:"#f59e0b"}]:[];return f?s.jsxs("div",{className:"flex flex-col items-center justify-center py-40",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mb-6"}),s.jsx("p",{className:"text-slate-500 font-black uppercase tracking-widest text-xs",children:"Querying Data Warehouse..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 pb-24 animate-fade-in",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-slate-900 text-emerald-400 border border-emerald-500/20 text-[10px] font-black uppercase tracking-widest mb-4",children:[s.jsx("i",{"data-lucide":"database",className:"w-3 h-3 mr-2"}),"BigQuery Data Warehouse: Connected"]}),s.jsx("h1",{className:"text-5xl font-black text-slate-900 tracking-tighter",children:"Business Intelligence"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Global activity tracking and ecosystem impact monitoring"})]}),s.jsx("div",{className:"flex gap-4",children:s.jsxs("button",{className:"px-8 py-4 bg-white border border-slate-200 rounded-[32px] font-black text-xs uppercase tracking-widest shadow-sm hover:bg-slate-50 transition-all flex items-center gap-2",children:[s.jsx("i",{"data-lucide":"download",className:"w-4 h-4"}),"Generate Report"]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Userbase",val:t?.totalUsers.toLocaleString(),icon:"users",color:"text-blue-600",bg:"bg-blue-50",change:"+12%"},{label:"DAU / MAU",val:`${Math.round(t.dau/t.mau*100)}%`,icon:"activity",color:"text-emerald-600",bg:"bg-emerald-50",change:"+5.4%"},{label:"Avg Session",val:`${t?.avgSessionMinutes}m`,icon:"clock",color:"text-purple-600",bg:"bg-purple-50",change:"+2m"},{label:"System Error",val:`${o?.errorRate}%`,icon:"alert-octagon",color:"text-rose-600",bg:"bg-rose-50",change:"-1%"}].map((y,N)=>s.jsxs("div",{className:"bg-white p-8 rounded-[48px] border border-slate-200 shadow-sm relative overflow-hidden group",children:[s.jsx("div",{className:`w-12 h-12 ${y.bg} ${y.color} rounded-2xl flex items-center justify-center mb-6`,children:s.jsx("i",{"data-lucide":y.icon,className:"w-6 h-6"})}),s.jsxs("div",{className:"flex justify-between items-end",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-black text-slate-900 leading-none",children:y.val}),s.jsx("div",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mt-2",children:y.label})]}),s.jsx("div",{className:`text-[10px] font-black px-2 py-1 rounded-lg ${y.change.startsWith("+")?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:y.change})]})]},N))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white p-12 rounded-[56px] border border-slate-200 shadow-sm space-y-10",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Active User Trajectory"}),s.jsxs("select",{className:"bg-slate-50 border-none text-[10px] font-black uppercase tracking-widest rounded-xl px-4 py-2 outline-none",children:[s.jsx("option",{children:"Last 7 Days"}),s.jsx("option",{children:"Last 30 Days"})]})]}),s.jsx("div",{className:"h-80",children:s.jsx(Dt,{width:"100%",height:"100%",children:s.jsxs(Gc,{data:h,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"growthGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.1}),s.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),s.jsx(gn,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),s.jsx(Lt,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:"bold"}}),s.jsx($t,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10}}),s.jsx(mt,{contentStyle:{borderRadius:"24px",border:"none",boxShadow:"0 25px 50px -12px rgb(0 0 0 / 0.1)"}}),s.jsx(Xt,{type:"monotone",name:"Daily Actives",dataKey:"active",stroke:"#10b981",strokeWidth:4,fill:"url(#growthGrad)"})]})})})]}),s.jsxs("div",{className:"bg-slate-900 p-12 rounded-[56px] text-white shadow-2xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-emerald-500/10 rounded-full blur-[100px]"}),s.jsx("h3",{className:"text-xl font-black tracking-tight mb-10",children:"Feature Adoption"}),s.jsx("div",{className:"space-y-8",children:n.map((y,N)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs font-black uppercase tracking-tight",children:[s.jsx("span",{className:"text-slate-400",children:y.feature}),s.jsxs("span",{className:"text-emerald-400",children:["+",y.growth,"% Growth"]})]}),s.jsx("div",{className:"w-full bg-white/5 h-2 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-400",style:{width:`${y.count/5e3*100}%`}})})]},N))}),s.jsxs("div",{className:"mt-12 p-6 bg-white/5 border border-white/10 rounded-3xl",children:[s.jsx("div",{className:"text-[10px] font-black uppercase opacity-40 mb-2",children:"Power Users"}),s.jsx("div",{className:"flex -space-x-3",children:[1,2,3,4,5].map(y=>s.jsxs("div",{className:"w-10 h-10 rounded-full border-2 border-slate-900 bg-slate-800 flex items-center justify-center font-black text-[10px]",children:["U",y]},y))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white p-12 rounded-[56px] border border-slate-200 shadow-sm",children:[s.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight mb-12",children:"Aggregate Agri-Impact"}),s.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[s.jsxs("div",{className:"h-64 relative",children:[s.jsx(Dt,{width:"100%",height:"100%",children:s.jsxs(Xw,{children:[s.jsx(wr,{data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:8,dataKey:"value",children:g.map((y,N)=>s.jsx(Mr,{fill:y.color},`cell-${N}`))}),s.jsx(mt,{})]})}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[s.jsxs("div",{className:"text-3xl font-black text-slate-900",children:[i?.advisoryCompliance,"%"]}),s.jsx("div",{className:"text-[8px] font-black text-slate-400 uppercase",children:"Compliance"})]})]}),s.jsx("div",{className:"space-y-6 flex flex-col justify-center",children:[{label:"Est. Yield Delta",val:`+${i?.yieldIncreasePercent}%`,icon:"trending-up",color:"text-emerald-600"},{label:"Water Conserved",val:`${(i.waterSavedLiters/1e6).toFixed(1)}ML`,icon:"droplet",color:"text-blue-600"},{label:"Avg Income Delta",val:`+${i?.incomeGrowthPercent}%`,icon:"indian-rupee",color:"text-amber-600"}].map((y,N)=>s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl bg-slate-50 ${y.color} flex items-center justify-center`,children:s.jsx("i",{"data-lucide":y.icon,className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-black text-slate-900",children:y.val}),s.jsx("div",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:y.label})]})]},N))})]})]}),s.jsxs("div",{className:"bg-white p-12 rounded-[56px] border border-slate-200 shadow-sm space-y-10",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:"API Latency Percentiles"}),s.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-1",children:"Global Response Performance"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),s.jsx("span",{className:"text-[10px] font-black uppercase text-emerald-600",children:"SLA: Target Met"})]})]}),s.jsx("div",{className:"h-64",children:s.jsx(Dt,{width:"100%",height:"100%",children:s.jsxs(Ba,{data:[{name:"p50",val:o?.p50,color:"#10b981"},{name:"p95",val:o?.p95,color:"#3b82f6"},{name:"p99",val:o?.p99,color:"#f59e0b"}],children:[s.jsx(gn,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),s.jsx(Lt,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:"bold"}}),s.jsx($t,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10},unit:"ms"}),s.jsx(mt,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"16px",border:"none"}}),s.jsx(sn,{dataKey:"val",radius:[8,8,0,0],barSize:60,children:[1,2,3].map((y,N)=>s.jsx(Mr,{fill:N===0?"#10b981":N===1?"#3b82f6":"#f59e0b"},N))})]})})}),s.jsx("p",{className:"text-[10px] text-slate-400 leading-relaxed font-medium italic text-center",children:"Inference overhead primarily driven by Gemini 1.5 multi-modal token processing."})]})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
      `})]})},Cl={getPipeline:async()=>he.wrapSuccess([{id:"1",name:"Lint & Prettier",status:"SUCCESS",durationMs:4500,logs:["All files formatted.","No lint errors found."]},{id:"2",name:"Unit Tests (Jest)",status:"SUCCESS",durationMs:12400,logs:["PASS  api/crops/service.test.ts","PASS  utils/agronomy.test.ts","42 tests passed."]},{id:"3",name:"Security Audit",status:"SUCCESS",durationMs:8200,logs:["Scanning for dependencies...","No vulnerabilities found."]},{id:"4",name:"Build (Next.js)",status:"RUNNING",durationMs:35e3,logs:["Creating optimized production build...","Compiling..."]},{id:"5",name:"PWA Staging Deploy",status:"PENDING",durationMs:0,logs:[]}]),getCoverage:async()=>he.wrapSuccess({unit:88.4,integration:74.2,e2e:62.5,total:75.03}),getUATFeedback:async()=>he.wrapSuccess([{id:"f1",userId:"u101",userName:"Vikas K.",role:"Farmer",rating:5,category:"Accuracy",comment:"Crop scanner identified Downy Mildew correctly on the first try.",timestamp:new Date().toISOString()},{id:"f2",userId:"u202",userName:"Sunita P.",role:"Progressive Farmer",rating:4,category:"Usability",comment:"Market Hub is fast, but adding custom alerts took a few taps too many.",timestamp:new Date(Date.now()-864e5).toISOString()},{id:"f3",userId:"u303",userName:"Dr. Patil",role:"Expert",rating:5,category:"Feature Request",comment:"Adding a PHI calculator in the spray registry would be amazing for export compliance.",timestamp:new Date(Date.now()-1728e5).toISOString()}]),getLoadMetrics:async()=>he.wrapSuccess({concurrentUsers:5400,avgLatency:312,errorRate:.02,cpuUsage:45,memoryUsage:68}),triggerPipeline:async()=>he.wrapSuccess(void 0)},Cae=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(null),[i,a]=R.useState([]),[o,c]=R.useState(null),[f,d]=R.useState(!0),[p,h]=R.useState(!1);R.useEffect(()=>{g()},[]),R.useEffect(()=>{const S=window;S.lucide&&S.lucide.createIcons()},[f,t,n,i,o]);const g=async()=>{d(!0);const[S,w,j,T]=await Promise.all([Cl.getPipeline(),Cl.getCoverage(),Cl.getUATFeedback(),Cl.getLoadMetrics()]);S.success&&e(S.data||[]),w.success&&r(w.data||null),j.success&&a(j.data||[]),T.success&&c(T.data||null),d(!1)},y=async()=>{h(!0),await Cl.triggerPipeline(),setTimeout(()=>{g(),h(!1)},2e3)},N=n?[{name:"Covered",value:n.total,color:"#10b981"},{name:"Gap",value:100-n.total,color:"#f1f5f9"}]:[];return f?s.jsxs("div",{className:"flex flex-col items-center justify-center py-40",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mb-6"}),s.jsx("p",{className:"text-slate-500 font-black uppercase tracking-widest text-xs animate-pulse",children:"Initializing QA Audit Hub..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 pb-24 animate-fade-in",children:[s.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-slate-900 text-blue-400 border border-blue-500/20 text-[10px] font-black uppercase tracking-widest mb-4",children:[s.jsx("i",{"data-lucide":"shield-check",className:"w-3 h-3 mr-2"}),"QA & DevOps Framework Active"]}),s.jsx("h1",{className:"text-5xl font-black text-slate-900 tracking-tighter",children:"Quality Assurance"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Monitoring code coverage, automated tests, and UAT feedback"})]}),s.jsxs("button",{onClick:y,disabled:p,className:"px-10 py-5 bg-emerald-600 text-white rounded-[32px] font-black text-lg shadow-xl shadow-emerald-100 hover:bg-emerald-700 transition-all flex items-center space-x-3 active:scale-95 disabled:bg-slate-200",children:[p?s.jsx("i",{"data-lucide":"refresh-cw",className:"w-6 h-6 animate-spin"}):s.jsx("i",{"data-lucide":"play",className:"w-6 h-6"}),s.jsx("span",{children:"Run Deployment Suite"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[s.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[s.jsxs("div",{className:"bg-white p-10 rounded-[56px] border border-slate-200 shadow-sm overflow-hidden",children:[s.jsxs("h3",{className:"text-xl font-black text-slate-950 mb-12 flex items-center gap-3",children:[s.jsx("i",{"data-lucide":"git-merge",className:"w-6 h-6 text-slate-400"}),"CI/CD Pipeline: production-main"]}),s.jsxs("div",{className:"relative flex flex-col md:flex-row justify-between items-center gap-8 md:gap-4",children:[s.jsx("div",{className:"hidden md:block absolute top-10 left-0 right-0 h-px border-t-2 border-dashed border-slate-100 -z-0"}),t.map((S,w)=>s.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center space-y-4 group",children:[s.jsx("div",{className:`w-20 h-20 rounded-[28px] flex items-center justify-center border-4 border-white shadow-xl transition-all ${S.status==="SUCCESS"?"bg-emerald-500 text-white":S.status==="RUNNING"?"bg-blue-500 text-white animate-pulse":S.status==="FAILED"?"bg-rose-500 text-white":"bg-slate-100 text-slate-300"}`,children:s.jsx("i",{"data-lucide":S.status==="SUCCESS"?"check":S.status==="RUNNING"?"loader-2":S.status==="FAILED"?"x":"clock",className:`w-8 h-8 ${S.status==="RUNNING"?"animate-spin":""}`})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-black text-slate-900 tracking-tight",children:S.name}),s.jsx("div",{className:"text-[9px] font-bold text-slate-400 uppercase",children:S.durationMs>0?`${(S.durationMs/1e3).toFixed(1)}s`:"Queued"})]}),s.jsxs("div",{className:"absolute top-24 scale-0 group-hover:scale-100 transition-all z-50 w-64 p-4 bg-slate-950 rounded-2xl shadow-2xl text-left border border-white/10",children:[s.jsx("div",{className:"text-[8px] font-black text-emerald-400 uppercase tracking-widest mb-2",children:"Build Logs"}),S.logs.map((j,T)=>s.jsx("div",{className:"text-[9px] font-mono text-slate-500 mb-1",children:j},T))]})]},S.id))]})]}),s.jsxs("div",{className:"bg-slate-950 p-10 rounded-[56px] text-white relative overflow-hidden shadow-2xl",children:[s.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-emerald-500/5 rounded-full blur-[120px] -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-12",children:[s.jsxs("div",{className:"flex-1 space-y-8",children:[s.jsxs("h3",{className:"text-2xl font-black tracking-tight flex items-center gap-3",children:[s.jsx("i",{"data-lucide":"zap",className:"w-6 h-6 text-emerald-400"}),"API Stress Monitor"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-6 bg-white/5 border border-white/10 rounded-3xl",children:[s.jsx("div",{className:"text-[10px] font-black uppercase opacity-40 mb-1",children:"Concurrent Users"}),s.jsx("div",{className:"text-4xl font-black text-white",children:o?.concurrentUsers.toLocaleString()}),s.jsx("div",{className:"mt-2 text-[9px] font-bold text-emerald-400",children:"Stable Node"})]}),s.jsxs("div",{className:"p-6 bg-white/5 border border-white/10 rounded-3xl",children:[s.jsx("div",{className:"text-[10px] font-black uppercase opacity-40 mb-1",children:"Error Frequency"}),s.jsxs("div",{className:"text-4xl font-black text-rose-400",children:[(o?.errorRate||0)*100,"%"]}),s.jsx("div",{className:"mt-2 text-[9px] font-bold text-rose-400",children:"Target: < 0.5%"})]})]}),s.jsxs("div",{className:"p-6 bg-white/5 border border-white/10 rounded-3xl space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase opacity-40",children:[s.jsx("span",{children:"Pod Resource Consumption"}),s.jsx("span",{children:"Auto-scaling: Enabled"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[s.jsx("span",{children:"CPU Usage"}),s.jsxs("span",{children:[o?.cpuUsage,"%"]})]}),s.jsx("div",{className:"w-full bg-white/10 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${o?.cpuUsage}%`}})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[s.jsx("span",{children:"RAM Allocation"}),s.jsxs("span",{children:[o?.memoryUsage,"%"]})]}),s.jsx("div",{className:"w-full bg-white/10 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500",style:{width:`${o?.memoryUsage}%`}})})]})]})]})]}),s.jsxs("div",{className:"md:w-1/3 flex flex-col justify-between border-l border-white/10 md:pl-12 pt-12 md:pt-0",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Regional Node Status"}),s.jsx("div",{className:"space-y-3",children:["MH-Mumbai-1","MH-Pune-1","KA-Bangalore-2"].map(S=>s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"font-bold",children:S}),s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse shadow-glow"})]},S))})]}),s.jsx("button",{className:"w-full mt-10 py-5 bg-white text-slate-950 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-emerald-400 transition-all shadow-xl",children:"Trigger Scalability Test"})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[s.jsxs("div",{className:"bg-white p-10 rounded-[48px] border border-slate-200 shadow-sm space-y-8",children:[s.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-2",children:"Code Test Coverage"}),s.jsxs("div",{className:"relative h-64",children:[s.jsx(Dt,{width:"100%",height:"100%",children:s.jsxs(Xw,{children:[s.jsx(wr,{data:N,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:8,dataKey:"value",children:N.map((S,w)=>s.jsx(Mr,{fill:S.color},`cell-${w}`))}),s.jsx(mt,{})]})}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[s.jsxs("div",{className:"text-3xl font-black text-slate-900",children:[n?.total,"%"]}),s.jsx("div",{className:"text-[8px] font-black text-slate-400 uppercase",children:"Avg Coverage"})]})]}),s.jsx("div",{className:"space-y-4",children:[{label:"Unit Tests",val:n?.unit,icon:"code",color:"text-blue-500"},{label:"Integration",val:n?.integration,icon:"layers",color:"text-purple-500"},{label:"E2E (Mobile)",val:n?.e2e,icon:"smartphone",color:"text-amber-500"}].map(S=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("i",{"data-lucide":S.icon,className:`w-4 h-4 ${S.color}`}),s.jsx("span",{className:"text-xs font-black text-slate-700",children:S.label})]}),s.jsxs("span",{className:"text-sm font-black text-slate-900",children:[S.val,"%"]})]},S.label))})]}),s.jsxs("div",{className:"bg-white p-10 rounded-[48px] border border-slate-200 shadow-sm space-y-8",children:[s.jsxs("div",{className:"flex justify-between items-center px-2",children:[s.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"UAT Beta Feedback"}),s.jsx("span",{className:"px-2 py-0.5 bg-blue-50 text-blue-600 rounded text-[8px] font-black uppercase",children:"Live Sync"})]}),s.jsx("div",{className:"space-y-6",children:i.map(S=>s.jsxs("div",{className:"space-y-3 p-6 bg-slate-50 rounded-[32px] border border-transparent hover:border-emerald-200 transition-all cursor-pointer",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-white flex items-center justify-center font-black text-[10px] text-slate-400 shadow-sm",children:S.userName.charAt(0)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-black text-slate-900",children:S.userName}),s.jsx("div",{className:"text-[8px] font-bold text-slate-400 uppercase",children:S.category})]})]}),s.jsx("div",{className:"flex text-amber-400",children:Array.from({length:S.rating}).map((w,j)=>s.jsx("i",{"data-lucide":"star",className:"w-2.5 h-2.5 fill-current"},j))})]}),s.jsxs("p",{className:"text-[10px] text-slate-500 leading-relaxed italic",children:['"',S.comment,'"']})]},S.id))}),s.jsx("button",{className:"w-full py-4 bg-slate-950 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-emerald-600 transition-all",children:"Full Survey Analytics"})]})]})]}),s.jsx("style",{children:`
        .animate-fade-in { animation: fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-slide-up { animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slide-up { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .shadow-glow { box-shadow: 0 0 10px rgba(16, 185, 129, 0.5); }
      `})]})},Pae=()=>{const{user:t,setUser:e,isLoading:n}=Vf(),[r,i]=R.useState(pe.DASHBOARD),[a,o]=R.useState(!1),[c,f]=R.useState(!1),[d,p]=R.useState(!1),[h,g]=R.useState(0);R.useEffect(()=>{t&&Ll.logEvent("view_change",{view:r,userId:t.userId})},[r,t]),R.useEffect(()=>{if(t){y();const w=setInterval(y,6e4);return()=>clearInterval(w)}},[t]);const y=async()=>{if(!t)return;const w=await Wl.getHistory(t.userId);w.success&&w.data&&g(w.data.filter(j=>!j.isRead).length)};if(R.useEffect(()=>{window.lucide&&window.lucide.createIcons()},[r,t,n,c,d,a]),n)return s.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"mt-8 text-xs font-black text-slate-400 uppercase tracking-[0.3em] animate-pulse",children:"Initializing Ecosystem..."})]});if(!t&&!a)return s.jsx(Nae,{onGetStarted:()=>o(!0),onLogin:()=>o(!0)});if(!t&&a)return s.jsx(xae,{onComplete:w=>{e(w),o(!1),localStorage.setItem("agri_smart_token","mock_token")}});const N=()=>{switch(r){case pe.DASHBOARD:return s.jsx(Vj,{});case pe.CROP_MANAGEMENT:return s.jsx(Rie,{});case pe.GRAPE_ADVISORY:return s.jsx(Fie,{});case pe.ONION_ADVISORY:return s.jsx(Bie,{});case pe.TOMATO_ADVISORY:return s.jsx(Gie,{});case pe.NUTRIENT_PLANNER:return s.jsx(zie,{});case pe.IPM_SCHEDULER:return s.jsx(Wie,{});case pe.MARKET_HUB:return s.jsx(Kie,{});case pe.MARKET_INTELLIGENCE:return s.jsx(Yie,{});case pe.HARVEST_OPTIMIZER:return s.jsx(Xie,{});case pe.COMMUNITY:return s.jsx(Zie,{});case pe.EXPERT_HUB:return s.jsx(tae,{});case pe.VOICE_ADVISOR:return s.jsx(nae,{user:t});case pe.SUCCESS_STORIES:return s.jsx(iae,{});case pe.GOVT_SCHEMES:return s.jsx(aae,{user:t});case pe.PRICE_ANALYTICS:return s.jsx(sae,{});case pe.PRICE_FORECAST:return s.jsx(lae,{});case pe.CROP_SCANNER:return s.jsx(eq,{});case pe.CLIMATE_INSIGHTS:return s.jsx(dae,{});case pe.PREDICTION:return s.jsx(pae,{});case pe.IRRIGATION:return s.jsx(hae,{});case pe.IMPACT:return s.jsx(mae,{});case pe.PROFILE:return s.jsx(yae,{user:t,onUpdate:e,setView:i});case pe.OFFLINE_SETTINGS:return s.jsx(jae,{});case pe.NOTIFICATION_SETTINGS:return s.jsx(kae,{});case pe.NOTIFICATION_DASHBOARD:return s.jsx(Aae,{});case pe.SYSTEM_JOBS:return s.jsx(Tae,{});case pe.ADMIN_ANALYTICS:return s.jsx(Eae,{});case pe.QA_DASHBOARD:return s.jsx(Cae,{});default:return s.jsx(Vj,{})}},S=[pe.CLIMATE_INSIGHTS,pe.PRICE_ANALYTICS,pe.SUCCESS_STORIES,pe.NOTIFICATION_DASHBOARD,pe.SYSTEM_JOBS,pe.ADMIN_ANALYTICS,pe.QA_DASHBOARD].includes(r);return s.jsxs("div",{className:"min-h-screen bg-[#f8fafc] flex flex-col selection:bg-emerald-100 selection:text-emerald-900 relative",children:[s.jsx(z4,{onOpenNotifications:()=>p(!0),unreadCount:h,setView:i}),s.jsxs("div",{className:"flex flex-1",children:[s.jsx(V4,{currentView:r,setView:i,isCollapsed:c,toggleCollapsed:()=>f(!c)}),s.jsxs("main",{className:`flex-1 flex flex-col min-w-0 transition-all ${c?"px-8 md:px-12":"px-6 md:px-10"} py-10`,children:[s.jsx("div",{className:`${S?"max-w-none":"max-w-[1400px]"} mx-auto w-full flex-1`,children:N()}),s.jsx(W4,{})]})]}),s.jsx(K4,{currentView:r,setView:i}),s.jsx(Sae,{userId:t.userId,isOpen:d,onClose:()=>{p(!1),g(0)}}),s.jsx(_ae,{}),[pe.DASHBOARD,pe.CROP_MANAGEMENT].includes(r)&&s.jsx("button",{onClick:()=>i(pe.CROP_SCANNER),className:"md:hidden fixed bottom-28 right-6 w-16 h-16 bg-emerald-600 text-white rounded-full shadow-2xl flex items-center justify-center z-50 hover:bg-emerald-700 transition-transform active:scale-90 border-4 border-white",children:s.jsx("i",{"data-lucide":"camera",className:"w-7 h-7"})})]})},Iae=()=>s.jsx(H4,{children:s.jsx(J4,{children:s.jsx(Pae,{})})}),L5=document.getElementById("root");if(!L5)throw new Error("Could not find root element to mount to");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});const Oae=G4.createRoot(L5);Oae.render(s.jsx(L.StrictMode,{children:s.jsx(Iae,{})}));
